var m4=Object.defineProperty;var g4=(n,e,t)=>e in n?m4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pl=(n,e,t)=>(g4(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var $1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var b4={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(typeof self<"u"?self:$1,function(){return function(){var t={d:function(c,p){for(var d in p)t.o(p,d)&&!t.o(c,d)&&Object.defineProperty(c,d,{enumerable:!0,get:p[d]})},o:function(c,p){return Object.prototype.hasOwnProperty.call(c,p)}},r={};t.d(r,{default:function(){return h4}});var i=function c(p,d){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var g,x,A="KaTeX parse error: "+p,R=d&&d.loc;if(R&&R.start<=R.end){var B=R.lexer.input;g=R.start,x=R.end,g===B.length?A+=" at end of input: ":A+=" at position "+(g+1)+": ";var V=B.slice(g,x).replace(/[^]/g,"$&̲");A+=(g>15?"…"+B.slice(g-15,g):B.slice(0,g))+V+(x+15<B.length?B.slice(x,x+15)+"…":B.slice(x))}var se=new Error(A);return se.name="ParseError",se.__proto__=c.prototype,se.position=g,g!=null&&x!=null&&(se.length=x-g),se.rawMessage=p,se};i.prototype.__proto__=Error.prototype;var s=i,l=/([A-Z])/g,o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},u=/[&><"']/g,a=function c(p){return p.type==="ordgroup"||p.type==="color"?p.body.length===1?c(p.body[0]):p:p.type==="font"?c(p.body):p},h={contains:function(c,p){return c.indexOf(p)!==-1},deflt:function(c,p){return c===void 0?p:c},escape:function(c){return String(c).replace(u,function(p){return o[p]})},hyphenate:function(c){return c.replace(l,"-$1").toLowerCase()},getBaseElem:a,isCharacterBox:function(c){var p=a(c);return p.type==="mathord"||p.type==="textord"||p.type==="atom"},protocolFromUrl:function(c){var p=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(c);return p!=null?p[1]:"_relative"}},f={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:function(c){return"#"+c}},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:function(c,p){return p.push(c),p}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:function(c){return Math.max(0,c)},cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:function(c){return Math.max(0,c)},cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:function(c){return Math.max(0,c)},cli:"-e, --max-expand <n>",cliProcessor:function(c){return c==="Infinity"?1/0:parseInt(c)}},globalGroup:{type:"boolean",cli:!1}};function v(c){if(c.default)return c.default;var p=c.type,d=Array.isArray(p)?p[0]:p;if(typeof d!="string")return d.enum[0];switch(d){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}var m=function(){function c(d){for(var g in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,d=d||{},f)if(f.hasOwnProperty(g)){var x=f[g];this[g]=d[g]!==void 0?x.processor?x.processor(d[g]):d[g]:v(x)}}var p=c.prototype;return p.reportNonstrict=function(d,g,x){var A=this.strict;if(typeof A=="function"&&(A=A(d,g,x)),A&&A!=="ignore"){if(A===!0||A==="error")throw new s("LaTeX-incompatible input and strict mode is set to 'error': "+g+" ["+d+"]",x);A==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+g+" ["+d+"]"):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+A+"': "+g+" ["+d+"]")}},p.useStrictBehavior=function(d,g,x){var A=this.strict;if(typeof A=="function")try{A=A(d,g,x)}catch{A="error"}return!(!A||A==="ignore")&&(A===!0||A==="error"||(A==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+g+" ["+d+"]"),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+A+"': "+g+" ["+d+"]"),!1)))},p.isTrusted=function(d){d.url&&!d.protocol&&(d.protocol=h.protocolFromUrl(d.url));var g=typeof this.trust=="function"?this.trust(d):this.trust;return!!g},c}(),b=function(){function c(d,g,x){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=d,this.size=g,this.cramped=x}var p=c.prototype;return p.sup=function(){return _[E[this.id]]},p.sub=function(){return _[S[this.id]]},p.fracNum=function(){return _[N[this.id]]},p.fracDen=function(){return _[D[this.id]]},p.cramp=function(){return _[F[this.id]]},p.text=function(){return _[X[this.id]]},p.isTight=function(){return this.size>=2},c}(),_=[new b(0,0,!1),new b(1,0,!0),new b(2,1,!1),new b(3,1,!0),new b(4,2,!1),new b(5,2,!0),new b(6,3,!1),new b(7,3,!0)],E=[4,5,4,5,6,7,6,7],S=[5,5,5,5,7,7,7,7],N=[2,3,4,5,6,7,6,7],D=[3,3,5,5,7,7,7,7],F=[1,1,3,3,5,5,7,7],X=[0,1,2,3,2,3,2,3],j={DISPLAY:_[0],TEXT:_[2],SCRIPT:_[4],SCRIPTSCRIPT:_[6]},Y=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],ae=[];function $(c){for(var p=0;p<ae.length;p+=2)if(c>=ae[p]&&c<=ae[p+1])return!0;return!1}Y.forEach(function(c){return c.blocks.forEach(function(p){return ae.push.apply(ae,p)})});var k=80,L={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},z=function(){function c(d){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=d,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var p=c.prototype;return p.hasClass=function(d){return h.contains(this.classes,d)},p.toNode=function(){for(var d=document.createDocumentFragment(),g=0;g<this.children.length;g++)d.appendChild(this.children[g].toNode());return d},p.toMarkup=function(){for(var d="",g=0;g<this.children.length;g++)d+=this.children[g].toMarkup();return d},p.toText=function(){var d=function(g){return g.toText()};return this.children.map(d).join("")},c}(),Q={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},G={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},oe={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function ce(c,p,d){if(!Q[p])throw new Error("Font metrics not found for font: "+p+".");var g=c.charCodeAt(0),x=Q[p][g];if(!x&&c[0]in oe&&(g=oe[c[0]].charCodeAt(0),x=Q[p][g]),x||d!=="text"||$(g)&&(x=Q[p][77]),x)return{depth:x[0],height:x[1],italic:x[2],skew:x[3],width:x[4]}}var be={},Ne=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],$e=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Re=function(c,p){return p.size<2?c:Ne[c-1][p.size-1]},ge=function(){function c(d){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=d.style,this.color=d.color,this.size=d.size||c.BASESIZE,this.textSize=d.textSize||this.size,this.phantom=!!d.phantom,this.font=d.font||"",this.fontFamily=d.fontFamily||"",this.fontWeight=d.fontWeight||"",this.fontShape=d.fontShape||"",this.sizeMultiplier=$e[this.size-1],this.maxSize=d.maxSize,this.minRuleThickness=d.minRuleThickness,this._fontMetrics=void 0}var p=c.prototype;return p.extend=function(d){var g={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var x in d)d.hasOwnProperty(x)&&(g[x]=d[x]);return new c(g)},p.havingStyle=function(d){return this.style===d?this:this.extend({style:d,size:Re(this.textSize,d)})},p.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},p.havingSize=function(d){return this.size===d&&this.textSize===d?this:this.extend({style:this.style.text(),size:d,textSize:d,sizeMultiplier:$e[d-1]})},p.havingBaseStyle=function(d){d=d||this.style.text();var g=Re(c.BASESIZE,d);return this.size===g&&this.textSize===c.BASESIZE&&this.style===d?this:this.extend({style:d,size:g})},p.havingBaseSizing=function(){var d;switch(this.style.id){case 4:case 5:d=3;break;case 6:case 7:d=1;break;default:d=6}return this.extend({style:this.style.text(),size:d})},p.withColor=function(d){return this.extend({color:d})},p.withPhantom=function(){return this.extend({phantom:!0})},p.withFont=function(d){return this.extend({font:d})},p.withTextFontFamily=function(d){return this.extend({fontFamily:d,font:""})},p.withTextFontWeight=function(d){return this.extend({fontWeight:d,font:""})},p.withTextFontShape=function(d){return this.extend({fontShape:d,font:""})},p.sizingClasses=function(d){return d.size!==this.size?["sizing","reset-size"+d.size,"size"+this.size]:[]},p.baseSizingClasses=function(){return this.size!==c.BASESIZE?["sizing","reset-size"+this.size,"size"+c.BASESIZE]:[]},p.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(d){var g;if(!be[g=d>=5?0:d>=3?1:2]){var x=be[g]={cssEmPerMu:G.quad[g]/18};for(var A in G)G.hasOwnProperty(A)&&(x[A]=G[A][g])}return be[g]}(this.size)),this._fontMetrics},p.getColor=function(){return this.phantom?"transparent":this.color},c}();ge.BASESIZE=6;var we=ge,He={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Je={ex:!0,em:!0,mu:!0},ke=function(c){return typeof c!="string"&&(c=c.unit),c in He||c in Je||c==="ex"},H=function(c,p){var d;if(c.unit in He)d=He[c.unit]/p.fontMetrics().ptPerEm/p.sizeMultiplier;else if(c.unit==="mu")d=p.fontMetrics().cssEmPerMu;else{var g;if(g=p.style.isTight()?p.havingStyle(p.style.text()):p,c.unit==="ex")d=g.fontMetrics().xHeight;else{if(c.unit!=="em")throw new s("Invalid unit: '"+c.unit+"'");d=g.fontMetrics().quad}g!==p&&(d*=g.sizeMultiplier/p.sizeMultiplier)}return Math.min(c.number*d,p.maxSize)},K=function(c){return+c.toFixed(4)+"em"},fe=function(c){return c.filter(function(p){return p}).join(" ")},xe=function(c,p,d){if(this.classes=c||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=d||{},p){p.style.isTight()&&this.classes.push("mtight");var g=p.getColor();g&&(this.style.color=g)}},Ge=function(c){var p=document.createElement(c);for(var d in p.className=fe(this.classes),this.style)this.style.hasOwnProperty(d)&&(p.style[d]=this.style[d]);for(var g in this.attributes)this.attributes.hasOwnProperty(g)&&p.setAttribute(g,this.attributes[g]);for(var x=0;x<this.children.length;x++)p.appendChild(this.children[x].toNode());return p},Ee=function(c){var p="<"+c;this.classes.length&&(p+=' class="'+h.escape(fe(this.classes))+'"');var d="";for(var g in this.style)this.style.hasOwnProperty(g)&&(d+=h.hyphenate(g)+":"+this.style[g]+";");for(var x in d&&(p+=' style="'+h.escape(d)+'"'),this.attributes)this.attributes.hasOwnProperty(x)&&(p+=" "+x+'="'+h.escape(this.attributes[x])+'"');p+=">";for(var A=0;A<this.children.length;A++)p+=this.children[A].toMarkup();return p+="</"+c+">"},ue=function(){function c(d,g,x,A){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,xe.call(this,d,x,A),this.children=g||[]}var p=c.prototype;return p.setAttribute=function(d,g){this.attributes[d]=g},p.hasClass=function(d){return h.contains(this.classes,d)},p.toNode=function(){return Ge.call(this,"span")},p.toMarkup=function(){return Ee.call(this,"span")},c}(),Ue=function(){function c(d,g,x,A){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,xe.call(this,g,A),this.children=x||[],this.setAttribute("href",d)}var p=c.prototype;return p.setAttribute=function(d,g){this.attributes[d]=g},p.hasClass=function(d){return h.contains(this.classes,d)},p.toNode=function(){return Ge.call(this,"a")},p.toMarkup=function(){return Ee.call(this,"a")},c}(),Pe=function(){function c(d,g,x){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=g,this.src=d,this.classes=["mord"],this.style=x}var p=c.prototype;return p.hasClass=function(d){return h.contains(this.classes,d)},p.toNode=function(){var d=document.createElement("img");for(var g in d.src=this.src,d.alt=this.alt,d.className="mord",this.style)this.style.hasOwnProperty(g)&&(d.style[g]=this.style[g]);return d},p.toMarkup=function(){var d="<img  src='"+this.src+" 'alt='"+this.alt+"' ",g="";for(var x in this.style)this.style.hasOwnProperty(x)&&(g+=h.hyphenate(x)+":"+this.style[x]+";");return g&&(d+=' style="'+h.escape(g)+'"'),d+="'/>"},c}(),ot={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"},ze=function(){function c(d,g,x,A,R,B,V,se){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=d,this.height=g||0,this.depth=x||0,this.italic=A||0,this.skew=R||0,this.width=B||0,this.classes=V||[],this.style=se||{},this.maxFontSize=0;var ve=function(Te){for(var me=0;me<Y.length;me++)for(var De=Y[me],et=0;et<De.blocks.length;et++){var tt=De.blocks[et];if(Te>=tt[0]&&Te<=tt[1])return De.name}return null}(this.text.charCodeAt(0));ve&&this.classes.push(ve+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=ot[this.text])}var p=c.prototype;return p.hasClass=function(d){return h.contains(this.classes,d)},p.toNode=function(){var d=document.createTextNode(this.text),g=null;for(var x in this.italic>0&&((g=document.createElement("span")).style.marginRight=K(this.italic)),this.classes.length>0&&((g=g||document.createElement("span")).className=fe(this.classes)),this.style)this.style.hasOwnProperty(x)&&((g=g||document.createElement("span")).style[x]=this.style[x]);return g?(g.appendChild(d),g):d},p.toMarkup=function(){var d=!1,g="<span";this.classes.length&&(d=!0,g+=' class="',g+=h.escape(fe(this.classes)),g+='"');var x="";for(var A in this.italic>0&&(x+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(A)&&(x+=h.hyphenate(A)+":"+this.style[A]+";");x&&(d=!0,g+=' style="'+h.escape(x)+'"');var R=h.escape(this.text);return d?(g+=">",g+=R,g+="</span>"):R},c}(),Oe=function(){function c(d,g){this.children=void 0,this.attributes=void 0,this.children=d||[],this.attributes=g||{}}var p=c.prototype;return p.toNode=function(){var d=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&d.setAttribute(g,this.attributes[g]);for(var x=0;x<this.children.length;x++)d.appendChild(this.children[x].toNode());return d},p.toMarkup=function(){var d='<svg xmlns="http://www.w3.org/2000/svg"';for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&(d+=" "+g+"='"+this.attributes[g]+"'");d+=">";for(var x=0;x<this.children.length;x++)d+=this.children[x].toMarkup();return d+="</svg>"},c}(),Ye=function(){function c(d,g){this.pathName=void 0,this.alternate=void 0,this.pathName=d,this.alternate=g}var p=c.prototype;return p.toNode=function(){var d=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?d.setAttribute("d",this.alternate):d.setAttribute("d",L[this.pathName]),d},p.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+L[this.pathName]+"'/>"},c}(),it=function(){function c(d){this.attributes=void 0,this.attributes=d||{}}var p=c.prototype;return p.toNode=function(){var d=document.createElementNS("http://www.w3.org/2000/svg","line");for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&d.setAttribute(g,this.attributes[g]);return d},p.toMarkup=function(){var d="<line";for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&(d+=" "+g+"='"+this.attributes[g]+"'");return d+="/>"},c}();function gt(c){if(c instanceof ze)return c;throw new Error("Expected symbolNode but got "+String(c)+".")}var Yt={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Kt={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ee={math:{},text:{}},O=ee;function y(c,p,d,g,x,A){ee[c][x]={font:p,group:d,replace:g},A&&g&&(ee[c][g]=ee[c][x])}var M="math",he="text",C="main",W="ams",Ie="accent-token",Ae="bin",ie="close",qe="inner",_e="mathord",ct="op-token",lt="open",mt="punct",q="rel",re="spacing",Z="textord";y(M,C,q,"≡","\\equiv",!0),y(M,C,q,"≺","\\prec",!0),y(M,C,q,"≻","\\succ",!0),y(M,C,q,"∼","\\sim",!0),y(M,C,q,"⊥","\\perp"),y(M,C,q,"⪯","\\preceq",!0),y(M,C,q,"⪰","\\succeq",!0),y(M,C,q,"≃","\\simeq",!0),y(M,C,q,"∣","\\mid",!0),y(M,C,q,"≪","\\ll",!0),y(M,C,q,"≫","\\gg",!0),y(M,C,q,"≍","\\asymp",!0),y(M,C,q,"∥","\\parallel"),y(M,C,q,"⋈","\\bowtie",!0),y(M,C,q,"⌣","\\smile",!0),y(M,C,q,"⊑","\\sqsubseteq",!0),y(M,C,q,"⊒","\\sqsupseteq",!0),y(M,C,q,"≐","\\doteq",!0),y(M,C,q,"⌢","\\frown",!0),y(M,C,q,"∋","\\ni",!0),y(M,C,q,"∝","\\propto",!0),y(M,C,q,"⊢","\\vdash",!0),y(M,C,q,"⊣","\\dashv",!0),y(M,C,q,"∋","\\owns"),y(M,C,mt,".","\\ldotp"),y(M,C,mt,"⋅","\\cdotp"),y(M,C,Z,"#","\\#"),y(he,C,Z,"#","\\#"),y(M,C,Z,"&","\\&"),y(he,C,Z,"&","\\&"),y(M,C,Z,"ℵ","\\aleph",!0),y(M,C,Z,"∀","\\forall",!0),y(M,C,Z,"ℏ","\\hbar",!0),y(M,C,Z,"∃","\\exists",!0),y(M,C,Z,"∇","\\nabla",!0),y(M,C,Z,"♭","\\flat",!0),y(M,C,Z,"ℓ","\\ell",!0),y(M,C,Z,"♮","\\natural",!0),y(M,C,Z,"♣","\\clubsuit",!0),y(M,C,Z,"℘","\\wp",!0),y(M,C,Z,"♯","\\sharp",!0),y(M,C,Z,"♢","\\diamondsuit",!0),y(M,C,Z,"ℜ","\\Re",!0),y(M,C,Z,"♡","\\heartsuit",!0),y(M,C,Z,"ℑ","\\Im",!0),y(M,C,Z,"♠","\\spadesuit",!0),y(M,C,Z,"§","\\S",!0),y(he,C,Z,"§","\\S"),y(M,C,Z,"¶","\\P",!0),y(he,C,Z,"¶","\\P"),y(M,C,Z,"†","\\dag"),y(he,C,Z,"†","\\dag"),y(he,C,Z,"†","\\textdagger"),y(M,C,Z,"‡","\\ddag"),y(he,C,Z,"‡","\\ddag"),y(he,C,Z,"‡","\\textdaggerdbl"),y(M,C,ie,"⎱","\\rmoustache",!0),y(M,C,lt,"⎰","\\lmoustache",!0),y(M,C,ie,"⟯","\\rgroup",!0),y(M,C,lt,"⟮","\\lgroup",!0),y(M,C,Ae,"∓","\\mp",!0),y(M,C,Ae,"⊖","\\ominus",!0),y(M,C,Ae,"⊎","\\uplus",!0),y(M,C,Ae,"⊓","\\sqcap",!0),y(M,C,Ae,"∗","\\ast"),y(M,C,Ae,"⊔","\\sqcup",!0),y(M,C,Ae,"◯","\\bigcirc",!0),y(M,C,Ae,"∙","\\bullet",!0),y(M,C,Ae,"‡","\\ddagger"),y(M,C,Ae,"≀","\\wr",!0),y(M,C,Ae,"⨿","\\amalg"),y(M,C,Ae,"&","\\And"),y(M,C,q,"⟵","\\longleftarrow",!0),y(M,C,q,"⇐","\\Leftarrow",!0),y(M,C,q,"⟸","\\Longleftarrow",!0),y(M,C,q,"⟶","\\longrightarrow",!0),y(M,C,q,"⇒","\\Rightarrow",!0),y(M,C,q,"⟹","\\Longrightarrow",!0),y(M,C,q,"↔","\\leftrightarrow",!0),y(M,C,q,"⟷","\\longleftrightarrow",!0),y(M,C,q,"⇔","\\Leftrightarrow",!0),y(M,C,q,"⟺","\\Longleftrightarrow",!0),y(M,C,q,"↦","\\mapsto",!0),y(M,C,q,"⟼","\\longmapsto",!0),y(M,C,q,"↗","\\nearrow",!0),y(M,C,q,"↩","\\hookleftarrow",!0),y(M,C,q,"↪","\\hookrightarrow",!0),y(M,C,q,"↘","\\searrow",!0),y(M,C,q,"↼","\\leftharpoonup",!0),y(M,C,q,"⇀","\\rightharpoonup",!0),y(M,C,q,"↙","\\swarrow",!0),y(M,C,q,"↽","\\leftharpoondown",!0),y(M,C,q,"⇁","\\rightharpoondown",!0),y(M,C,q,"↖","\\nwarrow",!0),y(M,C,q,"⇌","\\rightleftharpoons",!0),y(M,W,q,"≮","\\nless",!0),y(M,W,q,"","\\@nleqslant"),y(M,W,q,"","\\@nleqq"),y(M,W,q,"⪇","\\lneq",!0),y(M,W,q,"≨","\\lneqq",!0),y(M,W,q,"","\\@lvertneqq"),y(M,W,q,"⋦","\\lnsim",!0),y(M,W,q,"⪉","\\lnapprox",!0),y(M,W,q,"⊀","\\nprec",!0),y(M,W,q,"⋠","\\npreceq",!0),y(M,W,q,"⋨","\\precnsim",!0),y(M,W,q,"⪹","\\precnapprox",!0),y(M,W,q,"≁","\\nsim",!0),y(M,W,q,"","\\@nshortmid"),y(M,W,q,"∤","\\nmid",!0),y(M,W,q,"⊬","\\nvdash",!0),y(M,W,q,"⊭","\\nvDash",!0),y(M,W,q,"⋪","\\ntriangleleft"),y(M,W,q,"⋬","\\ntrianglelefteq",!0),y(M,W,q,"⊊","\\subsetneq",!0),y(M,W,q,"","\\@varsubsetneq"),y(M,W,q,"⫋","\\subsetneqq",!0),y(M,W,q,"","\\@varsubsetneqq"),y(M,W,q,"≯","\\ngtr",!0),y(M,W,q,"","\\@ngeqslant"),y(M,W,q,"","\\@ngeqq"),y(M,W,q,"⪈","\\gneq",!0),y(M,W,q,"≩","\\gneqq",!0),y(M,W,q,"","\\@gvertneqq"),y(M,W,q,"⋧","\\gnsim",!0),y(M,W,q,"⪊","\\gnapprox",!0),y(M,W,q,"⊁","\\nsucc",!0),y(M,W,q,"⋡","\\nsucceq",!0),y(M,W,q,"⋩","\\succnsim",!0),y(M,W,q,"⪺","\\succnapprox",!0),y(M,W,q,"≆","\\ncong",!0),y(M,W,q,"","\\@nshortparallel"),y(M,W,q,"∦","\\nparallel",!0),y(M,W,q,"⊯","\\nVDash",!0),y(M,W,q,"⋫","\\ntriangleright"),y(M,W,q,"⋭","\\ntrianglerighteq",!0),y(M,W,q,"","\\@nsupseteqq"),y(M,W,q,"⊋","\\supsetneq",!0),y(M,W,q,"","\\@varsupsetneq"),y(M,W,q,"⫌","\\supsetneqq",!0),y(M,W,q,"","\\@varsupsetneqq"),y(M,W,q,"⊮","\\nVdash",!0),y(M,W,q,"⪵","\\precneqq",!0),y(M,W,q,"⪶","\\succneqq",!0),y(M,W,q,"","\\@nsubseteqq"),y(M,W,Ae,"⊴","\\unlhd"),y(M,W,Ae,"⊵","\\unrhd"),y(M,W,q,"↚","\\nleftarrow",!0),y(M,W,q,"↛","\\nrightarrow",!0),y(M,W,q,"⇍","\\nLeftarrow",!0),y(M,W,q,"⇏","\\nRightarrow",!0),y(M,W,q,"↮","\\nleftrightarrow",!0),y(M,W,q,"⇎","\\nLeftrightarrow",!0),y(M,W,q,"△","\\vartriangle"),y(M,W,Z,"ℏ","\\hslash"),y(M,W,Z,"▽","\\triangledown"),y(M,W,Z,"◊","\\lozenge"),y(M,W,Z,"Ⓢ","\\circledS"),y(M,W,Z,"®","\\circledR"),y(he,W,Z,"®","\\circledR"),y(M,W,Z,"∡","\\measuredangle",!0),y(M,W,Z,"∄","\\nexists"),y(M,W,Z,"℧","\\mho"),y(M,W,Z,"Ⅎ","\\Finv",!0),y(M,W,Z,"⅁","\\Game",!0),y(M,W,Z,"‵","\\backprime"),y(M,W,Z,"▲","\\blacktriangle"),y(M,W,Z,"▼","\\blacktriangledown"),y(M,W,Z,"■","\\blacksquare"),y(M,W,Z,"⧫","\\blacklozenge"),y(M,W,Z,"★","\\bigstar"),y(M,W,Z,"∢","\\sphericalangle",!0),y(M,W,Z,"∁","\\complement",!0),y(M,W,Z,"ð","\\eth",!0),y(he,C,Z,"ð","ð"),y(M,W,Z,"╱","\\diagup"),y(M,W,Z,"╲","\\diagdown"),y(M,W,Z,"□","\\square"),y(M,W,Z,"□","\\Box"),y(M,W,Z,"◊","\\Diamond"),y(M,W,Z,"¥","\\yen",!0),y(he,W,Z,"¥","\\yen",!0),y(M,W,Z,"✓","\\checkmark",!0),y(he,W,Z,"✓","\\checkmark"),y(M,W,Z,"ℶ","\\beth",!0),y(M,W,Z,"ℸ","\\daleth",!0),y(M,W,Z,"ℷ","\\gimel",!0),y(M,W,Z,"ϝ","\\digamma",!0),y(M,W,Z,"ϰ","\\varkappa"),y(M,W,lt,"┌","\\@ulcorner",!0),y(M,W,ie,"┐","\\@urcorner",!0),y(M,W,lt,"└","\\@llcorner",!0),y(M,W,ie,"┘","\\@lrcorner",!0),y(M,W,q,"≦","\\leqq",!0),y(M,W,q,"⩽","\\leqslant",!0),y(M,W,q,"⪕","\\eqslantless",!0),y(M,W,q,"≲","\\lesssim",!0),y(M,W,q,"⪅","\\lessapprox",!0),y(M,W,q,"≊","\\approxeq",!0),y(M,W,Ae,"⋖","\\lessdot"),y(M,W,q,"⋘","\\lll",!0),y(M,W,q,"≶","\\lessgtr",!0),y(M,W,q,"⋚","\\lesseqgtr",!0),y(M,W,q,"⪋","\\lesseqqgtr",!0),y(M,W,q,"≑","\\doteqdot"),y(M,W,q,"≓","\\risingdotseq",!0),y(M,W,q,"≒","\\fallingdotseq",!0),y(M,W,q,"∽","\\backsim",!0),y(M,W,q,"⋍","\\backsimeq",!0),y(M,W,q,"⫅","\\subseteqq",!0),y(M,W,q,"⋐","\\Subset",!0),y(M,W,q,"⊏","\\sqsubset",!0),y(M,W,q,"≼","\\preccurlyeq",!0),y(M,W,q,"⋞","\\curlyeqprec",!0),y(M,W,q,"≾","\\precsim",!0),y(M,W,q,"⪷","\\precapprox",!0),y(M,W,q,"⊲","\\vartriangleleft"),y(M,W,q,"⊴","\\trianglelefteq"),y(M,W,q,"⊨","\\vDash",!0),y(M,W,q,"⊪","\\Vvdash",!0),y(M,W,q,"⌣","\\smallsmile"),y(M,W,q,"⌢","\\smallfrown"),y(M,W,q,"≏","\\bumpeq",!0),y(M,W,q,"≎","\\Bumpeq",!0),y(M,W,q,"≧","\\geqq",!0),y(M,W,q,"⩾","\\geqslant",!0),y(M,W,q,"⪖","\\eqslantgtr",!0),y(M,W,q,"≳","\\gtrsim",!0),y(M,W,q,"⪆","\\gtrapprox",!0),y(M,W,Ae,"⋗","\\gtrdot"),y(M,W,q,"⋙","\\ggg",!0),y(M,W,q,"≷","\\gtrless",!0),y(M,W,q,"⋛","\\gtreqless",!0),y(M,W,q,"⪌","\\gtreqqless",!0),y(M,W,q,"≖","\\eqcirc",!0),y(M,W,q,"≗","\\circeq",!0),y(M,W,q,"≜","\\triangleq",!0),y(M,W,q,"∼","\\thicksim"),y(M,W,q,"≈","\\thickapprox"),y(M,W,q,"⫆","\\supseteqq",!0),y(M,W,q,"⋑","\\Supset",!0),y(M,W,q,"⊐","\\sqsupset",!0),y(M,W,q,"≽","\\succcurlyeq",!0),y(M,W,q,"⋟","\\curlyeqsucc",!0),y(M,W,q,"≿","\\succsim",!0),y(M,W,q,"⪸","\\succapprox",!0),y(M,W,q,"⊳","\\vartriangleright"),y(M,W,q,"⊵","\\trianglerighteq"),y(M,W,q,"⊩","\\Vdash",!0),y(M,W,q,"∣","\\shortmid"),y(M,W,q,"∥","\\shortparallel"),y(M,W,q,"≬","\\between",!0),y(M,W,q,"⋔","\\pitchfork",!0),y(M,W,q,"∝","\\varpropto"),y(M,W,q,"◀","\\blacktriangleleft"),y(M,W,q,"∴","\\therefore",!0),y(M,W,q,"∍","\\backepsilon"),y(M,W,q,"▶","\\blacktriangleright"),y(M,W,q,"∵","\\because",!0),y(M,W,q,"⋘","\\llless"),y(M,W,q,"⋙","\\gggtr"),y(M,W,Ae,"⊲","\\lhd"),y(M,W,Ae,"⊳","\\rhd"),y(M,W,q,"≂","\\eqsim",!0),y(M,C,q,"⋈","\\Join"),y(M,W,q,"≑","\\Doteq",!0),y(M,W,Ae,"∔","\\dotplus",!0),y(M,W,Ae,"∖","\\smallsetminus"),y(M,W,Ae,"⋒","\\Cap",!0),y(M,W,Ae,"⋓","\\Cup",!0),y(M,W,Ae,"⩞","\\doublebarwedge",!0),y(M,W,Ae,"⊟","\\boxminus",!0),y(M,W,Ae,"⊞","\\boxplus",!0),y(M,W,Ae,"⋇","\\divideontimes",!0),y(M,W,Ae,"⋉","\\ltimes",!0),y(M,W,Ae,"⋊","\\rtimes",!0),y(M,W,Ae,"⋋","\\leftthreetimes",!0),y(M,W,Ae,"⋌","\\rightthreetimes",!0),y(M,W,Ae,"⋏","\\curlywedge",!0),y(M,W,Ae,"⋎","\\curlyvee",!0),y(M,W,Ae,"⊝","\\circleddash",!0),y(M,W,Ae,"⊛","\\circledast",!0),y(M,W,Ae,"⋅","\\centerdot"),y(M,W,Ae,"⊺","\\intercal",!0),y(M,W,Ae,"⋒","\\doublecap"),y(M,W,Ae,"⋓","\\doublecup"),y(M,W,Ae,"⊠","\\boxtimes",!0),y(M,W,q,"⇢","\\dashrightarrow",!0),y(M,W,q,"⇠","\\dashleftarrow",!0),y(M,W,q,"⇇","\\leftleftarrows",!0),y(M,W,q,"⇆","\\leftrightarrows",!0),y(M,W,q,"⇚","\\Lleftarrow",!0),y(M,W,q,"↞","\\twoheadleftarrow",!0),y(M,W,q,"↢","\\leftarrowtail",!0),y(M,W,q,"↫","\\looparrowleft",!0),y(M,W,q,"⇋","\\leftrightharpoons",!0),y(M,W,q,"↶","\\curvearrowleft",!0),y(M,W,q,"↺","\\circlearrowleft",!0),y(M,W,q,"↰","\\Lsh",!0),y(M,W,q,"⇈","\\upuparrows",!0),y(M,W,q,"↿","\\upharpoonleft",!0),y(M,W,q,"⇃","\\downharpoonleft",!0),y(M,C,q,"⊶","\\origof",!0),y(M,C,q,"⊷","\\imageof",!0),y(M,W,q,"⊸","\\multimap",!0),y(M,W,q,"↭","\\leftrightsquigarrow",!0),y(M,W,q,"⇉","\\rightrightarrows",!0),y(M,W,q,"⇄","\\rightleftarrows",!0),y(M,W,q,"↠","\\twoheadrightarrow",!0),y(M,W,q,"↣","\\rightarrowtail",!0),y(M,W,q,"↬","\\looparrowright",!0),y(M,W,q,"↷","\\curvearrowright",!0),y(M,W,q,"↻","\\circlearrowright",!0),y(M,W,q,"↱","\\Rsh",!0),y(M,W,q,"⇊","\\downdownarrows",!0),y(M,W,q,"↾","\\upharpoonright",!0),y(M,W,q,"⇂","\\downharpoonright",!0),y(M,W,q,"⇝","\\rightsquigarrow",!0),y(M,W,q,"⇝","\\leadsto"),y(M,W,q,"⇛","\\Rrightarrow",!0),y(M,W,q,"↾","\\restriction"),y(M,C,Z,"‘","`"),y(M,C,Z,"$","\\$"),y(he,C,Z,"$","\\$"),y(he,C,Z,"$","\\textdollar"),y(M,C,Z,"%","\\%"),y(he,C,Z,"%","\\%"),y(M,C,Z,"_","\\_"),y(he,C,Z,"_","\\_"),y(he,C,Z,"_","\\textunderscore"),y(M,C,Z,"∠","\\angle",!0),y(M,C,Z,"∞","\\infty",!0),y(M,C,Z,"′","\\prime"),y(M,C,Z,"△","\\triangle"),y(M,C,Z,"Γ","\\Gamma",!0),y(M,C,Z,"Δ","\\Delta",!0),y(M,C,Z,"Θ","\\Theta",!0),y(M,C,Z,"Λ","\\Lambda",!0),y(M,C,Z,"Ξ","\\Xi",!0),y(M,C,Z,"Π","\\Pi",!0),y(M,C,Z,"Σ","\\Sigma",!0),y(M,C,Z,"Υ","\\Upsilon",!0),y(M,C,Z,"Φ","\\Phi",!0),y(M,C,Z,"Ψ","\\Psi",!0),y(M,C,Z,"Ω","\\Omega",!0),y(M,C,Z,"A","Α"),y(M,C,Z,"B","Β"),y(M,C,Z,"E","Ε"),y(M,C,Z,"Z","Ζ"),y(M,C,Z,"H","Η"),y(M,C,Z,"I","Ι"),y(M,C,Z,"K","Κ"),y(M,C,Z,"M","Μ"),y(M,C,Z,"N","Ν"),y(M,C,Z,"O","Ο"),y(M,C,Z,"P","Ρ"),y(M,C,Z,"T","Τ"),y(M,C,Z,"X","Χ"),y(M,C,Z,"¬","\\neg",!0),y(M,C,Z,"¬","\\lnot"),y(M,C,Z,"⊤","\\top"),y(M,C,Z,"⊥","\\bot"),y(M,C,Z,"∅","\\emptyset"),y(M,W,Z,"∅","\\varnothing"),y(M,C,_e,"α","\\alpha",!0),y(M,C,_e,"β","\\beta",!0),y(M,C,_e,"γ","\\gamma",!0),y(M,C,_e,"δ","\\delta",!0),y(M,C,_e,"ϵ","\\epsilon",!0),y(M,C,_e,"ζ","\\zeta",!0),y(M,C,_e,"η","\\eta",!0),y(M,C,_e,"θ","\\theta",!0),y(M,C,_e,"ι","\\iota",!0),y(M,C,_e,"κ","\\kappa",!0),y(M,C,_e,"λ","\\lambda",!0),y(M,C,_e,"μ","\\mu",!0),y(M,C,_e,"ν","\\nu",!0),y(M,C,_e,"ξ","\\xi",!0),y(M,C,_e,"ο","\\omicron",!0),y(M,C,_e,"π","\\pi",!0),y(M,C,_e,"ρ","\\rho",!0),y(M,C,_e,"σ","\\sigma",!0),y(M,C,_e,"τ","\\tau",!0),y(M,C,_e,"υ","\\upsilon",!0),y(M,C,_e,"ϕ","\\phi",!0),y(M,C,_e,"χ","\\chi",!0),y(M,C,_e,"ψ","\\psi",!0),y(M,C,_e,"ω","\\omega",!0),y(M,C,_e,"ε","\\varepsilon",!0),y(M,C,_e,"ϑ","\\vartheta",!0),y(M,C,_e,"ϖ","\\varpi",!0),y(M,C,_e,"ϱ","\\varrho",!0),y(M,C,_e,"ς","\\varsigma",!0),y(M,C,_e,"φ","\\varphi",!0),y(M,C,Ae,"∗","*",!0),y(M,C,Ae,"+","+"),y(M,C,Ae,"−","-",!0),y(M,C,Ae,"⋅","\\cdot",!0),y(M,C,Ae,"∘","\\circ",!0),y(M,C,Ae,"÷","\\div",!0),y(M,C,Ae,"±","\\pm",!0),y(M,C,Ae,"×","\\times",!0),y(M,C,Ae,"∩","\\cap",!0),y(M,C,Ae,"∪","\\cup",!0),y(M,C,Ae,"∖","\\setminus",!0),y(M,C,Ae,"∧","\\land"),y(M,C,Ae,"∨","\\lor"),y(M,C,Ae,"∧","\\wedge",!0),y(M,C,Ae,"∨","\\vee",!0),y(M,C,Z,"√","\\surd"),y(M,C,lt,"⟨","\\langle",!0),y(M,C,lt,"∣","\\lvert"),y(M,C,lt,"∥","\\lVert"),y(M,C,ie,"?","?"),y(M,C,ie,"!","!"),y(M,C,ie,"⟩","\\rangle",!0),y(M,C,ie,"∣","\\rvert"),y(M,C,ie,"∥","\\rVert"),y(M,C,q,"=","="),y(M,C,q,":",":"),y(M,C,q,"≈","\\approx",!0),y(M,C,q,"≅","\\cong",!0),y(M,C,q,"≥","\\ge"),y(M,C,q,"≥","\\geq",!0),y(M,C,q,"←","\\gets"),y(M,C,q,">","\\gt",!0),y(M,C,q,"∈","\\in",!0),y(M,C,q,"","\\@not"),y(M,C,q,"⊂","\\subset",!0),y(M,C,q,"⊃","\\supset",!0),y(M,C,q,"⊆","\\subseteq",!0),y(M,C,q,"⊇","\\supseteq",!0),y(M,W,q,"⊈","\\nsubseteq",!0),y(M,W,q,"⊉","\\nsupseteq",!0),y(M,C,q,"⊨","\\models"),y(M,C,q,"←","\\leftarrow",!0),y(M,C,q,"≤","\\le"),y(M,C,q,"≤","\\leq",!0),y(M,C,q,"<","\\lt",!0),y(M,C,q,"→","\\rightarrow",!0),y(M,C,q,"→","\\to"),y(M,W,q,"≱","\\ngeq",!0),y(M,W,q,"≰","\\nleq",!0),y(M,C,re," ","\\ "),y(M,C,re," ","\\space"),y(M,C,re," ","\\nobreakspace"),y(he,C,re," ","\\ "),y(he,C,re," "," "),y(he,C,re," ","\\space"),y(he,C,re," ","\\nobreakspace"),y(M,C,re,null,"\\nobreak"),y(M,C,re,null,"\\allowbreak"),y(M,C,mt,",",","),y(M,C,mt,";",";"),y(M,W,Ae,"⊼","\\barwedge",!0),y(M,W,Ae,"⊻","\\veebar",!0),y(M,C,Ae,"⊙","\\odot",!0),y(M,C,Ae,"⊕","\\oplus",!0),y(M,C,Ae,"⊗","\\otimes",!0),y(M,C,Z,"∂","\\partial",!0),y(M,C,Ae,"⊘","\\oslash",!0),y(M,W,Ae,"⊚","\\circledcirc",!0),y(M,W,Ae,"⊡","\\boxdot",!0),y(M,C,Ae,"△","\\bigtriangleup"),y(M,C,Ae,"▽","\\bigtriangledown"),y(M,C,Ae,"†","\\dagger"),y(M,C,Ae,"⋄","\\diamond"),y(M,C,Ae,"⋆","\\star"),y(M,C,Ae,"◃","\\triangleleft"),y(M,C,Ae,"▹","\\triangleright"),y(M,C,lt,"{","\\{"),y(he,C,Z,"{","\\{"),y(he,C,Z,"{","\\textbraceleft"),y(M,C,ie,"}","\\}"),y(he,C,Z,"}","\\}"),y(he,C,Z,"}","\\textbraceright"),y(M,C,lt,"{","\\lbrace"),y(M,C,ie,"}","\\rbrace"),y(M,C,lt,"[","\\lbrack",!0),y(he,C,Z,"[","\\lbrack",!0),y(M,C,ie,"]","\\rbrack",!0),y(he,C,Z,"]","\\rbrack",!0),y(M,C,lt,"(","\\lparen",!0),y(M,C,ie,")","\\rparen",!0),y(he,C,Z,"<","\\textless",!0),y(he,C,Z,">","\\textgreater",!0),y(M,C,lt,"⌊","\\lfloor",!0),y(M,C,ie,"⌋","\\rfloor",!0),y(M,C,lt,"⌈","\\lceil",!0),y(M,C,ie,"⌉","\\rceil",!0),y(M,C,Z,"\\","\\backslash"),y(M,C,Z,"∣","|"),y(M,C,Z,"∣","\\vert"),y(he,C,Z,"|","\\textbar",!0),y(M,C,Z,"∥","\\|"),y(M,C,Z,"∥","\\Vert"),y(he,C,Z,"∥","\\textbardbl"),y(he,C,Z,"~","\\textasciitilde"),y(he,C,Z,"\\","\\textbackslash"),y(he,C,Z,"^","\\textasciicircum"),y(M,C,q,"↑","\\uparrow",!0),y(M,C,q,"⇑","\\Uparrow",!0),y(M,C,q,"↓","\\downarrow",!0),y(M,C,q,"⇓","\\Downarrow",!0),y(M,C,q,"↕","\\updownarrow",!0),y(M,C,q,"⇕","\\Updownarrow",!0),y(M,C,ct,"∐","\\coprod"),y(M,C,ct,"⋁","\\bigvee"),y(M,C,ct,"⋀","\\bigwedge"),y(M,C,ct,"⨄","\\biguplus"),y(M,C,ct,"⋂","\\bigcap"),y(M,C,ct,"⋃","\\bigcup"),y(M,C,ct,"∫","\\int"),y(M,C,ct,"∫","\\intop"),y(M,C,ct,"∬","\\iint"),y(M,C,ct,"∭","\\iiint"),y(M,C,ct,"∏","\\prod"),y(M,C,ct,"∑","\\sum"),y(M,C,ct,"⨂","\\bigotimes"),y(M,C,ct,"⨁","\\bigoplus"),y(M,C,ct,"⨀","\\bigodot"),y(M,C,ct,"∮","\\oint"),y(M,C,ct,"∯","\\oiint"),y(M,C,ct,"∰","\\oiiint"),y(M,C,ct,"⨆","\\bigsqcup"),y(M,C,ct,"∫","\\smallint"),y(he,C,qe,"…","\\textellipsis"),y(M,C,qe,"…","\\mathellipsis"),y(he,C,qe,"…","\\ldots",!0),y(M,C,qe,"…","\\ldots",!0),y(M,C,qe,"⋯","\\@cdots",!0),y(M,C,qe,"⋱","\\ddots",!0),y(M,C,Z,"⋮","\\varvdots"),y(M,C,Ie,"ˊ","\\acute"),y(M,C,Ie,"ˋ","\\grave"),y(M,C,Ie,"¨","\\ddot"),y(M,C,Ie,"~","\\tilde"),y(M,C,Ie,"ˉ","\\bar"),y(M,C,Ie,"˘","\\breve"),y(M,C,Ie,"ˇ","\\check"),y(M,C,Ie,"^","\\hat"),y(M,C,Ie,"⃗","\\vec"),y(M,C,Ie,"˙","\\dot"),y(M,C,Ie,"˚","\\mathring"),y(M,C,_e,"","\\@imath"),y(M,C,_e,"","\\@jmath"),y(M,C,Z,"ı","ı"),y(M,C,Z,"ȷ","ȷ"),y(he,C,Z,"ı","\\i",!0),y(he,C,Z,"ȷ","\\j",!0),y(he,C,Z,"ß","\\ss",!0),y(he,C,Z,"æ","\\ae",!0),y(he,C,Z,"œ","\\oe",!0),y(he,C,Z,"ø","\\o",!0),y(he,C,Z,"Æ","\\AE",!0),y(he,C,Z,"Œ","\\OE",!0),y(he,C,Z,"Ø","\\O",!0),y(he,C,Ie,"ˊ","\\'"),y(he,C,Ie,"ˋ","\\`"),y(he,C,Ie,"ˆ","\\^"),y(he,C,Ie,"˜","\\~"),y(he,C,Ie,"ˉ","\\="),y(he,C,Ie,"˘","\\u"),y(he,C,Ie,"˙","\\."),y(he,C,Ie,"¸","\\c"),y(he,C,Ie,"˚","\\r"),y(he,C,Ie,"ˇ","\\v"),y(he,C,Ie,"¨",'\\"'),y(he,C,Ie,"˝","\\H"),y(he,C,Ie,"◯","\\textcircled");var Ke={"--":!0,"---":!0,"``":!0,"''":!0};y(he,C,Z,"–","--",!0),y(he,C,Z,"–","\\textendash"),y(he,C,Z,"—","---",!0),y(he,C,Z,"—","\\textemdash"),y(he,C,Z,"‘","`",!0),y(he,C,Z,"‘","\\textquoteleft"),y(he,C,Z,"’","'",!0),y(he,C,Z,"’","\\textquoteright"),y(he,C,Z,"“","``",!0),y(he,C,Z,"“","\\textquotedblleft"),y(he,C,Z,"”","''",!0),y(he,C,Z,"”","\\textquotedblright"),y(M,C,Z,"°","\\degree",!0),y(he,C,Z,"°","\\degree"),y(he,C,Z,"°","\\textdegree",!0),y(M,C,Z,"£","\\pounds"),y(M,C,Z,"£","\\mathsterling",!0),y(he,C,Z,"£","\\pounds"),y(he,C,Z,"£","\\textsterling",!0),y(M,W,Z,"✠","\\maltese"),y(he,W,Z,"✠","\\maltese");for(var rt='0123456789/@."',Ze=0;Ze<rt.length;Ze++){var Be=rt.charAt(Ze);y(M,C,Z,Be,Be)}for(var ft='0123456789!@*()-=+";:?/.,',wt=0;wt<ft.length;wt++){var pn=ft.charAt(wt);y(he,C,Z,pn,pn)}for(var qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",rr=0;rr<qt.length;rr++){var _n=qt.charAt(rr);y(M,C,_e,_n,_n),y(he,C,Z,_n,_n)}y(M,W,Z,"C","ℂ"),y(he,W,Z,"C","ℂ"),y(M,W,Z,"H","ℍ"),y(he,W,Z,"H","ℍ"),y(M,W,Z,"N","ℕ"),y(he,W,Z,"N","ℕ"),y(M,W,Z,"P","ℙ"),y(he,W,Z,"P","ℙ"),y(M,W,Z,"Q","ℚ"),y(he,W,Z,"Q","ℚ"),y(M,W,Z,"R","ℝ"),y(he,W,Z,"R","ℝ"),y(M,W,Z,"Z","ℤ"),y(he,W,Z,"Z","ℤ"),y(M,C,_e,"h","ℎ"),y(he,C,_e,"h","ℎ");for(var Ft="",Rn=0;Rn<qt.length;Rn++){var cn=qt.charAt(Rn);y(M,C,_e,cn,Ft=String.fromCharCode(55349,56320+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56372+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56424+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56580+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56684+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56736+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56788+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56840+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56944+Rn)),y(he,C,Z,cn,Ft),Rn<26&&(y(M,C,_e,cn,Ft=String.fromCharCode(55349,56632+Rn)),y(he,C,Z,cn,Ft),y(M,C,_e,cn,Ft=String.fromCharCode(55349,56476+Rn)),y(he,C,Z,cn,Ft))}y(M,C,_e,"k",Ft=String.fromCharCode(55349,56668)),y(he,C,Z,"k",Ft);for(var _r=0;_r<10;_r++){var Pr=_r.toString();y(M,C,_e,Pr,Ft=String.fromCharCode(55349,57294+_r)),y(he,C,Z,Pr,Ft),y(M,C,_e,Pr,Ft=String.fromCharCode(55349,57314+_r)),y(he,C,Z,Pr,Ft),y(M,C,_e,Pr,Ft=String.fromCharCode(55349,57324+_r)),y(he,C,Z,Pr,Ft),y(M,C,_e,Pr,Ft=String.fromCharCode(55349,57334+_r)),y(he,C,Z,Pr,Ft)}for(var Ri="ÐÞþ",Ls=0;Ls<Ri.length;Ls++){var Ds=Ri.charAt(Ls);y(M,C,_e,Ds,Ds),y(he,C,Z,Ds,Ds)}var zs=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],xo=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],J=function(c,p,d){return O[d][c]&&O[d][c].replace&&(c=O[d][c].replace),{value:c,metrics:ce(c,p,d)}},ye=function(c,p,d,g,x){var A,R=J(c,p,d),B=R.metrics;if(c=R.value,B){var V=B.italic;(d==="text"||g&&g.font==="mathit")&&(V=0),A=new ze(c,B.height,B.depth,V,B.skew,B.width,x)}else typeof console<"u"&&console.warn("No character metrics for '"+c+"' in style '"+p+"' and mode '"+d+"'"),A=new ze(c,0,0,0,0,0,x);if(g){A.maxFontSize=g.sizeMultiplier,g.style.isTight()&&A.classes.push("mtight");var se=g.getColor();se&&(A.style.color=se)}return A},Le=function(c,p){if(fe(c.classes)!==fe(p.classes)||c.skew!==p.skew||c.maxFontSize!==p.maxFontSize)return!1;if(c.classes.length===1){var d=c.classes[0];if(d==="mbin"||d==="mord")return!1}for(var g in c.style)if(c.style.hasOwnProperty(g)&&c.style[g]!==p.style[g])return!1;for(var x in p.style)if(p.style.hasOwnProperty(x)&&c.style[x]!==p.style[x])return!1;return!0},Me=function(c){for(var p=0,d=0,g=0,x=0;x<c.children.length;x++){var A=c.children[x];A.height>p&&(p=A.height),A.depth>d&&(d=A.depth),A.maxFontSize>g&&(g=A.maxFontSize)}c.height=p,c.depth=d,c.maxFontSize=g},Ce=function(c,p,d,g){var x=new ue(c,p,d,g);return Me(x),x},ht=function(c,p,d,g){return new ue(c,p,d,g)},vt=function(c){var p=new z(c);return Me(p),p},_t=function(c,p,d){var g="";switch(c){case"amsrm":g="AMS";break;case"textrm":g="Main";break;case"textsf":g="SansSerif";break;case"texttt":g="Typewriter";break;default:g=c}return g+"-"+(p==="textbf"&&d==="textit"?"BoldItalic":p==="textbf"?"Bold":p==="textit"?"Italic":"Regular")},Mt={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Lt={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},le={fontMap:Mt,makeSymbol:ye,mathsym:function(c,p,d,g){return g===void 0&&(g=[]),d.font==="boldsymbol"&&J(c,"Main-Bold",p).metrics?ye(c,"Main-Bold",p,d,g.concat(["mathbf"])):c==="\\"||O[p][c].font==="main"?ye(c,"Main-Regular",p,d,g):ye(c,"AMS-Regular",p,d,g.concat(["amsrm"]))},makeSpan:Ce,makeSvgSpan:ht,makeLineSpan:function(c,p,d){var g=Ce([c],[],p);return g.height=Math.max(d||p.fontMetrics().defaultRuleThickness,p.minRuleThickness),g.style.borderBottomWidth=K(g.height),g.maxFontSize=1,g},makeAnchor:function(c,p,d,g){var x=new Ue(c,p,d,g);return Me(x),x},makeFragment:vt,wrapFragment:function(c,p){return c instanceof z?Ce([],[c],p):c},makeVList:function(c,p){for(var d=function(Bt){if(Bt.positionType==="individualShift"){for(var En=Bt.children,Un=[En[0]],Ni=-En[0].shift-En[0].elem.depth,zr=Ni,ar=1;ar<En.length;ar++){var li=-En[ar].shift-zr-En[ar].elem.depth,La=li-(En[ar-1].elem.height+En[ar-1].elem.depth);zr+=li,Un.push({type:"kern",size:La}),Un.push(En[ar])}return{children:Un,depth:Ni}}var or;if(Bt.positionType==="top"){for(var Oi=Bt.positionData,Bn=0;Bn<Bt.children.length;Bn++){var qr=Bt.children[Bn];Oi-=qr.type==="kern"?qr.size:qr.elem.height+qr.elem.depth}or=Oi}else if(Bt.positionType==="bottom")or=-Bt.positionData;else{var us=Bt.children[0];if(us.type!=="elem")throw new Error('First child must have type "elem".');if(Bt.positionType==="shift")or=-us.elem.depth-Bt.positionData;else{if(Bt.positionType!=="firstBaseline")throw new Error("Invalid positionType "+Bt.positionType+".");or=-us.elem.depth}}return{children:Bt.children,depth:or}}(c),g=d.children,x=d.depth,A=0,R=0;R<g.length;R++){var B=g[R];if(B.type==="elem"){var V=B.elem;A=Math.max(A,V.maxFontSize,V.height)}}A+=2;var se=Ce(["pstrut"],[]);se.style.height=K(A);for(var ve=[],Te=x,me=x,De=x,et=0;et<g.length;et++){var tt=g[et];if(tt.type==="kern")De+=tt.size;else{var st=tt.elem,bt=tt.wrapperClasses||[],Et=tt.wrapperStyle||{},zt=Ce(bt,[se,st],void 0,Et);zt.style.top=K(-A-De-st.depth),tt.marginLeft&&(zt.style.marginLeft=tt.marginLeft),tt.marginRight&&(zt.style.marginRight=tt.marginRight),ve.push(zt),De+=st.height+st.depth}Te=Math.min(Te,De),me=Math.max(me,De)}var Ut,Nt=Ce(["vlist"],ve);if(Nt.style.height=K(me),Te<0){var Rt=Ce([],[]),It=Ce(["vlist"],[Rt]);It.style.height=K(-Te);var sn=Ce(["vlist-s"],[new ze("​")]);Ut=[Ce(["vlist-r"],[Nt,sn]),Ce(["vlist-r"],[It])]}else Ut=[Ce(["vlist-r"],[Nt])];var gn=Ce(["vlist-t"],Ut);return Ut.length===2&&gn.classes.push("vlist-t2"),gn.height=me,gn.depth=-Te,gn},makeOrd:function(c,p,d){var g=c.mode,x=c.text,A=["mord"],R=g==="math"||g==="text"&&p.font,B=R?p.font:p.fontFamily,V="",se="";if(x.charCodeAt(0)===55349){var ve=function(Ut,Nt){var Rt=1024*(Ut.charCodeAt(0)-55296)+(Ut.charCodeAt(1)-56320)+65536,It=Nt==="math"?0:1;if(119808<=Rt&&Rt<120484){var sn=Math.floor((Rt-119808)/26);return[zs[sn][2],zs[sn][It]]}if(120782<=Rt&&Rt<=120831){var gn=Math.floor((Rt-120782)/10);return[xo[gn][2],xo[gn][It]]}if(Rt===120485||Rt===120486)return[zs[0][2],zs[0][It]];if(120486<Rt&&Rt<120782)return["",""];throw new s("Unsupported character: "+Ut)}(x,g);V=ve[0],se=ve[1]}if(V.length>0)return ye(x,V,g,p,A.concat(se));if(B){var Te,me;if(B==="boldsymbol"){var De=function(Ut,Nt,Rt,It,sn){return sn!=="textord"&&J(Ut,"Math-BoldItalic",Nt).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(x,g,0,0,d);Te=De.fontName,me=[De.fontClass]}else R?(Te=Mt[B].fontName,me=[B]):(Te=_t(B,p.fontWeight,p.fontShape),me=[B,p.fontWeight,p.fontShape]);if(J(x,Te,g).metrics)return ye(x,Te,g,p,A.concat(me));if(Ke.hasOwnProperty(x)&&Te.slice(0,10)==="Typewriter"){for(var et=[],tt=0;tt<x.length;tt++)et.push(ye(x[tt],Te,g,p,A.concat(me)));return vt(et)}}if(d==="mathord")return ye(x,"Math-Italic",g,p,A.concat(["mathnormal"]));if(d==="textord"){var st=O[g][x]&&O[g][x].font;if(st==="ams"){var bt=_t("amsrm",p.fontWeight,p.fontShape);return ye(x,bt,g,p,A.concat("amsrm",p.fontWeight,p.fontShape))}if(st!=="main"&&st){var Et=_t(st,p.fontWeight,p.fontShape);return ye(x,Et,g,p,A.concat(Et,p.fontWeight,p.fontShape))}var zt=_t("textrm",p.fontWeight,p.fontShape);return ye(x,zt,g,p,A.concat(p.fontWeight,p.fontShape))}throw new Error("unexpected type: "+d+" in makeOrd")},makeGlue:function(c,p){var d=Ce(["mspace"],[],p),g=H(c,p);return d.style.marginRight=K(g),d},staticSvg:function(c,p){var d=Lt[c],g=d[0],x=d[1],A=d[2],R=new Ye(g),B=new Oe([R],{width:K(x),height:K(A),style:"width:"+K(x),viewBox:"0 0 "+1e3*x+" "+1e3*A,preserveAspectRatio:"xMinYMin"}),V=ht(["overlay"],[B],p);return V.height=A,V.style.height=K(A),V.style.width=K(x),V},svgData:Lt,tryCombineChars:function(c){for(var p=0;p<c.length-1;p++){var d=c[p],g=c[p+1];d instanceof ze&&g instanceof ze&&Le(d,g)&&(d.text+=g.text,d.height=Math.max(d.height,g.height),d.depth=Math.max(d.depth,g.depth),d.italic=g.italic,c.splice(p+1,1),p--)}return c}},pt={number:3,unit:"mu"},Xt={number:4,unit:"mu"},Wt={number:5,unit:"mu"},ir={mord:{mop:pt,mbin:Xt,mrel:Wt,minner:pt},mop:{mord:pt,mop:pt,mrel:Wt,minner:pt},mbin:{mord:Xt,mop:Xt,mopen:Xt,minner:Xt},mrel:{mord:Wt,mop:Wt,mopen:Wt,minner:Wt},mopen:{},mclose:{mop:pt,mbin:Xt,mrel:Wt,minner:pt},mpunct:{mord:pt,mop:pt,mrel:Wt,mopen:pt,mclose:pt,mpunct:pt,minner:pt},minner:{mord:pt,mop:pt,mbin:Xt,mrel:Wt,mopen:pt,mpunct:pt,minner:pt}},Lr={mord:{mop:pt},mop:{mord:pt,mop:pt},mbin:{},mrel:{},mopen:{},mclose:{mop:pt},mpunct:{},minner:{mop:pt}},fn={},kt={},$i={};function je(c){for(var p=c.type,d=c.names,g=c.props,x=c.handler,A=c.htmlBuilder,R=c.mathmlBuilder,B={type:p,numArgs:g.numArgs,argTypes:g.argTypes,allowedInArgument:!!g.allowedInArgument,allowedInText:!!g.allowedInText,allowedInMath:g.allowedInMath===void 0||g.allowedInMath,numOptionalArgs:g.numOptionalArgs||0,infix:!!g.infix,primitive:!!g.primitive,handler:x},V=0;V<d.length;++V)fn[d[V]]=B;p&&(A&&(kt[p]=A),R&&($i[p]=R))}function Wn(c){je({type:c.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:c.htmlBuilder,mathmlBuilder:c.mathmlBuilder})}var cs=function(c){return c.type==="ordgroup"&&c.body.length===1?c.body[0]:c},tn=function(c){return c.type==="ordgroup"?c.body:[c]},pr=le.makeSpan,Ln=["leftmost","mbin","mopen","mrel","mop","mpunct"],ai=["rightmost","mrel","mclose","mpunct"],Ta={display:j.DISPLAY,text:j.TEXT,script:j.SCRIPT,scriptscript:j.SCRIPTSCRIPT},jn={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},mn=function(c,p,d,g){g===void 0&&(g=[null,null]);for(var x=[],A=0;A<c.length;A++){var R=Ht(c[A],p);if(R instanceof z){var B=R.children;x.push.apply(x,B)}else x.push(R)}if(le.tryCombineChars(x),!d)return x;var V=p;if(c.length===1){var se=c[0];se.type==="sizing"?V=p.havingSize(se.size):se.type==="styling"&&(V=p.havingStyle(Ta[se.style]))}var ve=pr([g[0]||"leftmost"],[],p),Te=pr([g[1]||"rightmost"],[],p),me=d==="root";return wo(x,function(De,et){var tt=et.classes[0],st=De.classes[0];tt==="mbin"&&h.contains(ai,st)?et.classes[0]="mord":st==="mbin"&&h.contains(Ln,tt)&&(De.classes[0]="mord")},{node:ve},Te,me),wo(x,function(De,et){var tt=rl(et),st=rl(De),bt=tt&&st?De.hasClass("mtight")?Lr[tt][st]:ir[tt][st]:null;if(bt)return le.makeGlue(bt,V)},{node:ve},Te,me),x},wo=function c(p,d,g,x,A){x&&p.push(x);for(var R=0;R<p.length;R++){var B=p[R],V=Aa(B);if(V)c(V.children,d,g,null,A);else{var se=!B.hasClass("mspace");if(se){var ve=d(B,g.node);ve&&(g.insertAfter?g.insertAfter(ve):(p.unshift(ve),R++))}se?g.node=B:A&&B.hasClass("newline")&&(g.node=pr(["leftmost"])),g.insertAfter=function(Te){return function(me){p.splice(Te+1,0,me),R++}}(R)}}x&&p.pop()},Aa=function(c){return c instanceof z||c instanceof Ue||c instanceof ue&&c.hasClass("enclosing")?c:null},Im=function c(p,d){var g=Aa(p);if(g){var x=g.children;if(x.length){if(d==="right")return c(x[x.length-1],"right");if(d==="left")return c(x[0],"left")}}return p},rl=function(c,p){return c?(p&&(c=Im(c,p)),jn[c.classes[0]]||null):null},ka=function(c,p){var d=["nulldelimiter"].concat(c.baseSizingClasses());return pr(p.concat(d))},Ht=function(c,p,d){if(!c)return pr();if(kt[c.type]){var g=kt[c.type](c,p);if(d&&p.size!==d.size){g=pr(p.sizingClasses(d),[g],p);var x=p.sizeMultiplier/d.sizeMultiplier;g.height*=x,g.depth*=x}return g}throw new s("Got group of unknown type: '"+c.type+"'")};function _o(c,p){var d=pr(["base"],c,p),g=pr(["strut"]);return g.style.height=K(d.height+d.depth),d.depth&&(g.style.verticalAlign=K(-d.depth)),d.children.unshift(g),d}function il(c,p){var d=null;c.length===1&&c[0].type==="tag"&&(d=c[0].tag,c=c[0].body);var g,x=mn(c,p,"root");x.length===2&&x[1].hasClass("tag")&&(g=x.pop());for(var A,R=[],B=[],V=0;V<x.length;V++)if(B.push(x[V]),x[V].hasClass("mbin")||x[V].hasClass("mrel")||x[V].hasClass("allowbreak")){for(var se=!1;V<x.length-1&&x[V+1].hasClass("mspace")&&!x[V+1].hasClass("newline");)V++,B.push(x[V]),x[V].hasClass("nobreak")&&(se=!0);se||(R.push(_o(B,p)),B=[])}else x[V].hasClass("newline")&&(B.pop(),B.length>0&&(R.push(_o(B,p)),B=[]),R.push(x[V]));B.length>0&&R.push(_o(B,p)),d?((A=_o(mn(d,p,!0))).classes=["tag"],R.push(A)):g&&R.push(g);var ve=pr(["katex-html"],R);if(ve.setAttribute("aria-hidden","true"),A){var Te=A.children[0];Te.style.height=K(ve.height+ve.depth),ve.depth&&(Te.style.verticalAlign=K(-ve.depth))}return ve}function Wu(c){return new z(c)}var Sr=function(){function c(d,g,x){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=d,this.attributes={},this.children=g||[],this.classes=x||[]}var p=c.prototype;return p.setAttribute=function(d,g){this.attributes[d]=g},p.getAttribute=function(d){return this.attributes[d]},p.toNode=function(){var d=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&d.setAttribute(g,this.attributes[g]);this.classes.length>0&&(d.className=fe(this.classes));for(var x=0;x<this.children.length;x++)d.appendChild(this.children[x].toNode());return d},p.toMarkup=function(){var d="<"+this.type;for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&(d+=" "+g+'="',d+=h.escape(this.attributes[g]),d+='"');this.classes.length>0&&(d+=' class ="'+h.escape(fe(this.classes))+'"'),d+=">";for(var x=0;x<this.children.length;x++)d+=this.children[x].toMarkup();return d+="</"+this.type+">"},p.toText=function(){return this.children.map(function(d){return d.toText()}).join("")},c}(),Ca=function(){function c(d){this.text=void 0,this.text=d}var p=c.prototype;return p.toNode=function(){return document.createTextNode(this.text)},p.toMarkup=function(){return h.escape(this.toText())},p.toText=function(){return this.text},c}(),Ve={MathNode:Sr,TextNode:Ca,SpaceNode:function(){function c(d){this.width=void 0,this.character=void 0,this.width=d,this.character=d>=.05555&&d<=.05556?" ":d>=.1666&&d<=.1667?" ":d>=.2222&&d<=.2223?" ":d>=.2777&&d<=.2778?"  ":d>=-.05556&&d<=-.05555?" ⁣":d>=-.1667&&d<=-.1666?" ⁣":d>=-.2223&&d<=-.2222?" ⁣":d>=-.2778&&d<=-.2777?" ⁣":null}var p=c.prototype;return p.toNode=function(){if(this.character)return document.createTextNode(this.character);var d=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return d.setAttribute("width",K(this.width)),d},p.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+K(this.width)+'"/>'},p.toText=function(){return this.character?this.character:" "},c}(),newDocumentFragment:Wu},Mr=function(c,p,d){return!O[p][c]||!O[p][c].replace||c.charCodeAt(0)===55349||Ke.hasOwnProperty(c)&&d&&(d.fontFamily&&d.fontFamily.slice(4,6)==="tt"||d.font&&d.font.slice(4,6)==="tt")||(c=O[p][c].replace),new Ve.TextNode(c)},sl=function(c){return c.length===1?c[0]:new Ve.MathNode("mrow",c)},al=function(c,p){if(p.fontFamily==="texttt")return"monospace";if(p.fontFamily==="textsf")return p.fontShape==="textit"&&p.fontWeight==="textbf"?"sans-serif-bold-italic":p.fontShape==="textit"?"sans-serif-italic":p.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(p.fontShape==="textit"&&p.fontWeight==="textbf")return"bold-italic";if(p.fontShape==="textit")return"italic";if(p.fontWeight==="textbf")return"bold";var d=p.font;if(!d||d==="mathnormal")return null;var g=c.mode;if(d==="mathit")return"italic";if(d==="boldsymbol")return c.type==="textord"?"bold":"bold-italic";if(d==="mathbf")return"bold";if(d==="mathbb")return"double-struck";if(d==="mathfrak")return"fraktur";if(d==="mathscr"||d==="mathcal")return"script";if(d==="mathsf")return"sans-serif";if(d==="mathtt")return"monospace";var x=c.text;return h.contains(["\\imath","\\jmath"],x)?null:(O[g][x]&&O[g][x].replace&&(x=O[g][x].replace),ce(x,le.fontMap[d].fontName,g)?le.fontMap[d].variant:null)},sr=function(c,p,d){if(c.length===1){var g=nn(c[0],p);return d&&g instanceof Sr&&g.type==="mo"&&(g.setAttribute("lspace","0em"),g.setAttribute("rspace","0em")),[g]}for(var x,A=[],R=0;R<c.length;R++){var B=nn(c[R],p);if(B instanceof Sr&&x instanceof Sr){if(B.type==="mtext"&&x.type==="mtext"&&B.getAttribute("mathvariant")===x.getAttribute("mathvariant")){var V;(V=x.children).push.apply(V,B.children);continue}if(B.type==="mn"&&x.type==="mn"){var se;(se=x.children).push.apply(se,B.children);continue}if(B.type==="mi"&&B.children.length===1&&x.type==="mn"){var ve=B.children[0];if(ve instanceof Ca&&ve.text==="."){var Te;(Te=x.children).push.apply(Te,B.children);continue}}else if(x.type==="mi"&&x.children.length===1){var me=x.children[0];if(me instanceof Ca&&me.text==="̸"&&(B.type==="mo"||B.type==="mi"||B.type==="mn")){var De=B.children[0];De instanceof Ca&&De.text.length>0&&(De.text=De.text.slice(0,1)+"̸"+De.text.slice(1),A.pop())}}}A.push(B),x=B}return A},Pi=function(c,p,d){return sl(sr(c,p,d))},nn=function(c,p){if(!c)return new Ve.MathNode("mrow");if($i[c.type])return $i[c.type](c,p);throw new s("Got group of unknown type: '"+c.type+"'")};function ju(c,p,d,g,x){var A,R=sr(c,d);A=R.length===1&&R[0]instanceof Sr&&h.contains(["mrow","mtable"],R[0].type)?R[0]:new Ve.MathNode("mrow",R);var B=new Ve.MathNode("annotation",[new Ve.TextNode(p)]);B.setAttribute("encoding","application/x-tex");var V=new Ve.MathNode("semantics",[A,B]),se=new Ve.MathNode("math",[V]);se.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),g&&se.setAttribute("display","block");var ve=x?"katex":"katex-mathml";return le.makeSpan([ve],[se])}var qu=function(c){return new we({style:c.displayMode?j.DISPLAY:j.TEXT,maxSize:c.maxSize,minRuleThickness:c.minRuleThickness})},Xu=function(c,p){if(p.displayMode){var d=["katex-display"];p.leqno&&d.push("leqno"),p.fleqn&&d.push("fleqn"),c=le.makeSpan(d,[c])}return c},Um=function(c,p,d){var g,x=qu(d);if(d.output==="mathml")return ju(c,p,x,d.displayMode,!0);if(d.output==="html"){var A=il(c,x);g=le.makeSpan(["katex"],[A])}else{var R=ju(c,p,x,d.displayMode,!1),B=il(c,x);g=le.makeSpan(["katex"],[R,B])}return Xu(g,d)},Bm={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Fm={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Hm=function(c,p,d,g,x){var A,R=c.height+c.depth+d+g;if(/fbox|color|angl/.test(p)){if(A=le.makeSpan(["stretchy",p],[],x),p==="fbox"){var B=x.color&&x.getColor();B&&(A.style.borderColor=B)}}else{var V=[];/^[bx]cancel$/.test(p)&&V.push(new it({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(p)&&V.push(new it({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var se=new Oe(V,{width:"100%",height:K(R)});A=le.makeSvgSpan([],[se],x)}return A.height=R,A.style.height=K(R),A},So=function(c){var p=new Ve.MathNode("mo",[new Ve.TextNode(Bm[c.replace(/^\\/,"")])]);return p.setAttribute("stretchy","true"),p},Mo=function(c,p){var d=function(){var R=4e5,B=c.label.slice(1);if(h.contains(["widehat","widecheck","widetilde","utilde"],B)){var V,se,ve,Te=(bt=c.base).type==="ordgroup"?bt.body.length:1;if(Te>5)B==="widehat"||B==="widecheck"?(V=420,R=2364,ve=.42,se=B+"4"):(V=312,R=2340,ve=.34,se="tilde4");else{var me=[1,1,2,2,3,3][Te];B==="widehat"||B==="widecheck"?(R=[0,1062,2364,2364,2364][me],V=[0,239,300,360,420][me],ve=[0,.24,.3,.3,.36,.42][me],se=B+me):(R=[0,600,1033,2339,2340][me],V=[0,260,286,306,312][me],ve=[0,.26,.286,.3,.306,.34][me],se="tilde"+me)}var De=new Ye(se),et=new Oe([De],{width:"100%",height:K(ve),viewBox:"0 0 "+R+" "+V,preserveAspectRatio:"none"});return{span:le.makeSvgSpan([],[et],p),minWidth:0,height:ve}}var tt,st,bt,Et=[],zt=Fm[B],Ut=zt[0],Nt=zt[1],Rt=zt[2],It=Rt/1e3,sn=Ut.length;if(sn===1)tt=["hide-tail"],st=[zt[3]];else if(sn===2)tt=["halfarrow-left","halfarrow-right"],st=["xMinYMin","xMaxYMin"];else{if(sn!==3)throw new Error(`Correct katexImagesData or update code here to support
                    `+sn+" children.");tt=["brace-left","brace-center","brace-right"],st=["xMinYMin","xMidYMin","xMaxYMin"]}for(var gn=0;gn<sn;gn++){var Bt=new Ye(Ut[gn]),En=new Oe([Bt],{width:"400em",height:K(It),viewBox:"0 0 "+R+" "+Rt,preserveAspectRatio:st[gn]+" slice"}),Un=le.makeSvgSpan([tt[gn]],[En],p);if(sn===1)return{span:Un,minWidth:Nt,height:It};Un.style.height=K(It),Et.push(Un)}return{span:le.makeSpan(["stretchy"],Et,p),minWidth:Nt,height:It}}(),g=d.span,x=d.minWidth,A=d.height;return g.height=A,g.style.height=K(A),x>0&&(g.style.minWidth=K(x)),g};function Ct(c,p){if(!c||c.type!==p)throw new Error("Expected node of type "+p+", but got "+(c?"node of type "+c.type:String(c)));return c}function ol(c){var p=Eo(c);if(!p)throw new Error("Expected node of symbol group type, but got "+(c?"node of type "+c.type:String(c)));return p}function Eo(c){return c&&(c.type==="atom"||Kt.hasOwnProperty(c.type))?c:null}var ll=function(c,p){var d,g,x;c&&c.type==="supsub"?(d=(g=Ct(c.base,"accent")).base,c.base=d,x=function(st){if(st instanceof ue)return st;throw new Error("Expected span<HtmlDomNode> but got "+String(st)+".")}(Ht(c,p)),c.base=g):d=(g=Ct(c,"accent")).base;var A=Ht(d,p.havingCrampedStyle()),R=0;if(g.isShifty&&h.isCharacterBox(d)){var B=h.getBaseElem(d);R=gt(Ht(B,p.havingCrampedStyle())).skew}var V,se=g.label==="\\c",ve=se?A.height+A.depth:Math.min(A.height,p.fontMetrics().xHeight);if(g.isStretchy)V=Mo(g,p),V=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:A},{type:"elem",elem:V,wrapperClasses:["svg-align"],wrapperStyle:R>0?{width:"calc(100% - "+K(2*R)+")",marginLeft:K(2*R)}:void 0}]},p);else{var Te,me;g.label==="\\vec"?(Te=le.staticSvg("vec",p),me=le.svgData.vec[1]):((Te=gt(Te=le.makeOrd({mode:g.mode,text:g.label},p,"textord"))).italic=0,me=Te.width,se&&(ve+=Te.depth)),V=le.makeSpan(["accent-body"],[Te]);var De=g.label==="\\textcircled";De&&(V.classes.push("accent-full"),ve=A.height);var et=R;De||(et-=me/2),V.style.left=K(et),g.label==="\\textcircled"&&(V.style.top=".2em"),V=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:A},{type:"kern",size:-ve},{type:"elem",elem:V}]},p)}var tt=le.makeSpan(["mord","accent"],[V],p);return x?(x.children[0]=tt,x.height=Math.max(tt.height,x.height),x.classes[0]="mord",x):tt},Yu=function(c,p){var d=c.isStretchy?So(c.label):new Ve.MathNode("mo",[Mr(c.label,c.mode)]),g=new Ve.MathNode("mover",[nn(c.base,p),d]);return g.setAttribute("accent","true"),g},Gm=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(c){return"\\"+c}).join("|"));je({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(c,p){var d=cs(p[0]),g=!Gm.test(c.funcName),x=!g||c.funcName==="\\widehat"||c.funcName==="\\widetilde"||c.funcName==="\\widecheck";return{type:"accent",mode:c.parser.mode,label:c.funcName,isStretchy:g,isShifty:x,base:d}},htmlBuilder:ll,mathmlBuilder:Yu}),je({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(c,p){var d=p[0],g=c.parser.mode;return g==="math"&&(c.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+c.funcName+" works only in text mode"),g="text"),{type:"accent",mode:g,label:c.funcName,isStretchy:!1,isShifty:!0,base:d}},htmlBuilder:ll,mathmlBuilder:Yu}),je({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(c,p){var d=c.parser,g=c.funcName,x=p[0];return{type:"accentUnder",mode:d.mode,label:g,base:x}},htmlBuilder:function(c,p){var d=Ht(c.base,p),g=Mo(c,p),x=c.label==="\\utilde"?.12:0,A=le.makeVList({positionType:"top",positionData:d.height,children:[{type:"elem",elem:g,wrapperClasses:["svg-align"]},{type:"kern",size:x},{type:"elem",elem:d}]},p);return le.makeSpan(["mord","accentunder"],[A],p)},mathmlBuilder:function(c,p){var d=So(c.label),g=new Ve.MathNode("munder",[nn(c.base,p),d]);return g.setAttribute("accentunder","true"),g}});var To=function(c){var p=new Ve.MathNode("mpadded",c?[c]:[]);return p.setAttribute("width","+0.6em"),p.setAttribute("lspace","0.3em"),p};je({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(c,p,d){var g=c.parser,x=c.funcName;return{type:"xArrow",mode:g.mode,label:x,body:p[0],below:d[0]}},htmlBuilder:function(c,p){var d,g=p.style,x=p.havingStyle(g.sup()),A=le.wrapFragment(Ht(c.body,x,p),p),R=c.label.slice(0,2)==="\\x"?"x":"cd";A.classes.push(R+"-arrow-pad"),c.below&&(x=p.havingStyle(g.sub()),(d=le.wrapFragment(Ht(c.below,x,p),p)).classes.push(R+"-arrow-pad"));var B,V=Mo(c,p),se=-p.fontMetrics().axisHeight+.5*V.height,ve=-p.fontMetrics().axisHeight-.5*V.height-.111;if((A.depth>.25||c.label==="\\xleftequilibrium")&&(ve-=A.depth),d){var Te=-p.fontMetrics().axisHeight+d.height+.5*V.height+.111;B=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:A,shift:ve},{type:"elem",elem:V,shift:se},{type:"elem",elem:d,shift:Te}]},p)}else B=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:A,shift:ve},{type:"elem",elem:V,shift:se}]},p);return B.children[0].children[0].children[1].classes.push("svg-align"),le.makeSpan(["mrel","x-arrow"],[B],p)},mathmlBuilder:function(c,p){var d,g=So(c.label);if(g.setAttribute("minsize",c.label.charAt(0)==="x"?"1.75em":"3.0em"),c.body){var x=To(nn(c.body,p));if(c.below){var A=To(nn(c.below,p));d=new Ve.MathNode("munderover",[g,A,x])}else d=new Ve.MathNode("mover",[g,x])}else if(c.below){var R=To(nn(c.below,p));d=new Ve.MathNode("munder",[g,R])}else d=To(),d=new Ve.MathNode("mover",[g,d]);return d}});var Vm=le.makeSpan;function Ku(c,p){var d=mn(c.body,p,!0);return Vm([c.mclass],d,p)}function Zu(c,p){var d,g=sr(c.body,p);return c.mclass==="minner"?d=new Ve.MathNode("mpadded",g):c.mclass==="mord"?c.isCharacterBox?(d=g[0]).type="mi":d=new Ve.MathNode("mi",g):(c.isCharacterBox?(d=g[0]).type="mo":d=new Ve.MathNode("mo",g),c.mclass==="mbin"?(d.attributes.lspace="0.22em",d.attributes.rspace="0.22em"):c.mclass==="mpunct"?(d.attributes.lspace="0em",d.attributes.rspace="0.17em"):c.mclass==="mopen"||c.mclass==="mclose"?(d.attributes.lspace="0em",d.attributes.rspace="0em"):c.mclass==="minner"&&(d.attributes.lspace="0.0556em",d.attributes.width="+0.1111em")),d}je({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(c,p){var d=c.parser,g=c.funcName,x=p[0];return{type:"mclass",mode:d.mode,mclass:"m"+g.slice(5),body:tn(x),isCharacterBox:h.isCharacterBox(x)}},htmlBuilder:Ku,mathmlBuilder:Zu});var Ao=function(c){var p=c.type==="ordgroup"&&c.body.length?c.body[0]:c;return p.type!=="atom"||p.family!=="bin"&&p.family!=="rel"?"mord":"m"+p.family};je({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(c,p){return{type:"mclass",mode:c.parser.mode,mclass:Ao(p[0]),body:tn(p[1]),isCharacterBox:h.isCharacterBox(p[1])}}}),je({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(c,p){var d,g=c.parser,x=c.funcName,A=p[1],R=p[0];d=x!=="\\stackrel"?Ao(A):"mrel";var B={type:"op",mode:A.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:x!=="\\stackrel",body:tn(A)},V={type:"supsub",mode:R.mode,base:B,sup:x==="\\underset"?null:R,sub:x==="\\underset"?R:null};return{type:"mclass",mode:g.mode,mclass:d,body:[V],isCharacterBox:h.isCharacterBox(V)}},htmlBuilder:Ku,mathmlBuilder:Zu}),je({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler:function(c,p){return{type:"pmb",mode:c.parser.mode,mclass:Ao(p[0]),body:tn(p[0])}},htmlBuilder:function(c,p){var d=mn(c.body,p,!0),g=le.makeSpan([c.mclass],d,p);return g.style.textShadow="0.02em 0.01em 0.04px",g},mathmlBuilder:function(c,p){var d=sr(c.body,p),g=new Ve.MathNode("mstyle",d);return g.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),g}});var Wm={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Ju=function(c){return c.type==="textord"&&c.text==="@"};function jm(c,p,d){var g=Wm[c];switch(g){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return d.callFunction(g,[p[0]],[p[1]]);case"\\uparrow":case"\\downarrow":var x={type:"atom",text:g,mode:"math",family:"rel"},A={type:"ordgroup",mode:"math",body:[d.callFunction("\\\\cdleft",[p[0]],[]),d.callFunction("\\Big",[x],[]),d.callFunction("\\\\cdright",[p[1]],[])]};return d.callFunction("\\\\cdparent",[A],[]);case"\\\\cdlongequal":return d.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return d.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}je({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(c,p){var d=c.parser,g=c.funcName;return{type:"cdlabel",mode:d.mode,side:g.slice(4),label:p[0]}},htmlBuilder:function(c,p){var d=p.havingStyle(p.style.sup()),g=le.wrapFragment(Ht(c.label,d,p),p);return g.classes.push("cd-label-"+c.side),g.style.bottom=K(.8-g.depth),g.height=0,g.depth=0,g},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mrow",[nn(c.label,p)]);return(d=new Ve.MathNode("mpadded",[d])).setAttribute("width","0"),c.side==="left"&&d.setAttribute("lspace","-1width"),d.setAttribute("voffset","0.7em"),(d=new Ve.MathNode("mstyle",[d])).setAttribute("displaystyle","false"),d.setAttribute("scriptlevel","1"),d}}),je({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(c,p){return{type:"cdlabelparent",mode:c.parser.mode,fragment:p[0]}},htmlBuilder:function(c,p){var d=le.wrapFragment(Ht(c.fragment,p),p);return d.classes.push("cd-vert-arrow"),d},mathmlBuilder:function(c,p){return new Ve.MathNode("mrow",[nn(c.fragment,p)])}}),je({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(c,p){for(var d=c.parser,g=Ct(p[0],"ordgroup").body,x="",A=0;A<g.length;A++)x+=Ct(g[A],"textord").text;var R,B=parseInt(x);if(isNaN(B))throw new s("\\@char has non-numeric argument "+x);if(B<0||B>=1114111)throw new s("\\@char with invalid code point "+x);return B<=65535?R=String.fromCharCode(B):(B-=65536,R=String.fromCharCode(55296+(B>>10),56320+(1023&B))),{type:"textord",mode:d.mode,text:R}}});var Qu=function(c,p){var d=mn(c.body,p.withColor(c.color),!1);return le.makeFragment(d)},eh=function(c,p){var d=sr(c.body,p.withColor(c.color)),g=new Ve.MathNode("mstyle",d);return g.setAttribute("mathcolor",c.color),g};je({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(c,p){var d=c.parser,g=Ct(p[0],"color-token").color,x=p[1];return{type:"color",mode:d.mode,color:g,body:tn(x)}},htmlBuilder:Qu,mathmlBuilder:eh}),je({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(c,p){var d=c.parser,g=c.breakOnTokenText,x=Ct(p[0],"color-token").color;d.gullet.macros.set("\\current@color",x);var A=d.parseExpression(!0,g);return{type:"color",mode:d.mode,color:x,body:A}},htmlBuilder:Qu,mathmlBuilder:eh}),je({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler:function(c,p,d){var g=c.parser,x=g.gullet.future().text==="["?g.parseSizeGroup(!0):null,A=!g.settings.displayMode||!g.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:g.mode,newLine:A,size:x&&Ct(x,"size").value}},htmlBuilder:function(c,p){var d=le.makeSpan(["mspace"],[],p);return c.newLine&&(d.classes.push("newline"),c.size&&(d.style.marginTop=K(H(c.size,p)))),d},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mspace");return c.newLine&&(d.setAttribute("linebreak","newline"),c.size&&d.setAttribute("height",K(H(c.size,p)))),d}});var cl={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},th=function(c){var p=c.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(p))throw new s("Expected a control sequence",c);return p},nh=function(c,p,d,g){var x=c.gullet.macros.get(d.text);x==null&&(d.noexpand=!0,x={tokens:[d],numArgs:0,unexpandable:!c.gullet.isExpandable(d.text)}),c.gullet.macros.set(p,x,g)};je({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(c){var p=c.parser,d=c.funcName;p.consumeSpaces();var g=p.fetch();if(cl[g.text])return d!=="\\global"&&d!=="\\\\globallong"||(g.text=cl[g.text]),Ct(p.parseFunction(),"internal");throw new s("Invalid token after macro prefix",g)}}),je({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(c){var p=c.parser,d=c.funcName,g=p.gullet.popToken(),x=g.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(x))throw new s("Expected a control sequence",g);for(var A,R=0,B=[[]];p.gullet.future().text!=="{";)if((g=p.gullet.popToken()).text==="#"){if(p.gullet.future().text==="{"){A=p.gullet.future(),B[R].push("{");break}if(g=p.gullet.popToken(),!/^[1-9]$/.test(g.text))throw new s('Invalid argument number "'+g.text+'"');if(parseInt(g.text)!==R+1)throw new s('Argument number "'+g.text+'" out of order');R++,B.push([])}else{if(g.text==="EOF")throw new s("Expected a macro definition");B[R].push(g.text)}var V=p.gullet.consumeArg().tokens;return A&&V.unshift(A),d!=="\\edef"&&d!=="\\xdef"||(V=p.gullet.expandTokens(V)).reverse(),p.gullet.macros.set(x,{tokens:V,numArgs:R,delimiters:B},d===cl[d]),{type:"internal",mode:p.mode}}}),je({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(c){var p=c.parser,d=c.funcName,g=th(p.gullet.popToken());p.gullet.consumeSpaces();var x=function(A){var R=A.gullet.popToken();return R.text==="="&&(R=A.gullet.popToken()).text===" "&&(R=A.gullet.popToken()),R}(p);return nh(p,g,x,d==="\\\\globallet"),{type:"internal",mode:p.mode}}}),je({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(c){var p=c.parser,d=c.funcName,g=th(p.gullet.popToken()),x=p.gullet.popToken(),A=p.gullet.popToken();return nh(p,g,A,d==="\\\\globalfuture"),p.gullet.pushToken(A),p.gullet.pushToken(x),{type:"internal",mode:p.mode}}});var Ra=function(c,p,d){var g=ce(O.math[c]&&O.math[c].replace||c,p,d);if(!g)throw new Error("Unsupported symbol "+c+" and font size "+p+".");return g},ul=function(c,p,d,g){var x=d.havingBaseStyle(p),A=le.makeSpan(g.concat(x.sizingClasses(d)),[c],d),R=x.sizeMultiplier/d.sizeMultiplier;return A.height*=R,A.depth*=R,A.maxFontSize=x.sizeMultiplier,A},rh=function(c,p,d){var g=p.havingBaseStyle(d),x=(1-p.sizeMultiplier/g.sizeMultiplier)*p.fontMetrics().axisHeight;c.classes.push("delimcenter"),c.style.top=K(x),c.height-=x,c.depth+=x},ih=function(c,p,d,g,x,A){var R=function(V,se,ve,Te){return le.makeSymbol(V,"Size"+se+"-Regular",ve,Te)}(c,p,x,g),B=ul(le.makeSpan(["delimsizing","size"+p],[R],g),j.TEXT,g,A);return d&&rh(B,g,j.TEXT),B},hl=function(c,p,d){var g;return g=p==="Size1-Regular"?"delim-size1":"delim-size4",{type:"elem",elem:le.makeSpan(["delimsizinginner",g],[le.makeSpan([],[le.makeSymbol(c,p,d)])])}},dl=function(c,p,d){var g=Q["Size4-Regular"][c.charCodeAt(0)]?Q["Size4-Regular"][c.charCodeAt(0)][4]:Q["Size1-Regular"][c.charCodeAt(0)][4],x=new Ye("inner",function(B,V){switch(B){case"⎜":return"M291 0 H417 V"+V+" H291z M291 0 H417 V"+V+" H291z";case"∣":return"M145 0 H188 V"+V+" H145z M145 0 H188 V"+V+" H145z";case"∥":return"M145 0 H188 V"+V+" H145z M145 0 H188 V"+V+" H145zM367 0 H410 V"+V+" H367z M367 0 H410 V"+V+" H367z";case"⎟":return"M457 0 H583 V"+V+" H457z M457 0 H583 V"+V+" H457z";case"⎢":return"M319 0 H403 V"+V+" H319z M319 0 H403 V"+V+" H319z";case"⎥":return"M263 0 H347 V"+V+" H263z M263 0 H347 V"+V+" H263z";case"⎪":return"M384 0 H504 V"+V+" H384z M384 0 H504 V"+V+" H384z";case"⏐":return"M312 0 H355 V"+V+" H312z M312 0 H355 V"+V+" H312z";case"‖":return"M257 0 H300 V"+V+" H257z M257 0 H300 V"+V+" H257zM478 0 H521 V"+V+" H478z M478 0 H521 V"+V+" H478z";default:return""}}(c,Math.round(1e3*p))),A=new Oe([x],{width:K(g),height:K(p),style:"width:"+K(g),viewBox:"0 0 "+1e3*g+" "+Math.round(1e3*p),preserveAspectRatio:"xMinYMin"}),R=le.makeSvgSpan([],[A],d);return R.height=p,R.style.height=K(p),R.style.width=K(g),{type:"elem",elem:R}},ko={type:"kern",size:-.008},qm=["|","\\lvert","\\rvert","\\vert"],Xm=["\\|","\\lVert","\\rVert","\\Vert"],sh=function(c,p,d,g,x,A){var R,B,V,se,ve="",Te=0;R=V=se=c,B=null;var me="Size1-Regular";c==="\\uparrow"?V=se="⏐":c==="\\Uparrow"?V=se="‖":c==="\\downarrow"?R=V="⏐":c==="\\Downarrow"?R=V="‖":c==="\\updownarrow"?(R="\\uparrow",V="⏐",se="\\downarrow"):c==="\\Updownarrow"?(R="\\Uparrow",V="‖",se="\\Downarrow"):h.contains(qm,c)?(V="∣",ve="vert",Te=333):h.contains(Xm,c)?(V="∥",ve="doublevert",Te=556):c==="["||c==="\\lbrack"?(R="⎡",V="⎢",se="⎣",me="Size4-Regular",ve="lbrack",Te=667):c==="]"||c==="\\rbrack"?(R="⎤",V="⎥",se="⎦",me="Size4-Regular",ve="rbrack",Te=667):c==="\\lfloor"||c==="⌊"?(V=R="⎢",se="⎣",me="Size4-Regular",ve="lfloor",Te=667):c==="\\lceil"||c==="⌈"?(R="⎡",V=se="⎢",me="Size4-Regular",ve="lceil",Te=667):c==="\\rfloor"||c==="⌋"?(V=R="⎥",se="⎦",me="Size4-Regular",ve="rfloor",Te=667):c==="\\rceil"||c==="⌉"?(R="⎤",V=se="⎥",me="Size4-Regular",ve="rceil",Te=667):c==="("||c==="\\lparen"?(R="⎛",V="⎜",se="⎝",me="Size4-Regular",ve="lparen",Te=875):c===")"||c==="\\rparen"?(R="⎞",V="⎟",se="⎠",me="Size4-Regular",ve="rparen",Te=875):c==="\\{"||c==="\\lbrace"?(R="⎧",B="⎨",se="⎩",V="⎪",me="Size4-Regular"):c==="\\}"||c==="\\rbrace"?(R="⎫",B="⎬",se="⎭",V="⎪",me="Size4-Regular"):c==="\\lgroup"||c==="⟮"?(R="⎧",se="⎩",V="⎪",me="Size4-Regular"):c==="\\rgroup"||c==="⟯"?(R="⎫",se="⎭",V="⎪",me="Size4-Regular"):c==="\\lmoustache"||c==="⎰"?(R="⎧",se="⎭",V="⎪",me="Size4-Regular"):c!=="\\rmoustache"&&c!=="⎱"||(R="⎫",se="⎩",V="⎪",me="Size4-Regular");var De=Ra(R,me,x),et=De.height+De.depth,tt=Ra(V,me,x),st=tt.height+tt.depth,bt=Ra(se,me,x),Et=bt.height+bt.depth,zt=0,Ut=1;if(B!==null){var Nt=Ra(B,me,x);zt=Nt.height+Nt.depth,Ut=2}var Rt=et+Et+zt,It=Rt+Math.max(0,Math.ceil((p-Rt)/(Ut*st)))*Ut*st,sn=g.fontMetrics().axisHeight;d&&(sn*=g.sizeMultiplier);var gn=It/2-sn,Bt=[];if(ve.length>0){var En=It-et-Et,Un=Math.round(1e3*It),Ni=function(Ii,Zt){switch(Ii){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+Zt+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+Zt+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+Zt+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+Zt+" v1759 h84z";case"vert":return"M145 15 v585 v"+Zt+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Zt+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Zt+" v585 h43z";case"doublevert":return"M145 15 v585 v"+Zt+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Zt+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Zt+` v585 h43z
M367 15 v585 v`+Zt+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Zt+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+Zt+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+Zt+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+Zt+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+Zt+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+Zt+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+Zt+` v602 h84z
M403 1759 V0 H319 V1759 v`+Zt+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+Zt+` v602 h84z
M347 1759 V0 h-84 V1759 v`+Zt+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(Zt+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(Zt+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(Zt+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(Zt+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}}(ve,Math.round(1e3*En)),zr=new Ye(ve,Ni),ar=(Te/1e3).toFixed(3)+"em",li=(Un/1e3).toFixed(3)+"em",La=new Oe([zr],{width:ar,height:li,viewBox:"0 0 "+Te+" "+Un}),or=le.makeSvgSpan([],[La],g);or.height=Un/1e3,or.style.width=ar,or.style.height=li,Bt.push({type:"elem",elem:or})}else{if(Bt.push(hl(se,me,x)),Bt.push(ko),B===null){var Oi=It-et-Et+.016;Bt.push(dl(V,Oi,g))}else{var Bn=(It-et-Et-zt)/2+.016;Bt.push(dl(V,Bn,g)),Bt.push(ko),Bt.push(hl(B,me,x)),Bt.push(ko),Bt.push(dl(V,Bn,g))}Bt.push(ko),Bt.push(hl(R,me,x))}var qr=g.havingBaseStyle(j.TEXT),us=le.makeVList({positionType:"bottom",positionData:gn,children:Bt},qr);return ul(le.makeSpan(["delimsizing","mult"],[us],qr),j.TEXT,g,A)},pl=.08,fl=function(c,p,d,g,x){var A=function(V,se,ve){se*=1e3;var Te="";switch(V){case"sqrtMain":Te=function(me,De){return"M95,"+(622+me+De)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+me/2.075+" -"+me+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+me)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+me)+" "+De+"h400000v"+(40+me)+"h-400000z"}(se,k);break;case"sqrtSize1":Te=function(me,De){return"M263,"+(601+me+De)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+me/2.084+" -"+me+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+me)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+me)+" "+De+"h400000v"+(40+me)+"h-400000z"}(se,k);break;case"sqrtSize2":Te=function(me,De){return"M983 "+(10+me+De)+`
l`+me/3.13+" -"+me+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+me)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+me)+" "+De+"h400000v"+(40+me)+"h-400000z"}(se,k);break;case"sqrtSize3":Te=function(me,De){return"M424,"+(2398+me+De)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+me/4.223+" -"+me+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+me)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+me)+" "+De+`
h400000v`+(40+me)+"h-400000z"}(se,k);break;case"sqrtSize4":Te=function(me,De){return"M473,"+(2713+me+De)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+me/5.298+" -"+me+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+me)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+me)+" "+De+"h400000v"+(40+me)+"H1017.7z"}(se,k);break;case"sqrtTall":Te=function(me,De,et){return"M702 "+(me+De)+"H400000"+(40+me)+`
H742v`+(et-54-De-me)+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+De+"H400000v"+(40+me)+"H742z"}(se,k,ve)}return Te}(c,g,d),R=new Ye(c,A),B=new Oe([R],{width:"400em",height:K(p),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});return le.makeSvgSpan(["hide-tail"],[B],x)},ah=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Ym=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],oh=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],$a=[0,1.2,1.8,2.4,3],Km=[{type:"small",style:j.SCRIPTSCRIPT},{type:"small",style:j.SCRIPT},{type:"small",style:j.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Zm=[{type:"small",style:j.SCRIPTSCRIPT},{type:"small",style:j.SCRIPT},{type:"small",style:j.TEXT},{type:"stack"}],lh=[{type:"small",style:j.SCRIPTSCRIPT},{type:"small",style:j.SCRIPT},{type:"small",style:j.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Jm=function(c){if(c.type==="small")return"Main-Regular";if(c.type==="large")return"Size"+c.size+"-Regular";if(c.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+c.type+"' here.")},ch=function(c,p,d,g){for(var x=Math.min(2,3-g.style.size);x<d.length&&d[x].type!=="stack";x++){var A=Ra(c,Jm(d[x]),"math"),R=A.height+A.depth;if(d[x].type==="small"&&(R*=g.havingBaseStyle(d[x].style).sizeMultiplier),R>p)return d[x]}return d[d.length-1]},uh=function(c,p,d,g,x,A){var R;c==="<"||c==="\\lt"||c==="⟨"?c="\\langle":c!==">"&&c!=="\\gt"&&c!=="⟩"||(c="\\rangle"),R=h.contains(oh,c)?Km:h.contains(ah,c)?lh:Zm;var B=ch(c,p,R,g);return B.type==="small"?function(V,se,ve,Te,me,De){var et=le.makeSymbol(V,"Main-Regular",me,Te),tt=ul(et,se,Te,De);return ve&&rh(tt,Te,se),tt}(c,B.style,d,g,x,A):B.type==="large"?ih(c,B.size,d,g,x,A):sh(c,p,d,g,x,A)},oi={sqrtImage:function(c,p){var d,g,x=p.havingBaseSizing(),A=ch("\\surd",c*x.sizeMultiplier,lh,x),R=x.sizeMultiplier,B=Math.max(0,p.minRuleThickness-p.fontMetrics().sqrtRuleThickness),V=0,se=0,ve=0;return A.type==="small"?(c<1?R=1:c<1.4&&(R=.7),se=(1+B)/R,(d=fl("sqrtMain",V=(1+B+pl)/R,ve=1e3+1e3*B+80,B,p)).style.minWidth="0.853em",g=.833/R):A.type==="large"?(ve=1080*$a[A.size],se=($a[A.size]+B)/R,V=($a[A.size]+B+pl)/R,(d=fl("sqrtSize"+A.size,V,ve,B,p)).style.minWidth="1.02em",g=1/R):(V=c+B+pl,se=c+B,ve=Math.floor(1e3*c+B)+80,(d=fl("sqrtTall",V,ve,B,p)).style.minWidth="0.742em",g=1.056),d.height=se,d.style.height=K(V),{span:d,advanceWidth:g,ruleWidth:(p.fontMetrics().sqrtRuleThickness+B)*R}},sizedDelim:function(c,p,d,g,x){if(c==="<"||c==="\\lt"||c==="⟨"?c="\\langle":c!==">"&&c!=="\\gt"&&c!=="⟩"||(c="\\rangle"),h.contains(ah,c)||h.contains(oh,c))return ih(c,p,!1,d,g,x);if(h.contains(Ym,c))return sh(c,$a[p],!1,d,g,x);throw new s("Illegal delimiter: '"+c+"'")},sizeToMaxHeight:$a,customSizedDelim:uh,leftRightDelim:function(c,p,d,g,x,A){var R=g.fontMetrics().axisHeight*g.sizeMultiplier,B=5/g.fontMetrics().ptPerEm,V=Math.max(p-R,d+R),se=Math.max(V/500*901,2*V-B);return uh(c,se,!0,g,x,A)}},hh={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Qm=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Co(c,p){var d=Eo(c);if(d&&h.contains(Qm,d.text))return d;throw new s(d?"Invalid delimiter '"+d.text+"' after '"+p.funcName+"'":"Invalid delimiter type '"+c.type+"'",c)}function dh(c){if(!c.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}je({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(c,p){var d=Co(p[0],c);return{type:"delimsizing",mode:c.parser.mode,size:hh[c.funcName].size,mclass:hh[c.funcName].mclass,delim:d.text}},htmlBuilder:function(c,p){return c.delim==="."?le.makeSpan([c.mclass]):oi.sizedDelim(c.delim,c.size,p,c.mode,[c.mclass])},mathmlBuilder:function(c){var p=[];c.delim!=="."&&p.push(Mr(c.delim,c.mode));var d=new Ve.MathNode("mo",p);c.mclass==="mopen"||c.mclass==="mclose"?d.setAttribute("fence","true"):d.setAttribute("fence","false"),d.setAttribute("stretchy","true");var g=K(oi.sizeToMaxHeight[c.size]);return d.setAttribute("minsize",g),d.setAttribute("maxsize",g),d}}),je({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(c,p){var d=c.parser.gullet.macros.get("\\current@color");if(d&&typeof d!="string")throw new s("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:c.parser.mode,delim:Co(p[0],c).text,color:d}}}),je({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(c,p){var d=Co(p[0],c),g=c.parser;++g.leftrightDepth;var x=g.parseExpression(!1);--g.leftrightDepth,g.expect("\\right",!1);var A=Ct(g.parseFunction(),"leftright-right");return{type:"leftright",mode:g.mode,body:x,left:d.text,right:A.delim,rightColor:A.color}},htmlBuilder:function(c,p){dh(c);for(var d,g,x=mn(c.body,p,!0,["mopen","mclose"]),A=0,R=0,B=!1,V=0;V<x.length;V++)x[V].isMiddle?B=!0:(A=Math.max(x[V].height,A),R=Math.max(x[V].depth,R));if(A*=p.sizeMultiplier,R*=p.sizeMultiplier,d=c.left==="."?ka(p,["mopen"]):oi.leftRightDelim(c.left,A,R,p,c.mode,["mopen"]),x.unshift(d),B)for(var se=1;se<x.length;se++){var ve=x[se].isMiddle;ve&&(x[se]=oi.leftRightDelim(ve.delim,A,R,ve.options,c.mode,[]))}if(c.right===".")g=ka(p,["mclose"]);else{var Te=c.rightColor?p.withColor(c.rightColor):p;g=oi.leftRightDelim(c.right,A,R,Te,c.mode,["mclose"])}return x.push(g),le.makeSpan(["minner"],x,p)},mathmlBuilder:function(c,p){dh(c);var d=sr(c.body,p);if(c.left!=="."){var g=new Ve.MathNode("mo",[Mr(c.left,c.mode)]);g.setAttribute("fence","true"),d.unshift(g)}if(c.right!=="."){var x=new Ve.MathNode("mo",[Mr(c.right,c.mode)]);x.setAttribute("fence","true"),c.rightColor&&x.setAttribute("mathcolor",c.rightColor),d.push(x)}return sl(d)}}),je({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(c,p){var d=Co(p[0],c);if(!c.parser.leftrightDepth)throw new s("\\middle without preceding \\left",d);return{type:"middle",mode:c.parser.mode,delim:d.text}},htmlBuilder:function(c,p){var d;if(c.delim===".")d=ka(p,[]);else{d=oi.sizedDelim(c.delim,1,p,c.mode,[]);var g={delim:c.delim,options:p};d.isMiddle=g}return d},mathmlBuilder:function(c,p){var d=c.delim==="\\vert"||c.delim==="|"?Mr("|","text"):Mr(c.delim,c.mode),g=new Ve.MathNode("mo",[d]);return g.setAttribute("fence","true"),g.setAttribute("lspace","0.05em"),g.setAttribute("rspace","0.05em"),g}});var ml=function(c,p){var d,g,x,A=le.wrapFragment(Ht(c.body,p),p),R=c.label.slice(1),B=p.sizeMultiplier,V=0,se=h.isCharacterBox(c.body);if(R==="sout")(d=le.makeSpan(["stretchy","sout"])).height=p.fontMetrics().defaultRuleThickness/B,V=-.5*p.fontMetrics().xHeight;else if(R==="phase"){var ve=H({number:.6,unit:"pt"},p),Te=H({number:.35,unit:"ex"},p);B/=p.havingBaseSizing().sizeMultiplier;var me=A.height+A.depth+ve+Te;A.style.paddingLeft=K(me/2+ve);var De=Math.floor(1e3*me*B),et="M400000 "+(g=De)+" H0 L"+g/2+" 0 l65 45 L145 "+(g-80)+" H400000z",tt=new Oe([new Ye("phase",et)],{width:"400em",height:K(De/1e3),viewBox:"0 0 400000 "+De,preserveAspectRatio:"xMinYMin slice"});(d=le.makeSvgSpan(["hide-tail"],[tt],p)).style.height=K(me),V=A.depth+ve+Te}else{/cancel/.test(R)?se||A.classes.push("cancel-pad"):R==="angl"?A.classes.push("anglpad"):A.classes.push("boxpad");var st=0,bt=0,Et=0;/box/.test(R)?(Et=Math.max(p.fontMetrics().fboxrule,p.minRuleThickness),bt=st=p.fontMetrics().fboxsep+(R==="colorbox"?0:Et)):R==="angl"?(st=4*(Et=Math.max(p.fontMetrics().defaultRuleThickness,p.minRuleThickness)),bt=Math.max(0,.25-A.depth)):bt=st=se?.2:0,d=Hm(A,R,st,bt,p),/fbox|boxed|fcolorbox/.test(R)?(d.style.borderStyle="solid",d.style.borderWidth=K(Et)):R==="angl"&&Et!==.049&&(d.style.borderTopWidth=K(Et),d.style.borderRightWidth=K(Et)),V=A.depth+bt,c.backgroundColor&&(d.style.backgroundColor=c.backgroundColor,c.borderColor&&(d.style.borderColor=c.borderColor))}if(c.backgroundColor)x=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:V},{type:"elem",elem:A,shift:0}]},p);else{var zt=/cancel|phase/.test(R)?["svg-align"]:[];x=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:A,shift:0},{type:"elem",elem:d,shift:V,wrapperClasses:zt}]},p)}return/cancel/.test(R)&&(x.height=A.height,x.depth=A.depth),/cancel/.test(R)&&!se?le.makeSpan(["mord","cancel-lap"],[x],p):le.makeSpan(["mord"],[x],p)},gl=function(c,p){var d=0,g=new Ve.MathNode(c.label.indexOf("colorbox")>-1?"mpadded":"menclose",[nn(c.body,p)]);switch(c.label){case"\\cancel":g.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":g.setAttribute("notation","downdiagonalstrike");break;case"\\phase":g.setAttribute("notation","phasorangle");break;case"\\sout":g.setAttribute("notation","horizontalstrike");break;case"\\fbox":g.setAttribute("notation","box");break;case"\\angl":g.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(d=p.fontMetrics().fboxsep*p.fontMetrics().ptPerEm,g.setAttribute("width","+"+2*d+"pt"),g.setAttribute("height","+"+2*d+"pt"),g.setAttribute("lspace",d+"pt"),g.setAttribute("voffset",d+"pt"),c.label==="\\fcolorbox"){var x=Math.max(p.fontMetrics().fboxrule,p.minRuleThickness);g.setAttribute("style","border: "+x+"em solid "+String(c.borderColor))}break;case"\\xcancel":g.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return c.backgroundColor&&g.setAttribute("mathbackground",c.backgroundColor),g};je({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(c,p,d){var g=c.parser,x=c.funcName,A=Ct(p[0],"color-token").color,R=p[1];return{type:"enclose",mode:g.mode,label:x,backgroundColor:A,body:R}},htmlBuilder:ml,mathmlBuilder:gl}),je({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(c,p,d){var g=c.parser,x=c.funcName,A=Ct(p[0],"color-token").color,R=Ct(p[1],"color-token").color,B=p[2];return{type:"enclose",mode:g.mode,label:x,backgroundColor:R,borderColor:A,body:B}},htmlBuilder:ml,mathmlBuilder:gl}),je({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(c,p){return{type:"enclose",mode:c.parser.mode,label:"\\fbox",body:p[0]}}}),je({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(c,p){var d=c.parser,g=c.funcName,x=p[0];return{type:"enclose",mode:d.mode,label:g,body:x}},htmlBuilder:ml,mathmlBuilder:gl}),je({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(c,p){return{type:"enclose",mode:c.parser.mode,label:"\\angl",body:p[0]}}});var ph={};function Vr(c){for(var p=c.type,d=c.names,g=c.props,x=c.handler,A=c.htmlBuilder,R=c.mathmlBuilder,B={type:p,numArgs:g.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:x},V=0;V<d.length;++V)ph[d[V]]=B;A&&(kt[p]=A),R&&($i[p]=R)}var fh={};function I(c,p){fh[c]=p}var Dr=function(){function c(p,d,g){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=p,this.start=d,this.end=g}return c.range=function(p,d){return d?p&&p.loc&&d.loc&&p.loc.lexer===d.loc.lexer?new c(p.loc.lexer,p.loc.start,d.loc.end):null:p&&p.loc},c}(),Li=function(){function c(p,d){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=p,this.loc=d}return c.prototype.range=function(p,d){return new c(d,Dr.range(this,p))},c}();function mh(c){var p=[];c.consumeSpaces();var d=c.fetch().text;for(d==="\\relax"&&(c.consume(),c.consumeSpaces(),d=c.fetch().text);d==="\\hline"||d==="\\hdashline";)c.consume(),p.push(d==="\\hdashline"),c.consumeSpaces(),d=c.fetch().text;return p}var Ro=function(c){if(!c.parser.settings.displayMode)throw new s("{"+c.envName+"} can be used only in display mode.")};function vl(c){if(c.indexOf("ed")===-1)return c.indexOf("*")===-1}function Di(c,p,d){var g=p.hskipBeforeAndAfter,x=p.addJot,A=p.cols,R=p.arraystretch,B=p.colSeparationType,V=p.autoTag,se=p.singleRow,ve=p.emptySingleRow,Te=p.maxNumCols,me=p.leqno;if(c.gullet.beginGroup(),se||c.gullet.macros.set("\\cr","\\\\\\relax"),!R){var De=c.gullet.expandMacroAsText("\\arraystretch");if(De==null)R=1;else if(!(R=parseFloat(De))||R<0)throw new s("Invalid \\arraystretch: "+De)}c.gullet.beginGroup();var et=[],tt=[et],st=[],bt=[],Et=V!=null?[]:void 0;function zt(){V&&c.gullet.macros.set("\\@eqnsw","1",!0)}function Ut(){Et&&(c.gullet.macros.get("\\df@tag")?(Et.push(c.subparse([new Li("\\df@tag")])),c.gullet.macros.set("\\df@tag",void 0,!0)):Et.push(!!V&&c.gullet.macros.get("\\@eqnsw")==="1"))}for(zt(),bt.push(mh(c));;){var Nt=c.parseExpression(!1,se?"\\end":"\\\\");c.gullet.endGroup(),c.gullet.beginGroup(),Nt={type:"ordgroup",mode:c.mode,body:Nt},d&&(Nt={type:"styling",mode:c.mode,style:d,body:[Nt]}),et.push(Nt);var Rt=c.fetch().text;if(Rt==="&"){if(Te&&et.length===Te){if(se||B)throw new s("Too many tab characters: &",c.nextToken);c.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}c.consume()}else{if(Rt==="\\end"){Ut(),et.length===1&&Nt.type==="styling"&&Nt.body[0].body.length===0&&(tt.length>1||!ve)&&tt.pop(),bt.length<tt.length+1&&bt.push([]);break}if(Rt!=="\\\\")throw new s("Expected & or \\\\ or \\cr or \\end",c.nextToken);c.consume();var It=void 0;c.gullet.future().text!==" "&&(It=c.parseSizeGroup(!0)),st.push(It?It.value:null),Ut(),bt.push(mh(c)),et=[],tt.push(et),zt()}}return c.gullet.endGroup(),c.gullet.endGroup(),{type:"array",mode:c.mode,addJot:x,arraystretch:R,body:tt,cols:A,rowGaps:st,hskipBeforeAndAfter:g,hLinesBeforeRow:bt,colSeparationType:B,tags:Et,leqno:me}}function bl(c){return c.slice(0,1)==="d"?"display":"text"}var Wr=function(c,p){var d,g,x=c.body.length,A=c.hLinesBeforeRow,R=0,B=new Array(x),V=[],se=Math.max(p.fontMetrics().arrayRuleWidth,p.minRuleThickness),ve=1/p.fontMetrics().ptPerEm,Te=5*ve;c.colSeparationType&&c.colSeparationType==="small"&&(Te=p.havingStyle(j.SCRIPT).sizeMultiplier/p.sizeMultiplier*.2778);var me=c.colSeparationType==="CD"?H({number:3,unit:"ex"},p):12*ve,De=3*ve,et=c.arraystretch*me,tt=.7*et,st=.3*et,bt=0;function Et(zo){for(var No=0;No<zo.length;++No)No>0&&(bt+=.25),V.push({pos:bt,isDashed:zo[No]})}for(Et(A[0]),d=0;d<c.body.length;++d){var zt=c.body[d],Ut=tt,Nt=st;R<zt.length&&(R=zt.length);var Rt=new Array(zt.length);for(g=0;g<zt.length;++g){var It=Ht(zt[g],p);Nt<It.depth&&(Nt=It.depth),Ut<It.height&&(Ut=It.height),Rt[g]=It}var sn=c.rowGaps[d],gn=0;sn&&(gn=H(sn,p))>0&&(Nt<(gn+=st)&&(Nt=gn),gn=0),c.addJot&&(Nt+=De),Rt.height=Ut,Rt.depth=Nt,bt+=Ut,Rt.pos=bt,bt+=Nt+gn,B[d]=Rt,Et(A[d+1])}var Bt,En,Un=bt/2+p.fontMetrics().axisHeight,Ni=c.cols||[],zr=[],ar=[];if(c.tags&&c.tags.some(function(zo){return zo}))for(d=0;d<x;++d){var li=B[d],La=li.pos-Un,or=c.tags[d],Oi=void 0;(Oi=or===!0?le.makeSpan(["eqn-num"],[],p):or===!1?le.makeSpan([],[],p):le.makeSpan([],mn(or,p,!0),p)).depth=li.depth,Oi.height=li.height,ar.push({type:"elem",elem:Oi,shift:La})}for(g=0,En=0;g<R||En<Ni.length;++g,++En){for(var Bn=Ni[En]||{},qr=!0;Bn.type==="separator";){if(qr||((Bt=le.makeSpan(["arraycolsep"],[])).style.width=K(p.fontMetrics().doubleRuleSep),zr.push(Bt)),Bn.separator!=="|"&&Bn.separator!==":")throw new s("Invalid separator type: "+Bn.separator);var us=Bn.separator==="|"?"solid":"dashed",Ii=le.makeSpan(["vertical-separator"],[],p);Ii.style.height=K(bt),Ii.style.borderRightWidth=K(se),Ii.style.borderRightStyle=us,Ii.style.margin="0 "+K(-se/2);var Zt=bt-Un;Zt&&(Ii.style.verticalAlign=K(-Zt)),zr.push(Ii),Bn=Ni[++En]||{},qr=!1}if(!(g>=R)){var Po=void 0;(g>0||c.hskipBeforeAndAfter)&&(Po=h.deflt(Bn.pregap,Te))!==0&&((Bt=le.makeSpan(["arraycolsep"],[])).style.width=K(Po),zr.push(Bt));var Os=[];for(d=0;d<x;++d){var Lo=B[d],Do=Lo[g];if(Do){var d4=Lo.pos-Un;Do.depth=Lo.depth,Do.height=Lo.height,Os.push({type:"elem",elem:Do,shift:d4})}}Os=le.makeVList({positionType:"individualShift",children:Os},p),Os=le.makeSpan(["col-align-"+(Bn.align||"c")],[Os]),zr.push(Os),(g<R-1||c.hskipBeforeAndAfter)&&(Po=h.deflt(Bn.postgap,Te))!==0&&((Bt=le.makeSpan(["arraycolsep"],[])).style.width=K(Po),zr.push(Bt))}}if(B=le.makeSpan(["mtable"],zr),V.length>0){for(var p4=le.makeLineSpan("hline",p,se),f4=le.makeLineSpan("hdashline",p,se),Rl=[{type:"elem",elem:B,shift:0}];V.length>0;){var Kh=V.pop(),Zh=Kh.pos-Un;Kh.isDashed?Rl.push({type:"elem",elem:f4,shift:Zh}):Rl.push({type:"elem",elem:p4,shift:Zh})}B=le.makeVList({positionType:"individualShift",children:Rl},p)}if(ar.length===0)return le.makeSpan(["mord"],[B],p);var $l=le.makeVList({positionType:"individualShift",children:ar},p);return $l=le.makeSpan(["tag"],[$l],p),le.makeFragment([B,$l])},e4={c:"center ",l:"left ",r:"right "},jr=function(c,p){for(var d=[],g=new Ve.MathNode("mtd",[],["mtr-glue"]),x=new Ve.MathNode("mtd",[],["mml-eqn-num"]),A=0;A<c.body.length;A++){for(var R=c.body[A],B=[],V=0;V<R.length;V++)B.push(new Ve.MathNode("mtd",[nn(R[V],p)]));c.tags&&c.tags[A]&&(B.unshift(g),B.push(g),c.leqno?B.unshift(x):B.push(x)),d.push(new Ve.MathNode("mtr",B))}var se=new Ve.MathNode("mtable",d),ve=c.arraystretch===.5?.1:.16+c.arraystretch-1+(c.addJot?.09:0);se.setAttribute("rowspacing",K(ve));var Te="",me="";if(c.cols&&c.cols.length>0){var De=c.cols,et="",tt=!1,st=0,bt=De.length;De[0].type==="separator"&&(Te+="top ",st=1),De[De.length-1].type==="separator"&&(Te+="bottom ",bt-=1);for(var Et=st;Et<bt;Et++)De[Et].type==="align"?(me+=e4[De[Et].align],tt&&(et+="none "),tt=!0):De[Et].type==="separator"&&tt&&(et+=De[Et].separator==="|"?"solid ":"dashed ",tt=!1);se.setAttribute("columnalign",me.trim()),/[sd]/.test(et)&&se.setAttribute("columnlines",et.trim())}if(c.colSeparationType==="align"){for(var zt=c.cols||[],Ut="",Nt=1;Nt<zt.length;Nt++)Ut+=Nt%2?"0em ":"1em ";se.setAttribute("columnspacing",Ut.trim())}else c.colSeparationType==="alignat"||c.colSeparationType==="gather"?se.setAttribute("columnspacing","0em"):c.colSeparationType==="small"?se.setAttribute("columnspacing","0.2778em"):c.colSeparationType==="CD"?se.setAttribute("columnspacing","0.5em"):se.setAttribute("columnspacing","1em");var Rt="",It=c.hLinesBeforeRow;Te+=It[0].length>0?"left ":"",Te+=It[It.length-1].length>0?"right ":"";for(var sn=1;sn<It.length-1;sn++)Rt+=It[sn].length===0?"none ":It[sn][0]?"dashed ":"solid ";return/[sd]/.test(Rt)&&se.setAttribute("rowlines",Rt.trim()),Te!==""&&(se=new Ve.MathNode("menclose",[se])).setAttribute("notation",Te.trim()),c.arraystretch&&c.arraystretch<1&&(se=new Ve.MathNode("mstyle",[se])).setAttribute("scriptlevel","1"),se},gh=function(c,p){c.envName.indexOf("ed")===-1&&Ro(c);var d,g=[],x=c.envName.indexOf("at")>-1?"alignat":"align",A=c.envName==="split",R=Di(c.parser,{cols:g,addJot:!0,autoTag:A?void 0:vl(c.envName),emptySingleRow:!0,colSeparationType:x,maxNumCols:A?2:void 0,leqno:c.parser.settings.leqno},"display"),B=0,V={type:"ordgroup",mode:c.mode,body:[]};if(p[0]&&p[0].type==="ordgroup"){for(var se="",ve=0;ve<p[0].body.length;ve++)se+=Ct(p[0].body[ve],"textord").text;d=Number(se),B=2*d}var Te=!B;R.body.forEach(function(tt){for(var st=1;st<tt.length;st+=2){var bt=Ct(tt[st],"styling");Ct(bt.body[0],"ordgroup").body.unshift(V)}if(Te)B<tt.length&&(B=tt.length);else{var Et=tt.length/2;if(d<Et)throw new s("Too many math in a row: expected "+d+", but got "+Et,tt[0])}});for(var me=0;me<B;++me){var De="r",et=0;me%2==1?De="l":me>0&&Te&&(et=1),g[me]={type:"align",align:De,pregap:et,postgap:0}}return R.colSeparationType=Te?"align":"alignat",R};Vr({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(c,p){var d=(Eo(p[0])?[p[0]]:Ct(p[0],"ordgroup").body).map(function(x){var A=ol(x).text;if("lcr".indexOf(A)!==-1)return{type:"align",align:A};if(A==="|")return{type:"separator",separator:"|"};if(A===":")return{type:"separator",separator:":"};throw new s("Unknown column alignment: "+A,x)}),g={cols:d,hskipBeforeAndAfter:!0,maxNumCols:d.length};return Di(c.parser,g,bl(c.envName))},htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(c){var p={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[c.envName.replace("*","")],d="c",g={hskipBeforeAndAfter:!1,cols:[{type:"align",align:d}]};if(c.envName.charAt(c.envName.length-1)==="*"){var x=c.parser;if(x.consumeSpaces(),x.fetch().text==="["){if(x.consume(),x.consumeSpaces(),d=x.fetch().text,"lcr".indexOf(d)===-1)throw new s("Expected l or c or r",x.nextToken);x.consume(),x.consumeSpaces(),x.expect("]"),x.consume(),g.cols=[{type:"align",align:d}]}}var A=Di(c.parser,g,bl(c.envName)),R=Math.max.apply(Math,[0].concat(A.body.map(function(B){return B.length})));return A.cols=new Array(R).fill({type:"align",align:d}),p?{type:"leftright",mode:c.mode,body:[A],left:p[0],right:p[1],rightColor:void 0}:A},htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(c){var p=Di(c.parser,{arraystretch:.5},"script");return p.colSeparationType="small",p},htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["subarray"],props:{numArgs:1},handler:function(c,p){var d=(Eo(p[0])?[p[0]]:Ct(p[0],"ordgroup").body).map(function(x){var A=ol(x).text;if("lc".indexOf(A)!==-1)return{type:"align",align:A};throw new s("Unknown column alignment: "+A,x)});if(d.length>1)throw new s("{subarray} can contain only one column");var g={cols:d,hskipBeforeAndAfter:!1,arraystretch:.5};if((g=Di(c.parser,g,"script")).body.length>0&&g.body[0].length>1)throw new s("{subarray} can contain only one column");return g},htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(c){var p=Di(c.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},bl(c.envName));return{type:"leftright",mode:c.mode,body:[p],left:c.envName.indexOf("r")>-1?".":"\\{",right:c.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:gh,htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(c){h.contains(["gather","gather*"],c.envName)&&Ro(c);var p={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:vl(c.envName),emptySingleRow:!0,leqno:c.parser.settings.leqno};return Di(c.parser,p,"display")},htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:gh,htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(c){Ro(c);var p={autoTag:vl(c.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:c.parser.settings.leqno};return Di(c.parser,p,"display")},htmlBuilder:Wr,mathmlBuilder:jr}),Vr({type:"array",names:["CD"],props:{numArgs:0},handler:function(c){return Ro(c),function(p){var d=[];for(p.gullet.beginGroup(),p.gullet.macros.set("\\cr","\\\\\\relax"),p.gullet.beginGroup();;){d.push(p.parseExpression(!1,"\\\\")),p.gullet.endGroup(),p.gullet.beginGroup();var g=p.fetch().text;if(g!=="&"&&g!=="\\\\"){if(g==="\\end"){d[d.length-1].length===0&&d.pop();break}throw new s("Expected \\\\ or \\cr or \\end",p.nextToken)}p.consume()}for(var x,A,R=[],B=[R],V=0;V<d.length;V++){for(var se=d[V],ve={type:"styling",body:[],mode:"math",style:"display"},Te=0;Te<se.length;Te++)if(Ju(se[Te])){R.push(ve);var me=ol(se[Te+=1]).text,De=new Array(2);if(De[0]={type:"ordgroup",mode:"math",body:[]},De[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(me)>-1)){if(!("<>AV".indexOf(me)>-1))throw new s('Expected one of "<>AV=|." after @',se[Te]);for(var et=0;et<2;et++){for(var tt=!0,st=Te+1;st<se.length;st++){if(A=me,((x=se[st]).type==="mathord"||x.type==="atom")&&x.text===A){tt=!1,Te=st;break}if(Ju(se[st]))throw new s("Missing a "+me+" character to complete a CD arrow.",se[st]);De[et].body.push(se[st])}if(tt)throw new s("Missing a "+me+" character to complete a CD arrow.",se[Te])}}var bt={type:"styling",body:[jm(me,De,p)],mode:"math",style:"display"};R.push(bt),ve={type:"styling",body:[],mode:"math",style:"display"}}else ve.body.push(se[Te]);V%2==0?R.push(ve):R.shift(),R=[],B.push(R)}return p.gullet.endGroup(),p.gullet.endGroup(),{type:"array",mode:"math",body:B,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(B[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(B.length+1).fill([])}}(c.parser)},htmlBuilder:Wr,mathmlBuilder:jr}),I("\\nonumber","\\gdef\\@eqnsw{0}"),I("\\notag","\\nonumber"),je({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(c,p){throw new s(c.funcName+" valid only within array environment")}});var vh=ph;je({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(c,p){var d=c.parser,g=c.funcName,x=p[0];if(x.type!=="ordgroup")throw new s("Invalid environment name",x);for(var A="",R=0;R<x.body.length;++R)A+=Ct(x.body[R],"textord").text;if(g==="\\begin"){if(!vh.hasOwnProperty(A))throw new s("No such environment: "+A,x);var B=vh[A],V=d.parseArguments("\\begin{"+A+"}",B),se=V.args,ve=V.optArgs,Te={mode:d.mode,envName:A,parser:d},me=B.handler(Te,se,ve);d.expect("\\end",!1);var De=d.nextToken,et=Ct(d.parseFunction(),"environment");if(et.name!==A)throw new s("Mismatch: \\begin{"+A+"} matched by \\end{"+et.name+"}",De);return me}return{type:"environment",mode:d.mode,name:A,nameGroup:x}}});var bh=function(c,p){var d=c.font,g=p.withFont(d);return Ht(c.body,g)},yh=function(c,p){var d=c.font,g=p.withFont(d);return nn(c.body,g)},xh={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};je({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(c,p){var d=c.parser,g=c.funcName,x=cs(p[0]),A=g;return A in xh&&(A=xh[A]),{type:"font",mode:d.mode,font:A.slice(1),body:x}},htmlBuilder:bh,mathmlBuilder:yh}),je({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(c,p){var d=c.parser,g=p[0],x=h.isCharacterBox(g);return{type:"mclass",mode:d.mode,mclass:Ao(g),body:[{type:"font",mode:d.mode,font:"boldsymbol",body:g}],isCharacterBox:x}}}),je({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(c,p){var d=c.parser,g=c.funcName,x=c.breakOnTokenText,A=d.mode,R=d.parseExpression(!0,x);return{type:"font",mode:A,font:"math"+g.slice(1),body:{type:"ordgroup",mode:d.mode,body:R}}},htmlBuilder:bh,mathmlBuilder:yh});var wh=function(c,p){var d=p;return c==="display"?d=d.id>=j.SCRIPT.id?d.text():j.DISPLAY:c==="text"&&d.size===j.DISPLAY.size?d=j.TEXT:c==="script"?d=j.SCRIPT:c==="scriptscript"&&(d=j.SCRIPTSCRIPT),d},yl=function(c,p){var d,g=wh(c.size,p.style),x=g.fracNum(),A=g.fracDen();d=p.havingStyle(x);var R=Ht(c.numer,d,p);if(c.continued){var B=8.5/p.fontMetrics().ptPerEm,V=3.5/p.fontMetrics().ptPerEm;R.height=R.height<B?B:R.height,R.depth=R.depth<V?V:R.depth}d=p.havingStyle(A);var se,ve,Te,me,De,et,tt,st,bt,Et,zt=Ht(c.denom,d,p);if(c.hasBarLine?(c.barSize?(ve=H(c.barSize,p),se=le.makeLineSpan("frac-line",p,ve)):se=le.makeLineSpan("frac-line",p),ve=se.height,Te=se.height):(se=null,ve=0,Te=p.fontMetrics().defaultRuleThickness),g.size===j.DISPLAY.size||c.size==="display"?(me=p.fontMetrics().num1,De=ve>0?3*Te:7*Te,et=p.fontMetrics().denom1):(ve>0?(me=p.fontMetrics().num2,De=Te):(me=p.fontMetrics().num3,De=3*Te),et=p.fontMetrics().denom2),se){var Ut=p.fontMetrics().axisHeight;me-R.depth-(Ut+.5*ve)<De&&(me+=De-(me-R.depth-(Ut+.5*ve))),Ut-.5*ve-(zt.height-et)<De&&(et+=De-(Ut-.5*ve-(zt.height-et)));var Nt=-(Ut-.5*ve);tt=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:zt,shift:et},{type:"elem",elem:se,shift:Nt},{type:"elem",elem:R,shift:-me}]},p)}else{var Rt=me-R.depth-(zt.height-et);Rt<De&&(me+=.5*(De-Rt),et+=.5*(De-Rt)),tt=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:zt,shift:et},{type:"elem",elem:R,shift:-me}]},p)}return d=p.havingStyle(g),tt.height*=d.sizeMultiplier/p.sizeMultiplier,tt.depth*=d.sizeMultiplier/p.sizeMultiplier,st=g.size===j.DISPLAY.size?p.fontMetrics().delim1:g.size===j.SCRIPTSCRIPT.size?p.havingStyle(j.SCRIPT).fontMetrics().delim2:p.fontMetrics().delim2,bt=c.leftDelim==null?ka(p,["mopen"]):oi.customSizedDelim(c.leftDelim,st,!0,p.havingStyle(g),c.mode,["mopen"]),Et=c.continued?le.makeSpan([]):c.rightDelim==null?ka(p,["mclose"]):oi.customSizedDelim(c.rightDelim,st,!0,p.havingStyle(g),c.mode,["mclose"]),le.makeSpan(["mord"].concat(d.sizingClasses(p)),[bt,le.makeSpan(["mfrac"],[tt]),Et],p)},xl=function(c,p){var d=new Ve.MathNode("mfrac",[nn(c.numer,p),nn(c.denom,p)]);if(c.hasBarLine){if(c.barSize){var g=H(c.barSize,p);d.setAttribute("linethickness",K(g))}}else d.setAttribute("linethickness","0px");var x=wh(c.size,p.style);if(x.size!==p.style.size){d=new Ve.MathNode("mstyle",[d]);var A=x.size===j.DISPLAY.size?"true":"false";d.setAttribute("displaystyle",A),d.setAttribute("scriptlevel","0")}if(c.leftDelim!=null||c.rightDelim!=null){var R=[];if(c.leftDelim!=null){var B=new Ve.MathNode("mo",[new Ve.TextNode(c.leftDelim.replace("\\",""))]);B.setAttribute("fence","true"),R.push(B)}if(R.push(d),c.rightDelim!=null){var V=new Ve.MathNode("mo",[new Ve.TextNode(c.rightDelim.replace("\\",""))]);V.setAttribute("fence","true"),R.push(V)}return sl(R)}return d};je({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(c,p){var d,g=c.parser,x=c.funcName,A=p[0],R=p[1],B=null,V=null,se="auto";switch(x){case"\\dfrac":case"\\frac":case"\\tfrac":d=!0;break;case"\\\\atopfrac":d=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":d=!1,B="(",V=")";break;case"\\\\bracefrac":d=!1,B="\\{",V="\\}";break;case"\\\\brackfrac":d=!1,B="[",V="]";break;default:throw new Error("Unrecognized genfrac command")}switch(x){case"\\dfrac":case"\\dbinom":se="display";break;case"\\tfrac":case"\\tbinom":se="text"}return{type:"genfrac",mode:g.mode,continued:!1,numer:A,denom:R,hasBarLine:d,leftDelim:B,rightDelim:V,size:se,barSize:null}},htmlBuilder:yl,mathmlBuilder:xl}),je({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(c,p){var d=c.parser,g=(c.funcName,p[0]),x=p[1];return{type:"genfrac",mode:d.mode,continued:!0,numer:g,denom:x,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),je({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(c){var p,d=c.parser,g=c.funcName,x=c.token;switch(g){case"\\over":p="\\frac";break;case"\\choose":p="\\binom";break;case"\\atop":p="\\\\atopfrac";break;case"\\brace":p="\\\\bracefrac";break;case"\\brack":p="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:d.mode,replaceWith:p,token:x}}});var _h=["display","text","script","scriptscript"],Sh=function(c){var p=null;return c.length>0&&(p=(p=c)==="."?null:p),p};je({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(c,p){var d,g=c.parser,x=p[4],A=p[5],R=cs(p[0]),B=R.type==="atom"&&R.family==="open"?Sh(R.text):null,V=cs(p[1]),se=V.type==="atom"&&V.family==="close"?Sh(V.text):null,ve=Ct(p[2],"size"),Te=null;d=!!ve.isBlank||(Te=ve.value).number>0;var me="auto",De=p[3];if(De.type==="ordgroup"){if(De.body.length>0){var et=Ct(De.body[0],"textord");me=_h[Number(et.text)]}}else De=Ct(De,"textord"),me=_h[Number(De.text)];return{type:"genfrac",mode:g.mode,numer:x,denom:A,continued:!1,hasBarLine:d,barSize:Te,leftDelim:B,rightDelim:se,size:me}},htmlBuilder:yl,mathmlBuilder:xl}),je({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(c,p){var d=c.parser,g=(c.funcName,c.token);return{type:"infix",mode:d.mode,replaceWith:"\\\\abovefrac",size:Ct(p[0],"size").value,token:g}}}),je({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(c,p){var d=c.parser,g=(c.funcName,p[0]),x=function(B){if(!B)throw new Error("Expected non-null, but got "+String(B));return B}(Ct(p[1],"infix").size),A=p[2],R=x.number>0;return{type:"genfrac",mode:d.mode,numer:g,denom:A,continued:!1,hasBarLine:R,barSize:x,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:yl,mathmlBuilder:xl});var Mh=function(c,p){var d,g,x=p.style;c.type==="supsub"?(d=c.sup?Ht(c.sup,p.havingStyle(x.sup()),p):Ht(c.sub,p.havingStyle(x.sub()),p),g=Ct(c.base,"horizBrace")):g=Ct(c,"horizBrace");var A,R=Ht(g.base,p.havingBaseStyle(j.DISPLAY)),B=Mo(g,p);if(g.isOver?(A=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:R},{type:"kern",size:.1},{type:"elem",elem:B}]},p)).children[0].children[0].children[1].classes.push("svg-align"):(A=le.makeVList({positionType:"bottom",positionData:R.depth+.1+B.height,children:[{type:"elem",elem:B},{type:"kern",size:.1},{type:"elem",elem:R}]},p)).children[0].children[0].children[0].classes.push("svg-align"),d){var V=le.makeSpan(["mord",g.isOver?"mover":"munder"],[A],p);A=g.isOver?le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:V},{type:"kern",size:.2},{type:"elem",elem:d}]},p):le.makeVList({positionType:"bottom",positionData:V.depth+.2+d.height+d.depth,children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:V}]},p)}return le.makeSpan(["mord",g.isOver?"mover":"munder"],[A],p)};je({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(c,p){var d=c.parser,g=c.funcName;return{type:"horizBrace",mode:d.mode,label:g,isOver:/^\\over/.test(g),base:p[0]}},htmlBuilder:Mh,mathmlBuilder:function(c,p){var d=So(c.label);return new Ve.MathNode(c.isOver?"mover":"munder",[nn(c.base,p),d])}}),je({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(c,p){var d=c.parser,g=p[1],x=Ct(p[0],"url").url;return d.settings.isTrusted({command:"\\href",url:x})?{type:"href",mode:d.mode,href:x,body:tn(g)}:d.formatUnsupportedCmd("\\href")},htmlBuilder:function(c,p){var d=mn(c.body,p,!1);return le.makeAnchor(c.href,[],d,p)},mathmlBuilder:function(c,p){var d=Pi(c.body,p);return d instanceof Sr||(d=new Sr("mrow",[d])),d.setAttribute("href",c.href),d}}),je({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(c,p){var d=c.parser,g=Ct(p[0],"url").url;if(!d.settings.isTrusted({command:"\\url",url:g}))return d.formatUnsupportedCmd("\\url");for(var x=[],A=0;A<g.length;A++){var R=g[A];R==="~"&&(R="\\textasciitilde"),x.push({type:"textord",mode:"text",text:R})}var B={type:"text",mode:d.mode,font:"\\texttt",body:x};return{type:"href",mode:d.mode,href:g,body:tn(B)}}}),je({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(c,p){return{type:"hbox",mode:c.parser.mode,body:tn(p[0])}},htmlBuilder:function(c,p){var d=mn(c.body,p,!1);return le.makeFragment(d)},mathmlBuilder:function(c,p){return new Ve.MathNode("mrow",sr(c.body,p))}}),je({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(c,p){var d,g=c.parser,x=c.funcName,A=(c.token,Ct(p[0],"raw").string),R=p[1];g.settings.strict&&g.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var B={};switch(x){case"\\htmlClass":B.class=A,d={command:"\\htmlClass",class:A};break;case"\\htmlId":B.id=A,d={command:"\\htmlId",id:A};break;case"\\htmlStyle":B.style=A,d={command:"\\htmlStyle",style:A};break;case"\\htmlData":for(var V=A.split(","),se=0;se<V.length;se++){var ve=V[se].split("=");if(ve.length!==2)throw new s("Error parsing key-value for \\htmlData");B["data-"+ve[0].trim()]=ve[1].trim()}d={command:"\\htmlData",attributes:B};break;default:throw new Error("Unrecognized html command")}return g.settings.isTrusted(d)?{type:"html",mode:g.mode,attributes:B,body:tn(R)}:g.formatUnsupportedCmd(x)},htmlBuilder:function(c,p){var d=mn(c.body,p,!1),g=["enclosing"];c.attributes.class&&g.push.apply(g,c.attributes.class.trim().split(/\s+/));var x=le.makeSpan(g,d,p);for(var A in c.attributes)A!=="class"&&c.attributes.hasOwnProperty(A)&&x.setAttribute(A,c.attributes[A]);return x},mathmlBuilder:function(c,p){return Pi(c.body,p)}}),je({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(c,p){return{type:"htmlmathml",mode:c.parser.mode,html:tn(p[0]),mathml:tn(p[1])}},htmlBuilder:function(c,p){var d=mn(c.html,p,!1);return le.makeFragment(d)},mathmlBuilder:function(c,p){return Pi(c.mathml,p)}});var wl=function(c){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(c))return{number:+c,unit:"bp"};var p=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(c);if(!p)throw new s("Invalid size: '"+c+"' in \\includegraphics");var d={number:+(p[1]+p[2]),unit:p[3]};if(!ke(d))throw new s("Invalid unit: '"+d.unit+"' in \\includegraphics.");return d};je({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(c,p,d){var g=c.parser,x={number:0,unit:"em"},A={number:.9,unit:"em"},R={number:0,unit:"em"},B="";if(d[0])for(var V=Ct(d[0],"raw").string.split(","),se=0;se<V.length;se++){var ve=V[se].split("=");if(ve.length===2){var Te=ve[1].trim();switch(ve[0].trim()){case"alt":B=Te;break;case"width":x=wl(Te);break;case"height":A=wl(Te);break;case"totalheight":R=wl(Te);break;default:throw new s("Invalid key: '"+ve[0]+"' in \\includegraphics.")}}}var me=Ct(p[0],"url").url;return B===""&&(B=(B=(B=me).replace(/^.*[\\/]/,"")).substring(0,B.lastIndexOf("."))),g.settings.isTrusted({command:"\\includegraphics",url:me})?{type:"includegraphics",mode:g.mode,alt:B,width:x,height:A,totalheight:R,src:me}:g.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(c,p){var d=H(c.height,p),g=0;c.totalheight.number>0&&(g=H(c.totalheight,p)-d);var x=0;c.width.number>0&&(x=H(c.width,p));var A={height:K(d+g)};x>0&&(A.width=K(x)),g>0&&(A.verticalAlign=K(-g));var R=new Pe(c.src,c.alt,A);return R.height=d,R.depth=g,R},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mglyph",[]);d.setAttribute("alt",c.alt);var g=H(c.height,p),x=0;if(c.totalheight.number>0&&(x=H(c.totalheight,p)-g,d.setAttribute("valign",K(-x))),d.setAttribute("height",K(g+x)),c.width.number>0){var A=H(c.width,p);d.setAttribute("width",K(A))}return d.setAttribute("src",c.src),d}}),je({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(c,p){var d=c.parser,g=c.funcName,x=Ct(p[0],"size");if(d.settings.strict){var A=g[1]==="m",R=x.value.unit==="mu";A?(R||d.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+g+" supports only mu units, not "+x.value.unit+" units"),d.mode!=="math"&&d.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+g+" works only in math mode")):R&&d.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+g+" doesn't support mu units")}return{type:"kern",mode:d.mode,dimension:x.value}},htmlBuilder:function(c,p){return le.makeGlue(c.dimension,p)},mathmlBuilder:function(c,p){var d=H(c.dimension,p);return new Ve.SpaceNode(d)}}),je({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(c,p){var d=c.parser,g=c.funcName,x=p[0];return{type:"lap",mode:d.mode,alignment:g.slice(5),body:x}},htmlBuilder:function(c,p){var d;c.alignment==="clap"?(d=le.makeSpan([],[Ht(c.body,p)]),d=le.makeSpan(["inner"],[d],p)):d=le.makeSpan(["inner"],[Ht(c.body,p)]);var g=le.makeSpan(["fix"],[]),x=le.makeSpan([c.alignment],[d,g],p),A=le.makeSpan(["strut"]);return A.style.height=K(x.height+x.depth),x.depth&&(A.style.verticalAlign=K(-x.depth)),x.children.unshift(A),x=le.makeSpan(["thinbox"],[x],p),le.makeSpan(["mord","vbox"],[x],p)},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mpadded",[nn(c.body,p)]);if(c.alignment!=="rlap"){var g=c.alignment==="llap"?"-1":"-0.5";d.setAttribute("lspace",g+"width")}return d.setAttribute("width","0px"),d}}),je({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(c,p){var d=c.funcName,g=c.parser,x=g.mode;g.switchMode("math");var A=d==="\\("?"\\)":"$",R=g.parseExpression(!1,A);return g.expect(A),g.switchMode(x),{type:"styling",mode:g.mode,style:"text",body:R}}}),je({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(c,p){throw new s("Mismatched "+c.funcName)}});var Eh=function(c,p){switch(p.style.size){case j.DISPLAY.size:return c.display;case j.TEXT.size:return c.text;case j.SCRIPT.size:return c.script;case j.SCRIPTSCRIPT.size:return c.scriptscript;default:return c.text}};je({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(c,p){return{type:"mathchoice",mode:c.parser.mode,display:tn(p[0]),text:tn(p[1]),script:tn(p[2]),scriptscript:tn(p[3])}},htmlBuilder:function(c,p){var d=Eh(c,p),g=mn(d,p,!1);return le.makeFragment(g)},mathmlBuilder:function(c,p){var d=Eh(c,p);return Pi(d,p)}});var Th=function(c,p,d,g,x,A,R){c=le.makeSpan([],[c]);var B,V,se,ve=d&&h.isCharacterBox(d);if(p){var Te=Ht(p,g.havingStyle(x.sup()),g);V={elem:Te,kern:Math.max(g.fontMetrics().bigOpSpacing1,g.fontMetrics().bigOpSpacing3-Te.depth)}}if(d){var me=Ht(d,g.havingStyle(x.sub()),g);B={elem:me,kern:Math.max(g.fontMetrics().bigOpSpacing2,g.fontMetrics().bigOpSpacing4-me.height)}}if(V&&B){var De=g.fontMetrics().bigOpSpacing5+B.elem.height+B.elem.depth+B.kern+c.depth+R;se=le.makeVList({positionType:"bottom",positionData:De,children:[{type:"kern",size:g.fontMetrics().bigOpSpacing5},{type:"elem",elem:B.elem,marginLeft:K(-A)},{type:"kern",size:B.kern},{type:"elem",elem:c},{type:"kern",size:V.kern},{type:"elem",elem:V.elem,marginLeft:K(A)},{type:"kern",size:g.fontMetrics().bigOpSpacing5}]},g)}else if(B){var et=c.height-R;se=le.makeVList({positionType:"top",positionData:et,children:[{type:"kern",size:g.fontMetrics().bigOpSpacing5},{type:"elem",elem:B.elem,marginLeft:K(-A)},{type:"kern",size:B.kern},{type:"elem",elem:c}]},g)}else{if(!V)return c;var tt=c.depth+R;se=le.makeVList({positionType:"bottom",positionData:tt,children:[{type:"elem",elem:c},{type:"kern",size:V.kern},{type:"elem",elem:V.elem,marginLeft:K(A)},{type:"kern",size:g.fontMetrics().bigOpSpacing5}]},g)}var st=[se];if(B&&A!==0&&!ve){var bt=le.makeSpan(["mspace"],[],g);bt.style.marginRight=K(A),st.unshift(bt)}return le.makeSpan(["mop","op-limits"],st,g)},Ah=["\\smallint"],Ns=function(c,p){var d,g,x,A=!1;c.type==="supsub"?(d=c.sup,g=c.sub,x=Ct(c.base,"op"),A=!0):x=Ct(c,"op");var R,B=p.style,V=!1;if(B.size===j.DISPLAY.size&&x.symbol&&!h.contains(Ah,x.name)&&(V=!0),x.symbol){var se=V?"Size2-Regular":"Size1-Regular",ve="";if(x.name!=="\\oiint"&&x.name!=="\\oiiint"||(ve=x.name.slice(1),x.name=ve==="oiint"?"\\iint":"\\iiint"),R=le.makeSymbol(x.name,se,"math",p,["mop","op-symbol",V?"large-op":"small-op"]),ve.length>0){var Te=R.italic,me=le.staticSvg(ve+"Size"+(V?"2":"1"),p);R=le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:R,shift:0},{type:"elem",elem:me,shift:V?.08:0}]},p),x.name="\\"+ve,R.classes.unshift("mop"),R.italic=Te}}else if(x.body){var De=mn(x.body,p,!0);De.length===1&&De[0]instanceof ze?(R=De[0]).classes[0]="mop":R=le.makeSpan(["mop"],De,p)}else{for(var et=[],tt=1;tt<x.name.length;tt++)et.push(le.mathsym(x.name[tt],x.mode,p));R=le.makeSpan(["mop"],et,p)}var st=0,bt=0;return(R instanceof ze||x.name==="\\oiint"||x.name==="\\oiiint")&&!x.suppressBaseShift&&(st=(R.height-R.depth)/2-p.fontMetrics().axisHeight,bt=R.italic),A?Th(R,d,g,p,B,bt,st):(st&&(R.style.position="relative",R.style.top=K(st)),R)},Pa=function(c,p){var d;if(c.symbol)d=new Sr("mo",[Mr(c.name,c.mode)]),h.contains(Ah,c.name)&&d.setAttribute("largeop","false");else if(c.body)d=new Sr("mo",sr(c.body,p));else{d=new Sr("mi",[new Ca(c.name.slice(1))]);var g=new Sr("mo",[Mr("⁡","text")]);d=c.parentIsSupSub?new Sr("mrow",[d,g]):Wu([d,g])}return d},t4={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};je({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(c,p){var d=c.parser,g=c.funcName;return g.length===1&&(g=t4[g]),{type:"op",mode:d.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:g}},htmlBuilder:Ns,mathmlBuilder:Pa}),je({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(c,p){var d=c.parser,g=p[0];return{type:"op",mode:d.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:tn(g)}},htmlBuilder:Ns,mathmlBuilder:Pa});var n4={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};je({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(c){var p=c.parser,d=c.funcName;return{type:"op",mode:p.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:d}},htmlBuilder:Ns,mathmlBuilder:Pa}),je({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(c){var p=c.parser,d=c.funcName;return{type:"op",mode:p.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:d}},htmlBuilder:Ns,mathmlBuilder:Pa}),je({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(c){var p=c.parser,d=c.funcName;return d.length===1&&(d=n4[d]),{type:"op",mode:p.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:d}},htmlBuilder:Ns,mathmlBuilder:Pa});var kh=function(c,p){var d,g,x,A,R=!1;if(c.type==="supsub"?(d=c.sup,g=c.sub,x=Ct(c.base,"operatorname"),R=!0):x=Ct(c,"operatorname"),x.body.length>0){for(var B=x.body.map(function(Te){var me=Te.text;return typeof me=="string"?{type:"textord",mode:Te.mode,text:me}:Te}),V=mn(B,p.withFont("mathrm"),!0),se=0;se<V.length;se++){var ve=V[se];ve instanceof ze&&(ve.text=ve.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}A=le.makeSpan(["mop"],V,p)}else A=le.makeSpan(["mop"],[],p);return R?Th(A,d,g,p,p.style,0,0):A};function Ch(c,p,d){for(var g=mn(c,p,!1),x=p.sizeMultiplier/d.sizeMultiplier,A=0;A<g.length;A++){var R=g[A].classes.indexOf("sizing");R<0?Array.prototype.push.apply(g[A].classes,p.sizingClasses(d)):g[A].classes[R+1]==="reset-size"+p.size&&(g[A].classes[R+1]="reset-size"+d.size),g[A].height*=x,g[A].depth*=x}return le.makeFragment(g)}je({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(c,p){var d=c.parser,g=c.funcName,x=p[0];return{type:"operatorname",mode:d.mode,body:tn(x),alwaysHandleSupSub:g==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:kh,mathmlBuilder:function(c,p){for(var d=sr(c.body,p.withFont("mathrm")),g=!0,x=0;x<d.length;x++){var A=d[x];if(!(A instanceof Ve.SpaceNode))if(A instanceof Ve.MathNode)switch(A.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var R=A.children[0];A.children.length===1&&R instanceof Ve.TextNode?R.text=R.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):g=!1;break;default:g=!1}else g=!1}if(g){var B=d.map(function(ve){return ve.toText()}).join("");d=[new Ve.TextNode(B)]}var V=new Ve.MathNode("mi",d);V.setAttribute("mathvariant","normal");var se=new Ve.MathNode("mo",[Mr("⁡","text")]);return c.parentIsSupSub?new Ve.MathNode("mrow",[V,se]):Ve.newDocumentFragment([V,se])}}),I("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Wn({type:"ordgroup",htmlBuilder:function(c,p){return c.semisimple?le.makeFragment(mn(c.body,p,!1)):le.makeSpan(["mord"],mn(c.body,p,!0),p)},mathmlBuilder:function(c,p){return Pi(c.body,p,!0)}}),je({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(c,p){var d=c.parser,g=p[0];return{type:"overline",mode:d.mode,body:g}},htmlBuilder:function(c,p){var d=Ht(c.body,p.havingCrampedStyle()),g=le.makeLineSpan("overline-line",p),x=p.fontMetrics().defaultRuleThickness,A=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:3*x},{type:"elem",elem:g},{type:"kern",size:x}]},p);return le.makeSpan(["mord","overline"],[A],p)},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mo",[new Ve.TextNode("‾")]);d.setAttribute("stretchy","true");var g=new Ve.MathNode("mover",[nn(c.body,p),d]);return g.setAttribute("accent","true"),g}}),je({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(c,p){var d=c.parser,g=p[0];return{type:"phantom",mode:d.mode,body:tn(g)}},htmlBuilder:function(c,p){var d=mn(c.body,p.withPhantom(),!1);return le.makeFragment(d)},mathmlBuilder:function(c,p){var d=sr(c.body,p);return new Ve.MathNode("mphantom",d)}}),je({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(c,p){var d=c.parser,g=p[0];return{type:"hphantom",mode:d.mode,body:g}},htmlBuilder:function(c,p){var d=le.makeSpan([],[Ht(c.body,p.withPhantom())]);if(d.height=0,d.depth=0,d.children)for(var g=0;g<d.children.length;g++)d.children[g].height=0,d.children[g].depth=0;return d=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d}]},p),le.makeSpan(["mord"],[d],p)},mathmlBuilder:function(c,p){var d=sr(tn(c.body),p),g=new Ve.MathNode("mphantom",d),x=new Ve.MathNode("mpadded",[g]);return x.setAttribute("height","0px"),x.setAttribute("depth","0px"),x}}),je({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(c,p){var d=c.parser,g=p[0];return{type:"vphantom",mode:d.mode,body:g}},htmlBuilder:function(c,p){var d=le.makeSpan(["inner"],[Ht(c.body,p.withPhantom())]),g=le.makeSpan(["fix"],[]);return le.makeSpan(["mord","rlap"],[d,g],p)},mathmlBuilder:function(c,p){var d=sr(tn(c.body),p),g=new Ve.MathNode("mphantom",d),x=new Ve.MathNode("mpadded",[g]);return x.setAttribute("width","0px"),x}}),je({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(c,p){var d=c.parser,g=Ct(p[0],"size").value,x=p[1];return{type:"raisebox",mode:d.mode,dy:g,body:x}},htmlBuilder:function(c,p){var d=Ht(c.body,p),g=H(c.dy,p);return le.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:d}]},p)},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mpadded",[nn(c.body,p)]),g=c.dy.number+c.dy.unit;return d.setAttribute("voffset",g),d}}),je({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler:function(c){return{type:"internal",mode:c.parser.mode}}}),je({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(c,p,d){var g=c.parser,x=d[0],A=Ct(p[0],"size"),R=Ct(p[1],"size");return{type:"rule",mode:g.mode,shift:x&&Ct(x,"size").value,width:A.value,height:R.value}},htmlBuilder:function(c,p){var d=le.makeSpan(["mord","rule"],[],p),g=H(c.width,p),x=H(c.height,p),A=c.shift?H(c.shift,p):0;return d.style.borderRightWidth=K(g),d.style.borderTopWidth=K(x),d.style.bottom=K(A),d.width=g,d.height=x+A,d.depth=-A,d.maxFontSize=1.125*x*p.sizeMultiplier,d},mathmlBuilder:function(c,p){var d=H(c.width,p),g=H(c.height,p),x=c.shift?H(c.shift,p):0,A=p.color&&p.getColor()||"black",R=new Ve.MathNode("mspace");R.setAttribute("mathbackground",A),R.setAttribute("width",K(d)),R.setAttribute("height",K(g));var B=new Ve.MathNode("mpadded",[R]);return x>=0?B.setAttribute("height",K(x)):(B.setAttribute("height",K(x)),B.setAttribute("depth",K(-x))),B.setAttribute("voffset",K(x)),B}});var Rh=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];je({type:"sizing",names:Rh,props:{numArgs:0,allowedInText:!0},handler:function(c,p){var d=c.breakOnTokenText,g=c.funcName,x=c.parser,A=x.parseExpression(!1,d);return{type:"sizing",mode:x.mode,size:Rh.indexOf(g)+1,body:A}},htmlBuilder:function(c,p){var d=p.havingSize(c.size);return Ch(c.body,d,p)},mathmlBuilder:function(c,p){var d=p.havingSize(c.size),g=sr(c.body,d),x=new Ve.MathNode("mstyle",g);return x.setAttribute("mathsize",K(d.sizeMultiplier)),x}}),je({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(c,p,d){var g=c.parser,x=!1,A=!1,R=d[0]&&Ct(d[0],"ordgroup");if(R)for(var B="",V=0;V<R.body.length;++V)if((B=R.body[V].text)==="t")x=!0;else{if(B!=="b"){x=!1,A=!1;break}A=!0}else x=!0,A=!0;var se=p[0];return{type:"smash",mode:g.mode,body:se,smashHeight:x,smashDepth:A}},htmlBuilder:function(c,p){var d=le.makeSpan([],[Ht(c.body,p)]);if(!c.smashHeight&&!c.smashDepth)return d;if(c.smashHeight&&(d.height=0,d.children))for(var g=0;g<d.children.length;g++)d.children[g].height=0;if(c.smashDepth&&(d.depth=0,d.children))for(var x=0;x<d.children.length;x++)d.children[x].depth=0;var A=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d}]},p);return le.makeSpan(["mord"],[A],p)},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mpadded",[nn(c.body,p)]);return c.smashHeight&&d.setAttribute("height","0px"),c.smashDepth&&d.setAttribute("depth","0px"),d}}),je({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(c,p,d){var g=c.parser,x=d[0],A=p[0];return{type:"sqrt",mode:g.mode,body:A,index:x}},htmlBuilder:function(c,p){var d=Ht(c.body,p.havingCrampedStyle());d.height===0&&(d.height=p.fontMetrics().xHeight),d=le.wrapFragment(d,p);var g=p.fontMetrics().defaultRuleThickness,x=g;p.style.id<j.TEXT.id&&(x=p.fontMetrics().xHeight);var A=g+x/4,R=d.height+d.depth+A+g,B=oi.sqrtImage(R,p),V=B.span,se=B.ruleWidth,ve=B.advanceWidth,Te=V.height-se;Te>d.height+d.depth+A&&(A=(A+Te-d.height-d.depth)/2);var me=V.height-d.height-A-se;d.style.paddingLeft=K(ve);var De=le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d,wrapperClasses:["svg-align"]},{type:"kern",size:-(d.height+me)},{type:"elem",elem:V},{type:"kern",size:se}]},p);if(c.index){var et=p.havingStyle(j.SCRIPTSCRIPT),tt=Ht(c.index,et,p),st=.6*(De.height-De.depth),bt=le.makeVList({positionType:"shift",positionData:-st,children:[{type:"elem",elem:tt}]},p),Et=le.makeSpan(["root"],[bt]);return le.makeSpan(["mord","sqrt"],[Et,De],p)}return le.makeSpan(["mord","sqrt"],[De],p)},mathmlBuilder:function(c,p){var d=c.body,g=c.index;return g?new Ve.MathNode("mroot",[nn(d,p),nn(g,p)]):new Ve.MathNode("msqrt",[nn(d,p)])}});var $h={display:j.DISPLAY,text:j.TEXT,script:j.SCRIPT,scriptscript:j.SCRIPTSCRIPT};je({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(c,p){var d=c.breakOnTokenText,g=c.funcName,x=c.parser,A=x.parseExpression(!0,d),R=g.slice(1,g.length-5);return{type:"styling",mode:x.mode,style:R,body:A}},htmlBuilder:function(c,p){var d=$h[c.style],g=p.havingStyle(d).withFont("");return Ch(c.body,g,p)},mathmlBuilder:function(c,p){var d=$h[c.style],g=p.havingStyle(d),x=sr(c.body,g),A=new Ve.MathNode("mstyle",x),R={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[c.style];return A.setAttribute("scriptlevel",R[0]),A.setAttribute("displaystyle",R[1]),A}});var r4=function(c,p){var d=c.base;return d?d.type==="op"?d.limits&&(p.style.size===j.DISPLAY.size||d.alwaysHandleSupSub)?Ns:null:d.type==="operatorname"?d.alwaysHandleSupSub&&(p.style.size===j.DISPLAY.size||d.limits)?kh:null:d.type==="accent"?h.isCharacterBox(d.base)?ll:null:d.type==="horizBrace"&&!c.sub===d.isOver?Mh:null:null};Wn({type:"supsub",htmlBuilder:function(c,p){var d=r4(c,p);if(d)return d(c,p);var g,x,A,R=c.base,B=c.sup,V=c.sub,se=Ht(R,p),ve=p.fontMetrics(),Te=0,me=0,De=R&&h.isCharacterBox(R);if(B){var et=p.havingStyle(p.style.sup());g=Ht(B,et,p),De||(Te=se.height-et.fontMetrics().supDrop*et.sizeMultiplier/p.sizeMultiplier)}if(V){var tt=p.havingStyle(p.style.sub());x=Ht(V,tt,p),De||(me=se.depth+tt.fontMetrics().subDrop*tt.sizeMultiplier/p.sizeMultiplier)}A=p.style===j.DISPLAY?ve.sup1:p.style.cramped?ve.sup3:ve.sup2;var st,bt=p.sizeMultiplier,Et=K(.5/ve.ptPerEm/bt),zt=null;if(x){var Ut=c.base&&c.base.type==="op"&&c.base.name&&(c.base.name==="\\oiint"||c.base.name==="\\oiiint");(se instanceof ze||Ut)&&(zt=K(-se.italic))}if(g&&x){Te=Math.max(Te,A,g.depth+.25*ve.xHeight),me=Math.max(me,ve.sub2);var Nt=4*ve.defaultRuleThickness;if(Te-g.depth-(x.height-me)<Nt){me=Nt-(Te-g.depth)+x.height;var Rt=.8*ve.xHeight-(Te-g.depth);Rt>0&&(Te+=Rt,me-=Rt)}var It=[{type:"elem",elem:x,shift:me,marginRight:Et,marginLeft:zt},{type:"elem",elem:g,shift:-Te,marginRight:Et}];st=le.makeVList({positionType:"individualShift",children:It},p)}else if(x){me=Math.max(me,ve.sub1,x.height-.8*ve.xHeight);var sn=[{type:"elem",elem:x,marginLeft:zt,marginRight:Et}];st=le.makeVList({positionType:"shift",positionData:me,children:sn},p)}else{if(!g)throw new Error("supsub must have either sup or sub.");Te=Math.max(Te,A,g.depth+.25*ve.xHeight),st=le.makeVList({positionType:"shift",positionData:-Te,children:[{type:"elem",elem:g,marginRight:Et}]},p)}var gn=rl(se,"right")||"mord";return le.makeSpan([gn],[se,le.makeSpan(["msupsub"],[st])],p)},mathmlBuilder:function(c,p){var d,g=!1;c.base&&c.base.type==="horizBrace"&&!!c.sup===c.base.isOver&&(g=!0,d=c.base.isOver),!c.base||c.base.type!=="op"&&c.base.type!=="operatorname"||(c.base.parentIsSupSub=!0);var x,A=[nn(c.base,p)];if(c.sub&&A.push(nn(c.sub,p)),c.sup&&A.push(nn(c.sup,p)),g)x=d?"mover":"munder";else if(c.sub)if(c.sup){var R=c.base;x=R&&R.type==="op"&&R.limits&&p.style===j.DISPLAY||R&&R.type==="operatorname"&&R.alwaysHandleSupSub&&(p.style===j.DISPLAY||R.limits)?"munderover":"msubsup"}else{var B=c.base;x=B&&B.type==="op"&&B.limits&&(p.style===j.DISPLAY||B.alwaysHandleSupSub)||B&&B.type==="operatorname"&&B.alwaysHandleSupSub&&(B.limits||p.style===j.DISPLAY)?"munder":"msub"}else{var V=c.base;x=V&&V.type==="op"&&V.limits&&(p.style===j.DISPLAY||V.alwaysHandleSupSub)||V&&V.type==="operatorname"&&V.alwaysHandleSupSub&&(V.limits||p.style===j.DISPLAY)?"mover":"msup"}return new Ve.MathNode(x,A)}}),Wn({type:"atom",htmlBuilder:function(c,p){return le.mathsym(c.text,c.mode,p,["m"+c.family])},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mo",[Mr(c.text,c.mode)]);if(c.family==="bin"){var g=al(c,p);g==="bold-italic"&&d.setAttribute("mathvariant",g)}else c.family==="punct"?d.setAttribute("separator","true"):c.family!=="open"&&c.family!=="close"||d.setAttribute("stretchy","false");return d}});var Ph={mi:"italic",mn:"normal",mtext:"normal"};Wn({type:"mathord",htmlBuilder:function(c,p){return le.makeOrd(c,p,"mathord")},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mi",[Mr(c.text,c.mode,p)]),g=al(c,p)||"italic";return g!==Ph[d.type]&&d.setAttribute("mathvariant",g),d}}),Wn({type:"textord",htmlBuilder:function(c,p){return le.makeOrd(c,p,"textord")},mathmlBuilder:function(c,p){var d,g=Mr(c.text,c.mode,p),x=al(c,p)||"normal";return d=c.mode==="text"?new Ve.MathNode("mtext",[g]):/[0-9]/.test(c.text)?new Ve.MathNode("mn",[g]):c.text==="\\prime"?new Ve.MathNode("mo",[g]):new Ve.MathNode("mi",[g]),x!==Ph[d.type]&&d.setAttribute("mathvariant",x),d}});var _l={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Sl={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Wn({type:"spacing",htmlBuilder:function(c,p){if(Sl.hasOwnProperty(c.text)){var d=Sl[c.text].className||"";if(c.mode==="text"){var g=le.makeOrd(c,p,"textord");return g.classes.push(d),g}return le.makeSpan(["mspace",d],[le.mathsym(c.text,c.mode,p)],p)}if(_l.hasOwnProperty(c.text))return le.makeSpan(["mspace",_l[c.text]],[],p);throw new s('Unknown type of space "'+c.text+'"')},mathmlBuilder:function(c,p){if(!Sl.hasOwnProperty(c.text)){if(_l.hasOwnProperty(c.text))return new Ve.MathNode("mspace");throw new s('Unknown type of space "'+c.text+'"')}return new Ve.MathNode("mtext",[new Ve.TextNode(" ")])}});var Lh=function(){var c=new Ve.MathNode("mtd",[]);return c.setAttribute("width","50%"),c};Wn({type:"tag",mathmlBuilder:function(c,p){var d=new Ve.MathNode("mtable",[new Ve.MathNode("mtr",[Lh(),new Ve.MathNode("mtd",[Pi(c.body,p)]),Lh(),new Ve.MathNode("mtd",[Pi(c.tag,p)])])]);return d.setAttribute("width","100%"),d}});var Dh={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},zh={"\\textbf":"textbf","\\textmd":"textmd"},i4={"\\textit":"textit","\\textup":"textup"},Nh=function(c,p){var d=c.font;return d?Dh[d]?p.withTextFontFamily(Dh[d]):zh[d]?p.withTextFontWeight(zh[d]):p.withTextFontShape(i4[d]):p};je({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(c,p){var d=c.parser,g=c.funcName,x=p[0];return{type:"text",mode:d.mode,body:tn(x),font:g}},htmlBuilder:function(c,p){var d=Nh(c,p),g=mn(c.body,d,!0);return le.makeSpan(["mord","text"],g,d)},mathmlBuilder:function(c,p){var d=Nh(c,p);return Pi(c.body,d)}}),je({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(c,p){return{type:"underline",mode:c.parser.mode,body:p[0]}},htmlBuilder:function(c,p){var d=Ht(c.body,p),g=le.makeLineSpan("underline-line",p),x=p.fontMetrics().defaultRuleThickness,A=le.makeVList({positionType:"top",positionData:d.height,children:[{type:"kern",size:x},{type:"elem",elem:g},{type:"kern",size:3*x},{type:"elem",elem:d}]},p);return le.makeSpan(["mord","underline"],[A],p)},mathmlBuilder:function(c,p){var d=new Ve.MathNode("mo",[new Ve.TextNode("‾")]);d.setAttribute("stretchy","true");var g=new Ve.MathNode("munder",[nn(c.body,p),d]);return g.setAttribute("accentunder","true"),g}}),je({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(c,p){return{type:"vcenter",mode:c.parser.mode,body:p[0]}},htmlBuilder:function(c,p){var d=Ht(c.body,p),g=p.fontMetrics().axisHeight,x=.5*(d.height-g-(d.depth+g));return le.makeVList({positionType:"shift",positionData:x,children:[{type:"elem",elem:d}]},p)},mathmlBuilder:function(c,p){return new Ve.MathNode("mpadded",[nn(c.body,p)],["vcenter"])}}),je({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(c,p,d){throw new s("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(c,p){for(var d=Oh(c),g=[],x=p.havingStyle(p.style.text()),A=0;A<d.length;A++){var R=d[A];R==="~"&&(R="\\textasciitilde"),g.push(le.makeSymbol(R,"Typewriter-Regular",c.mode,x,["mord","texttt"]))}return le.makeSpan(["mord","text"].concat(x.sizingClasses(p)),le.tryCombineChars(g),x)},mathmlBuilder:function(c,p){var d=new Ve.TextNode(Oh(c)),g=new Ve.MathNode("mtext",[d]);return g.setAttribute("mathvariant","monospace"),g}});var Oh=function(c){return c.body.replace(/ /g,c.star?"␣":" ")},zi=fn,Ih=`[ \r
	]`,s4="(\\\\[a-zA-Z@]+)"+Ih+"*",Ml="[̀-ͯ]",a4=new RegExp(Ml+"+$"),o4="("+Ih+`+)|\\\\(
|[ \r	]+
?)[ \r	]*|([!-\\[\\]-‧‪-퟿豈-￿]`+Ml+"*|[\uD800-\uDBFF][\uDC00-\uDFFF]"+Ml+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+s4+"|\\\\[^\uD800-\uDFFF])",Uh=function(){function c(d,g){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=d,this.settings=g,this.tokenRegex=new RegExp(o4,"g"),this.catcodes={"%":14,"~":13}}var p=c.prototype;return p.setCatcode=function(d,g){this.catcodes[d]=g},p.lex=function(){var d=this.input,g=this.tokenRegex.lastIndex;if(g===d.length)return new Li("EOF",new Dr(this,g,g));var x=this.tokenRegex.exec(d);if(x===null||x.index!==g)throw new s("Unexpected character: '"+d[g]+"'",new Li(d[g],new Dr(this,g,g+1)));var A=x[6]||x[3]||(x[2]?"\\ ":" ");if(this.catcodes[A]===14){var R=d.indexOf(`
`,this.tokenRegex.lastIndex);return R===-1?(this.tokenRegex.lastIndex=d.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=R+1,this.lex()}return new Li(A,new Dr(this,g,this.tokenRegex.lastIndex))},c}(),l4=function(){function c(d,g){d===void 0&&(d={}),g===void 0&&(g={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=g,this.builtins=d,this.undefStack=[]}var p=c.prototype;return p.beginGroup=function(){this.undefStack.push({})},p.endGroup=function(){if(this.undefStack.length===0)throw new s("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var d=this.undefStack.pop();for(var g in d)d.hasOwnProperty(g)&&(d[g]==null?delete this.current[g]:this.current[g]=d[g])},p.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},p.has=function(d){return this.current.hasOwnProperty(d)||this.builtins.hasOwnProperty(d)},p.get=function(d){return this.current.hasOwnProperty(d)?this.current[d]:this.builtins[d]},p.set=function(d,g,x){if(x===void 0&&(x=!1),x){for(var A=0;A<this.undefStack.length;A++)delete this.undefStack[A][d];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][d]=g)}else{var R=this.undefStack[this.undefStack.length-1];R&&!R.hasOwnProperty(d)&&(R[d]=this.current[d])}g==null?delete this.current[d]:this.current[d]=g},c}(),c4=fh;I("\\noexpand",function(c){var p=c.popToken();return c.isExpandable(p.text)&&(p.noexpand=!0,p.treatAsRelax=!0),{tokens:[p],numArgs:0}}),I("\\expandafter",function(c){var p=c.popToken();return c.expandOnce(!0),{tokens:[p],numArgs:0}}),I("\\@firstoftwo",function(c){return{tokens:c.consumeArgs(2)[0],numArgs:0}}),I("\\@secondoftwo",function(c){return{tokens:c.consumeArgs(2)[1],numArgs:0}}),I("\\@ifnextchar",function(c){var p=c.consumeArgs(3);c.consumeSpaces();var d=c.future();return p[0].length===1&&p[0][0].text===d.text?{tokens:p[1],numArgs:0}:{tokens:p[2],numArgs:0}}),I("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),I("\\TextOrMath",function(c){var p=c.consumeArgs(2);return c.mode==="text"?{tokens:p[0],numArgs:0}:{tokens:p[1],numArgs:0}});var Bh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};I("\\char",function(c){var p,d=c.popToken(),g="";if(d.text==="'")p=8,d=c.popToken();else if(d.text==='"')p=16,d=c.popToken();else if(d.text==="`")if((d=c.popToken()).text[0]==="\\")g=d.text.charCodeAt(1);else{if(d.text==="EOF")throw new s("\\char` missing argument");g=d.text.charCodeAt(0)}else p=10;if(p){if((g=Bh[d.text])==null||g>=p)throw new s("Invalid base-"+p+" digit "+d.text);for(var x;(x=Bh[c.future().text])!=null&&x<p;)g*=p,g+=x,c.popToken()}return"\\@char{"+g+"}"});var El=function(c,p,d){var g=c.consumeArg().tokens;if(g.length!==1)throw new s("\\newcommand's first argument must be a macro name");var x=g[0].text,A=c.isDefined(x);if(A&&!p)throw new s("\\newcommand{"+x+"} attempting to redefine "+x+"; use \\renewcommand");if(!A&&!d)throw new s("\\renewcommand{"+x+"} when command "+x+" does not yet exist; use \\newcommand");var R=0;if((g=c.consumeArg().tokens).length===1&&g[0].text==="["){for(var B="",V=c.expandNextToken();V.text!=="]"&&V.text!=="EOF";)B+=V.text,V=c.expandNextToken();if(!B.match(/^\s*[0-9]+\s*$/))throw new s("Invalid number of arguments: "+B);R=parseInt(B),g=c.consumeArg().tokens}return c.macros.set(x,{tokens:g,numArgs:R}),""};I("\\newcommand",function(c){return El(c,!1,!0)}),I("\\renewcommand",function(c){return El(c,!0,!1)}),I("\\providecommand",function(c){return El(c,!0,!0)}),I("\\message",function(c){var p=c.consumeArgs(1)[0];return console.log(p.reverse().map(function(d){return d.text}).join("")),""}),I("\\errmessage",function(c){var p=c.consumeArgs(1)[0];return console.error(p.reverse().map(function(d){return d.text}).join("")),""}),I("\\show",function(c){var p=c.popToken(),d=p.text;return console.log(p,c.macros.get(d),zi[d],O.math[d],O.text[d]),""}),I("\\bgroup","{"),I("\\egroup","}"),I("~","\\nobreakspace"),I("\\lq","`"),I("\\rq","'"),I("\\aa","\\r a"),I("\\AA","\\r A"),I("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),I("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),I("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),I("ℬ","\\mathscr{B}"),I("ℰ","\\mathscr{E}"),I("ℱ","\\mathscr{F}"),I("ℋ","\\mathscr{H}"),I("ℐ","\\mathscr{I}"),I("ℒ","\\mathscr{L}"),I("ℳ","\\mathscr{M}"),I("ℛ","\\mathscr{R}"),I("ℭ","\\mathfrak{C}"),I("ℌ","\\mathfrak{H}"),I("ℨ","\\mathfrak{Z}"),I("\\Bbbk","\\Bbb{k}"),I("·","\\cdotp"),I("\\llap","\\mathllap{\\textrm{#1}}"),I("\\rlap","\\mathrlap{\\textrm{#1}}"),I("\\clap","\\mathclap{\\textrm{#1}}"),I("\\mathstrut","\\vphantom{(}"),I("\\underbar","\\underline{\\text{#1}}"),I("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),I("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),I("\\ne","\\neq"),I("≠","\\neq"),I("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),I("∉","\\notin"),I("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),I("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),I("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),I("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),I("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),I("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),I("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),I("⟂","\\perp"),I("‼","\\mathclose{!\\mkern-0.8mu!}"),I("∌","\\notni"),I("⌜","\\ulcorner"),I("⌝","\\urcorner"),I("⌞","\\llcorner"),I("⌟","\\lrcorner"),I("©","\\copyright"),I("®","\\textregistered"),I("️","\\textregistered"),I("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),I("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),I("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),I("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),I("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),I("⋮","\\vdots"),I("\\varGamma","\\mathit{\\Gamma}"),I("\\varDelta","\\mathit{\\Delta}"),I("\\varTheta","\\mathit{\\Theta}"),I("\\varLambda","\\mathit{\\Lambda}"),I("\\varXi","\\mathit{\\Xi}"),I("\\varPi","\\mathit{\\Pi}"),I("\\varSigma","\\mathit{\\Sigma}"),I("\\varUpsilon","\\mathit{\\Upsilon}"),I("\\varPhi","\\mathit{\\Phi}"),I("\\varPsi","\\mathit{\\Psi}"),I("\\varOmega","\\mathit{\\Omega}"),I("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),I("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),I("\\boxed","\\fbox{$\\displaystyle{#1}$}"),I("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),I("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),I("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Fh={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};I("\\dots",function(c){var p="\\dotso",d=c.expandAfterFuture().text;return d in Fh?p=Fh[d]:(d.slice(0,4)==="\\not"||d in O.math&&h.contains(["bin","rel"],O.math[d].group))&&(p="\\dotsb"),p});var Tl={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};I("\\dotso",function(c){return c.future().text in Tl?"\\ldots\\,":"\\ldots"}),I("\\dotsc",function(c){var p=c.future().text;return p in Tl&&p!==","?"\\ldots\\,":"\\ldots"}),I("\\cdots",function(c){return c.future().text in Tl?"\\@cdots\\,":"\\@cdots"}),I("\\dotsb","\\cdots"),I("\\dotsm","\\cdots"),I("\\dotsi","\\!\\cdots"),I("\\dotsx","\\ldots\\,"),I("\\DOTSI","\\relax"),I("\\DOTSB","\\relax"),I("\\DOTSX","\\relax"),I("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),I("\\,","\\tmspace+{3mu}{.1667em}"),I("\\thinspace","\\,"),I("\\>","\\mskip{4mu}"),I("\\:","\\tmspace+{4mu}{.2222em}"),I("\\medspace","\\:"),I("\\;","\\tmspace+{5mu}{.2777em}"),I("\\thickspace","\\;"),I("\\!","\\tmspace-{3mu}{.1667em}"),I("\\negthinspace","\\!"),I("\\negmedspace","\\tmspace-{4mu}{.2222em}"),I("\\negthickspace","\\tmspace-{5mu}{.277em}"),I("\\enspace","\\kern.5em "),I("\\enskip","\\hskip.5em\\relax"),I("\\quad","\\hskip1em\\relax"),I("\\qquad","\\hskip2em\\relax"),I("\\tag","\\@ifstar\\tag@literal\\tag@paren"),I("\\tag@paren","\\tag@literal{({#1})}"),I("\\tag@literal",function(c){if(c.macros.get("\\df@tag"))throw new s("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),I("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),I("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),I("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),I("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),I("\\newline","\\\\\\relax"),I("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Hh=K(Q["Main-Regular"]["T".charCodeAt(0)][1]-.7*Q["Main-Regular"]["A".charCodeAt(0)][1]);I("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Hh+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),I("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Hh+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),I("\\hspace","\\@ifstar\\@hspacer\\@hspace"),I("\\@hspace","\\hskip #1\\relax"),I("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),I("\\ordinarycolon",":"),I("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),I("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),I("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),I("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),I("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),I("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),I("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),I("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),I("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),I("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),I("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),I("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),I("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),I("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),I("∷","\\dblcolon"),I("∹","\\eqcolon"),I("≔","\\coloneqq"),I("≕","\\eqqcolon"),I("⩴","\\Coloneqq"),I("\\ratio","\\vcentcolon"),I("\\coloncolon","\\dblcolon"),I("\\colonequals","\\coloneqq"),I("\\coloncolonequals","\\Coloneqq"),I("\\equalscolon","\\eqqcolon"),I("\\equalscoloncolon","\\Eqqcolon"),I("\\colonminus","\\coloneq"),I("\\coloncolonminus","\\Coloneq"),I("\\minuscolon","\\eqcolon"),I("\\minuscoloncolon","\\Eqcolon"),I("\\coloncolonapprox","\\Colonapprox"),I("\\coloncolonsim","\\Colonsim"),I("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),I("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),I("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),I("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),I("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),I("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),I("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),I("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),I("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),I("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),I("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),I("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),I("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),I("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),I("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),I("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),I("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),I("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),I("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),I("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),I("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),I("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),I("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),I("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),I("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),I("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),I("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),I("\\imath","\\html@mathml{\\@imath}{ı}"),I("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),I("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),I("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),I("⟦","\\llbracket"),I("⟧","\\rrbracket"),I("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),I("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),I("⦃","\\lBrace"),I("⦄","\\rBrace"),I("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),I("⦵","\\minuso"),I("\\darr","\\downarrow"),I("\\dArr","\\Downarrow"),I("\\Darr","\\Downarrow"),I("\\lang","\\langle"),I("\\rang","\\rangle"),I("\\uarr","\\uparrow"),I("\\uArr","\\Uparrow"),I("\\Uarr","\\Uparrow"),I("\\N","\\mathbb{N}"),I("\\R","\\mathbb{R}"),I("\\Z","\\mathbb{Z}"),I("\\alef","\\aleph"),I("\\alefsym","\\aleph"),I("\\Alpha","\\mathrm{A}"),I("\\Beta","\\mathrm{B}"),I("\\bull","\\bullet"),I("\\Chi","\\mathrm{X}"),I("\\clubs","\\clubsuit"),I("\\cnums","\\mathbb{C}"),I("\\Complex","\\mathbb{C}"),I("\\Dagger","\\ddagger"),I("\\diamonds","\\diamondsuit"),I("\\empty","\\emptyset"),I("\\Epsilon","\\mathrm{E}"),I("\\Eta","\\mathrm{H}"),I("\\exist","\\exists"),I("\\harr","\\leftrightarrow"),I("\\hArr","\\Leftrightarrow"),I("\\Harr","\\Leftrightarrow"),I("\\hearts","\\heartsuit"),I("\\image","\\Im"),I("\\infin","\\infty"),I("\\Iota","\\mathrm{I}"),I("\\isin","\\in"),I("\\Kappa","\\mathrm{K}"),I("\\larr","\\leftarrow"),I("\\lArr","\\Leftarrow"),I("\\Larr","\\Leftarrow"),I("\\lrarr","\\leftrightarrow"),I("\\lrArr","\\Leftrightarrow"),I("\\Lrarr","\\Leftrightarrow"),I("\\Mu","\\mathrm{M}"),I("\\natnums","\\mathbb{N}"),I("\\Nu","\\mathrm{N}"),I("\\Omicron","\\mathrm{O}"),I("\\plusmn","\\pm"),I("\\rarr","\\rightarrow"),I("\\rArr","\\Rightarrow"),I("\\Rarr","\\Rightarrow"),I("\\real","\\Re"),I("\\reals","\\mathbb{R}"),I("\\Reals","\\mathbb{R}"),I("\\Rho","\\mathrm{P}"),I("\\sdot","\\cdot"),I("\\sect","\\S"),I("\\spades","\\spadesuit"),I("\\sub","\\subset"),I("\\sube","\\subseteq"),I("\\supe","\\supseteq"),I("\\Tau","\\mathrm{T}"),I("\\thetasym","\\vartheta"),I("\\weierp","\\wp"),I("\\Zeta","\\mathrm{Z}"),I("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),I("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),I("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),I("\\bra","\\mathinner{\\langle{#1}|}"),I("\\ket","\\mathinner{|{#1}\\rangle}"),I("\\braket","\\mathinner{\\langle{#1}\\rangle}"),I("\\Bra","\\left\\langle#1\\right|"),I("\\Ket","\\left|#1\\right\\rangle");var Gh=function(c){return function(p){var d=p.consumeArg().tokens,g=p.consumeArg().tokens,x=p.consumeArg().tokens,A=p.consumeArg().tokens,R=p.macros.get("|"),B=p.macros.get("\\|");p.macros.beginGroup();var V=function(Te){return function(me){c&&(me.macros.set("|",R),x.length&&me.macros.set("\\|",B));var De=Te;return!Te&&x.length&&me.future().text==="|"&&(me.popToken(),De=!0),{tokens:De?x:g,numArgs:0}}};p.macros.set("|",V(!1)),x.length&&p.macros.set("\\|",V(!0));var se=p.consumeArg().tokens,ve=p.expandTokens([].concat(A,se,d));return p.macros.endGroup(),{tokens:ve.reverse(),numArgs:0}}};I("\\bra@ket",Gh(!1)),I("\\bra@set",Gh(!0)),I("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),I("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),I("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),I("\\angln","{\\angl n}"),I("\\blue","\\textcolor{##6495ed}{#1}"),I("\\orange","\\textcolor{##ffa500}{#1}"),I("\\pink","\\textcolor{##ff00af}{#1}"),I("\\red","\\textcolor{##df0030}{#1}"),I("\\green","\\textcolor{##28ae7b}{#1}"),I("\\gray","\\textcolor{gray}{#1}"),I("\\purple","\\textcolor{##9d38bd}{#1}"),I("\\blueA","\\textcolor{##ccfaff}{#1}"),I("\\blueB","\\textcolor{##80f6ff}{#1}"),I("\\blueC","\\textcolor{##63d9ea}{#1}"),I("\\blueD","\\textcolor{##11accd}{#1}"),I("\\blueE","\\textcolor{##0c7f99}{#1}"),I("\\tealA","\\textcolor{##94fff5}{#1}"),I("\\tealB","\\textcolor{##26edd5}{#1}"),I("\\tealC","\\textcolor{##01d1c1}{#1}"),I("\\tealD","\\textcolor{##01a995}{#1}"),I("\\tealE","\\textcolor{##208170}{#1}"),I("\\greenA","\\textcolor{##b6ffb0}{#1}"),I("\\greenB","\\textcolor{##8af281}{#1}"),I("\\greenC","\\textcolor{##74cf70}{#1}"),I("\\greenD","\\textcolor{##1fab54}{#1}"),I("\\greenE","\\textcolor{##0d923f}{#1}"),I("\\goldA","\\textcolor{##ffd0a9}{#1}"),I("\\goldB","\\textcolor{##ffbb71}{#1}"),I("\\goldC","\\textcolor{##ff9c39}{#1}"),I("\\goldD","\\textcolor{##e07d10}{#1}"),I("\\goldE","\\textcolor{##a75a05}{#1}"),I("\\redA","\\textcolor{##fca9a9}{#1}"),I("\\redB","\\textcolor{##ff8482}{#1}"),I("\\redC","\\textcolor{##f9685d}{#1}"),I("\\redD","\\textcolor{##e84d39}{#1}"),I("\\redE","\\textcolor{##bc2612}{#1}"),I("\\maroonA","\\textcolor{##ffbde0}{#1}"),I("\\maroonB","\\textcolor{##ff92c6}{#1}"),I("\\maroonC","\\textcolor{##ed5fa6}{#1}"),I("\\maroonD","\\textcolor{##ca337c}{#1}"),I("\\maroonE","\\textcolor{##9e034e}{#1}"),I("\\purpleA","\\textcolor{##ddd7ff}{#1}"),I("\\purpleB","\\textcolor{##c6b9fc}{#1}"),I("\\purpleC","\\textcolor{##aa87ff}{#1}"),I("\\purpleD","\\textcolor{##7854ab}{#1}"),I("\\purpleE","\\textcolor{##543b78}{#1}"),I("\\mintA","\\textcolor{##f5f9e8}{#1}"),I("\\mintB","\\textcolor{##edf2df}{#1}"),I("\\mintC","\\textcolor{##e0e5cc}{#1}"),I("\\grayA","\\textcolor{##f6f7f7}{#1}"),I("\\grayB","\\textcolor{##f0f1f2}{#1}"),I("\\grayC","\\textcolor{##e3e5e6}{#1}"),I("\\grayD","\\textcolor{##d6d8da}{#1}"),I("\\grayE","\\textcolor{##babec2}{#1}"),I("\\grayF","\\textcolor{##888d93}{#1}"),I("\\grayG","\\textcolor{##626569}{#1}"),I("\\grayH","\\textcolor{##3b3e40}{#1}"),I("\\grayI","\\textcolor{##21242c}{#1}"),I("\\kaBlue","\\textcolor{##314453}{#1}"),I("\\kaGreen","\\textcolor{##71B307}{#1}");var Vh={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},u4=function(){function c(d,g,x){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=g,this.expansionCount=0,this.feed(d),this.macros=new l4(c4,g.macros),this.mode=x,this.stack=[]}var p=c.prototype;return p.feed=function(d){this.lexer=new Uh(d,this.settings)},p.switchMode=function(d){this.mode=d},p.beginGroup=function(){this.macros.beginGroup()},p.endGroup=function(){this.macros.endGroup()},p.endGroups=function(){this.macros.endGroups()},p.future=function(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},p.popToken=function(){return this.future(),this.stack.pop()},p.pushToken=function(d){this.stack.push(d)},p.pushTokens=function(d){var g;(g=this.stack).push.apply(g,d)},p.scanArgument=function(d){var g,x,A;if(d){if(this.consumeSpaces(),this.future().text!=="[")return null;g=this.popToken();var R=this.consumeArg(["]"]);A=R.tokens,x=R.end}else{var B=this.consumeArg();A=B.tokens,g=B.start,x=B.end}return this.pushToken(new Li("EOF",x.loc)),this.pushTokens(A),g.range(x,"")},p.consumeSpaces=function(){for(;this.future().text===" ";)this.stack.pop()},p.consumeArg=function(d){var g=[],x=d&&d.length>0;x||this.consumeSpaces();var A,R=this.future(),B=0,V=0;do{if(A=this.popToken(),g.push(A),A.text==="{")++B;else if(A.text==="}"){if(--B===-1)throw new s("Extra }",A)}else if(A.text==="EOF")throw new s("Unexpected end of input in a macro argument, expected '"+(d&&x?d[V]:"}")+"'",A);if(d&&x)if((B===0||B===1&&d[V]==="{")&&A.text===d[V]){if(++V===d.length){g.splice(-V,V);break}}else V=0}while(B!==0||x);return R.text==="{"&&g[g.length-1].text==="}"&&(g.pop(),g.shift()),g.reverse(),{tokens:g,start:R,end:A}},p.consumeArgs=function(d,g){if(g){if(g.length!==d+1)throw new s("The length of delimiters doesn't match the number of args!");for(var x=g[0],A=0;A<x.length;A++){var R=this.popToken();if(x[A]!==R.text)throw new s("Use of the macro doesn't match its definition",R)}}for(var B=[],V=0;V<d;V++)B.push(this.consumeArg(g&&g[V+1]).tokens);return B},p.expandOnce=function(d){var g=this.popToken(),x=g.text,A=g.noexpand?null:this._getExpansion(x);if(A==null||d&&A.unexpandable){if(d&&A==null&&x[0]==="\\"&&!this.isDefined(x))throw new s("Undefined control sequence: "+x);return this.pushToken(g),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new s("Too many expansions: infinite loop or need to increase maxExpand setting");var R=A.tokens,B=this.consumeArgs(A.numArgs,A.delimiters);if(A.numArgs)for(var V=(R=R.slice()).length-1;V>=0;--V){var se=R[V];if(se.text==="#"){if(V===0)throw new s("Incomplete placeholder at end of macro body",se);if((se=R[--V]).text==="#")R.splice(V+1,1);else{if(!/^[1-9]$/.test(se.text))throw new s("Not a valid argument number",se);var ve;(ve=R).splice.apply(ve,[V,2].concat(B[+se.text-1]))}}}return this.pushTokens(R),R.length},p.expandAfterFuture=function(){return this.expandOnce(),this.future()},p.expandNextToken=function(){for(;;)if(this.expandOnce()===!1){var d=this.stack.pop();return d.treatAsRelax&&(d.text="\\relax"),d}throw new Error},p.expandMacro=function(d){return this.macros.has(d)?this.expandTokens([new Li(d)]):void 0},p.expandTokens=function(d){var g=[],x=this.stack.length;for(this.pushTokens(d);this.stack.length>x;)if(this.expandOnce(!0)===!1){var A=this.stack.pop();A.treatAsRelax&&(A.noexpand=!1,A.treatAsRelax=!1),g.push(A)}return g},p.expandMacroAsText=function(d){var g=this.expandMacro(d);return g&&g.map(function(x){return x.text}).join("")},p._getExpansion=function(d){var g=this.macros.get(d);if(g==null)return g;if(d.length===1){var x=this.lexer.catcodes[d];if(x!=null&&x!==13)return}var A=typeof g=="function"?g(this):g;if(typeof A=="string"){var R=0;if(A.indexOf("#")!==-1)for(var B=A.replace(/##/g,"");B.indexOf("#"+(R+1))!==-1;)++R;for(var V=new Uh(A,this.settings),se=[],ve=V.lex();ve.text!=="EOF";)se.push(ve),ve=V.lex();return se.reverse(),{tokens:se,numArgs:R}}return A},p.isDefined=function(d){return this.macros.has(d)||zi.hasOwnProperty(d)||O.math.hasOwnProperty(d)||O.text.hasOwnProperty(d)||Vh.hasOwnProperty(d)},p.isExpandable=function(d){var g=this.macros.get(d);return g!=null?typeof g=="string"||typeof g=="function"||!g.unexpandable:zi.hasOwnProperty(d)&&!zi[d].primitive},c}(),Wh=/^[\u208a\u208b\u208c\u208d\u208e\u2080\u2081\u2082\u2083\u2084\u2085\u2086\u2087\u2088\u2089\u2090\u2091\u2095\u1d62\u2c7c\u2096\u2097\u2098\u2099\u2092\u209a\u1d63\u209b\u209c\u1d64\u1d65\u2093\u1d66\u1d67\u1d68\u1d69\u1d6a]/,$o=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Al={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},jh={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"},qh=function(){function c(d,g){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new u4(d,g,this.mode),this.settings=g,this.leftrightDepth=0}var p=c.prototype;return p.expect=function(d,g){if(g===void 0&&(g=!0),this.fetch().text!==d)throw new s("Expected '"+d+"', got '"+this.fetch().text+"'",this.fetch());g&&this.consume()},p.consume=function(){this.nextToken=null},p.fetch=function(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},p.switchMode=function(d){this.mode=d,this.gullet.switchMode(d)},p.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var d=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),d}finally{this.gullet.endGroups()}},p.subparse=function(d){var g=this.nextToken;this.consume(),this.gullet.pushToken(new Li("}")),this.gullet.pushTokens(d);var x=this.parseExpression(!1);return this.expect("}"),this.nextToken=g,x},p.parseExpression=function(d,g){for(var x=[];;){this.mode==="math"&&this.consumeSpaces();var A=this.fetch();if(c.endOfExpression.indexOf(A.text)!==-1||g&&A.text===g||d&&zi[A.text]&&zi[A.text].infix)break;var R=this.parseAtom(g);if(!R)break;R.type!=="internal"&&x.push(R)}return this.mode==="text"&&this.formLigatures(x),this.handleInfixNodes(x)},p.handleInfixNodes=function(d){for(var g,x=-1,A=0;A<d.length;A++)if(d[A].type==="infix"){if(x!==-1)throw new s("only one infix operator per group",d[A].token);x=A,g=d[A].replaceWith}if(x!==-1&&g){var R,B,V=d.slice(0,x),se=d.slice(x+1);return R=V.length===1&&V[0].type==="ordgroup"?V[0]:{type:"ordgroup",mode:this.mode,body:V},B=se.length===1&&se[0].type==="ordgroup"?se[0]:{type:"ordgroup",mode:this.mode,body:se},[g==="\\\\abovefrac"?this.callFunction(g,[R,d[x],B],[]):this.callFunction(g,[R,B],[])]}return d},p.handleSupSubscript=function(d){var g=this.fetch(),x=g.text;this.consume(),this.consumeSpaces();var A=this.parseGroup(d);if(!A)throw new s("Expected group after '"+x+"'",g);return A},p.formatUnsupportedCmd=function(d){for(var g=[],x=0;x<d.length;x++)g.push({type:"textord",mode:"text",text:d[x]});var A={type:"text",mode:this.mode,body:g};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[A]}},p.parseAtom=function(d){var g,x,A=this.parseGroup("atom",d);if(this.mode==="text")return A;for(;;){this.consumeSpaces();var R=this.fetch();if(R.text==="\\limits"||R.text==="\\nolimits"){if(A&&A.type==="op"){var B=R.text==="\\limits";A.limits=B,A.alwaysHandleSupSub=!0}else{if(!A||A.type!=="operatorname")throw new s("Limit controls must follow a math operator",R);A.alwaysHandleSupSub&&(A.limits=R.text==="\\limits")}this.consume()}else if(R.text==="^"){if(g)throw new s("Double superscript",R);g=this.handleSupSubscript("superscript")}else if(R.text==="_"){if(x)throw new s("Double subscript",R);x=this.handleSupSubscript("subscript")}else if(R.text==="'"){if(g)throw new s("Double superscript",R);var V={type:"textord",mode:this.mode,text:"\\prime"},se=[V];for(this.consume();this.fetch().text==="'";)se.push(V),this.consume();this.fetch().text==="^"&&se.push(this.handleSupSubscript("superscript")),g={type:"ordgroup",mode:this.mode,body:se}}else{if(!$o[R.text])break;var ve=$o[R.text],Te=Wh.test(R.text);for(this.consume();;){var me=this.fetch().text;if(!$o[me]||Wh.test(me)!==Te)break;this.consume(),ve+=$o[me]}var De=new c(ve,this.settings).parse();Te?x={type:"ordgroup",mode:"math",body:De}:g={type:"ordgroup",mode:"math",body:De}}}return g||x?{type:"supsub",mode:this.mode,base:A,sup:g,sub:x}:A},p.parseFunction=function(d,g){var x=this.fetch(),A=x.text,R=zi[A];if(!R)return null;if(this.consume(),g&&g!=="atom"&&!R.allowedInArgument)throw new s("Got function '"+A+"' with no arguments"+(g?" as "+g:""),x);if(this.mode==="text"&&!R.allowedInText)throw new s("Can't use function '"+A+"' in text mode",x);if(this.mode==="math"&&R.allowedInMath===!1)throw new s("Can't use function '"+A+"' in math mode",x);var B=this.parseArguments(A,R),V=B.args,se=B.optArgs;return this.callFunction(A,V,se,x,d)},p.callFunction=function(d,g,x,A,R){var B={funcName:d,parser:this,token:A,breakOnTokenText:R},V=zi[d];if(V&&V.handler)return V.handler(B,g,x);throw new s("No function handler for "+d)},p.parseArguments=function(d,g){var x=g.numArgs+g.numOptionalArgs;if(x===0)return{args:[],optArgs:[]};for(var A=[],R=[],B=0;B<x;B++){var V=g.argTypes&&g.argTypes[B],se=B<g.numOptionalArgs;(g.primitive&&V==null||g.type==="sqrt"&&B===1&&R[0]==null)&&(V="primitive");var ve=this.parseGroupOfType("argument to '"+d+"'",V,se);if(se)R.push(ve);else{if(ve==null)throw new s("Null argument, please report this as a bug");A.push(ve)}}return{args:A,optArgs:R}},p.parseGroupOfType=function(d,g,x){switch(g){case"color":return this.parseColorGroup(x);case"size":return this.parseSizeGroup(x);case"url":return this.parseUrlGroup(x);case"math":case"text":return this.parseArgumentGroup(x,g);case"hbox":var A=this.parseArgumentGroup(x,"text");return A!=null?{type:"styling",mode:A.mode,body:[A],style:"text"}:null;case"raw":var R=this.parseStringGroup("raw",x);return R!=null?{type:"raw",mode:"text",string:R.text}:null;case"primitive":if(x)throw new s("A primitive argument cannot be optional");var B=this.parseGroup(d);if(B==null)throw new s("Expected group as "+d,this.fetch());return B;case"original":case null:case void 0:return this.parseArgumentGroup(x);default:throw new s("Unknown group type as "+d,this.fetch())}},p.consumeSpaces=function(){for(;this.fetch().text===" ";)this.consume()},p.parseStringGroup=function(d,g){var x=this.gullet.scanArgument(g);if(x==null)return null;for(var A,R="";(A=this.fetch()).text!=="EOF";)R+=A.text,this.consume();return this.consume(),x.text=R,x},p.parseRegexGroup=function(d,g){for(var x,A=this.fetch(),R=A,B="";(x=this.fetch()).text!=="EOF"&&d.test(B+x.text);)B+=(R=x).text,this.consume();if(B==="")throw new s("Invalid "+g+": '"+A.text+"'",A);return A.range(R,B)},p.parseColorGroup=function(d){var g=this.parseStringGroup("color",d);if(g==null)return null;var x=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(g.text);if(!x)throw new s("Invalid color: '"+g.text+"'",g);var A=x[0];return/^[0-9a-f]{6}$/i.test(A)&&(A="#"+A),{type:"color-token",mode:this.mode,color:A}},p.parseSizeGroup=function(d){var g,x=!1;if(this.gullet.consumeSpaces(),!(g=d||this.gullet.future().text==="{"?this.parseStringGroup("size",d):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;d||g.text.length!==0||(g.text="0pt",x=!0);var A=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(g.text);if(!A)throw new s("Invalid size: '"+g.text+"'",g);var R={number:+(A[1]+A[2]),unit:A[3]};if(!ke(R))throw new s("Invalid unit: '"+R.unit+"'",g);return{type:"size",mode:this.mode,value:R,isBlank:x}},p.parseUrlGroup=function(d){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var g=this.parseStringGroup("url",d);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),g==null)return null;var x=g.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:x}},p.parseArgumentGroup=function(d,g){var x=this.gullet.scanArgument(d);if(x==null)return null;var A=this.mode;g&&this.switchMode(g),this.gullet.beginGroup();var R=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var B={type:"ordgroup",mode:this.mode,loc:x.loc,body:R};return g&&this.switchMode(A),B},p.parseGroup=function(d,g){var x,A=this.fetch(),R=A.text;if(R==="{"||R==="\\begingroup"){this.consume();var B=R==="{"?"}":"\\endgroup";this.gullet.beginGroup();var V=this.parseExpression(!1,B),se=this.fetch();this.expect(B),this.gullet.endGroup(),x={type:"ordgroup",mode:this.mode,loc:Dr.range(A,se),body:V,semisimple:R==="\\begingroup"||void 0}}else if((x=this.parseFunction(g,d)||this.parseSymbol())==null&&R[0]==="\\"&&!Vh.hasOwnProperty(R)){if(this.settings.throwOnError)throw new s("Undefined control sequence: "+R,A);x=this.formatUnsupportedCmd(R),this.consume()}return x},p.formLigatures=function(d){for(var g=d.length-1,x=0;x<g;++x){var A=d[x],R=A.text;R==="-"&&d[x+1].text==="-"&&(x+1<g&&d[x+2].text==="-"?(d.splice(x,3,{type:"textord",mode:"text",loc:Dr.range(A,d[x+2]),text:"---"}),g-=2):(d.splice(x,2,{type:"textord",mode:"text",loc:Dr.range(A,d[x+1]),text:"--"}),g-=1)),R!=="'"&&R!=="`"||d[x+1].text!==R||(d.splice(x,2,{type:"textord",mode:"text",loc:Dr.range(A,d[x+1]),text:R+R}),g-=1)}},p.parseSymbol=function(){var d=this.fetch(),g=d.text;if(/^\\verb[^a-zA-Z]/.test(g)){this.consume();var x=g.slice(5),A=x.charAt(0)==="*";if(A&&(x=x.slice(1)),x.length<2||x.charAt(0)!==x.slice(-1))throw new s(`\\verb assertion failed --
                    please report what input caused this bug`);return{type:"verb",mode:"text",body:x=x.slice(1,-1),star:A}}jh.hasOwnProperty(g[0])&&!O[this.mode][g[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+g[0]+'" used in math mode',d),g=jh[g[0]]+g.slice(1));var R,B=a4.exec(g);if(B&&((g=g.substring(0,B.index))==="i"?g="ı":g==="j"&&(g="ȷ")),O[this.mode][g]){this.settings.strict&&this.mode==="math"&&Ri.indexOf(g)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+g[0]+'" used in math mode',d);var V,se=O[this.mode][g].group,ve=Dr.range(d);if(Yt.hasOwnProperty(se)){var Te=se;V={type:"atom",mode:this.mode,family:Te,loc:ve,text:g}}else V={type:se,mode:this.mode,loc:ve,text:g};R=V}else{if(!(g.charCodeAt(0)>=128))return null;this.settings.strict&&($(g.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+g[0]+'" used in math mode',d):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+g[0]+'" ('+g.charCodeAt(0)+")",d)),R={type:"textord",mode:"text",loc:Dr.range(d),text:g}}if(this.consume(),B)for(var me=0;me<B[0].length;me++){var De=B[0][me];if(!Al[De])throw new s("Unknown accent ' "+De+"'",d);var et=Al[De][this.mode]||Al[De].text;if(!et)throw new s("Accent "+De+" unsupported in "+this.mode+" mode",d);R={type:"accent",mode:this.mode,loc:Dr.range(d),label:et,isStretchy:!1,isShifty:!0,base:R}}return R},c}();qh.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var kl=function(c,p){if(!(typeof c=="string"||c instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var d=new qh(c,p);delete d.gullet.macros.current["\\df@tag"];var g=d.parse();if(delete d.gullet.macros.current["\\current@color"],delete d.gullet.macros.current["\\color"],d.gullet.macros.get("\\df@tag")){if(!p.displayMode)throw new s("\\tag works only in display equations");g=[{type:"tag",mode:"text",body:g,tag:d.subparse([new Li("\\df@tag")])}]}return g},Xh=function(c,p,d){p.textContent="";var g=Cl(c,d).toNode();p.appendChild(g)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Xh=function(){throw new s("KaTeX doesn't work in quirks mode.")});var Yh=function(c,p,d){if(d.throwOnError||!(c instanceof s))throw c;var g=le.makeSpan(["katex-error"],[new ze(p)]);return g.setAttribute("title",c.toString()),g.setAttribute("style","color:"+d.errorColor),g},Cl=function(c,p){var d=new m(p);try{var g=kl(c,d);return Um(g,c,d)}catch(x){return Yh(x,c,d)}},h4={version:"0.16.9",render:Xh,renderToString:function(c,p){return Cl(c,p).toMarkup()},ParseError:s,SETTINGS_SCHEMA:f,__parse:function(c,p){var d=new m(p);return kl(c,d)},__renderToDomTree:Cl,__renderToHTMLTree:function(c,p){var d=new m(p);try{return function(g,x,A){var R=il(g,qu(A)),B=le.makeSpan(["katex"],[R]);return Xu(B,A)}(kl(c,d),0,d)}catch(g){return Yh(g,c,d)}},__setFontMetrics:function(c,p){Q[c]=p},__defineSymbol:y,__defineFunction:je,__defineMacro:I,__domTree:{Span:ue,Anchor:Ue,SymbolNode:ze,SvgNode:Oe,PathNode:Ye,LineNode:it}};return r=r.default}()})})(b4);class gr{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new gr(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class ti{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new ti(t,gr.range(this,e))}}class Xe{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,l=t&&t.loc;if(l&&l.start<=l.end){var o=l.lexer.input;i=l.start,s=l.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var u=o.slice(i,s).replace(/[^]/g,"$&̲"),a;i>15?a="…"+o.slice(i-15,i):a=o.slice(0,i);var h;s+15<o.length?h=o.slice(s,s+15)+"…":h=o.slice(s),r+=a+u+h}var f=new Error(r);return f.name="ParseError",f.__proto__=Xe.prototype,f.position=i,i!=null&&s!=null&&(f.length=s-i),f.rawMessage=e,f}}Xe.prototype.__proto__=Error.prototype;var y4=function(e,t){return e.indexOf(t)!==-1},x4=function(e,t){return e===void 0?t:e},w4=/([A-Z])/g,_4=function(e){return e.replace(w4,"-$1").toLowerCase()},S4={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},M4=/[&><"']/g;function E4(n){return String(n).replace(M4,e=>S4[e])}var P1=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},T4=function(e){var t=P1(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},A4=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},k4=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return t!=null?t[1]:"_relative"},At={contains:y4,deflt:x4,escape:E4,hyphenate:_4,getBaseElem:P1,isCharacterBox:T4,protocolFromUrl:k4},E0={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function C4(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class lu{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in E0)if(E0.hasOwnProperty(t)){var r=E0[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:C4(r)}}reportNonstrict(e,t,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Xe("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var i=this.strict;if(typeof i=="function")try{i=i(e,t,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=At.protocolFromUrl(e.url));var t=typeof this.trust=="function"?this.trust(e):this.trust;return!!t}}class Ui{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return Zr[R4[this.id]]}sub(){return Zr[$4[this.id]]}fracNum(){return Zr[P4[this.id]]}fracDen(){return Zr[L4[this.id]]}cramp(){return Zr[D4[this.id]]}text(){return Zr[z4[this.id]]}isTight(){return this.size>=2}}var cu=0,C0=1,ca=2,_i=3,Ya=4,Cr=5,pa=6,Jn=7,Zr=[new Ui(cu,0,!1),new Ui(C0,0,!0),new Ui(ca,1,!1),new Ui(_i,1,!0),new Ui(Ya,2,!1),new Ui(Cr,2,!0),new Ui(pa,3,!1),new Ui(Jn,3,!0)],R4=[Ya,Cr,Ya,Cr,pa,Jn,pa,Jn],$4=[Cr,Cr,Cr,Cr,Jn,Jn,Jn,Jn],P4=[ca,_i,Ya,Cr,pa,Jn,pa,Jn],L4=[_i,_i,Cr,Cr,Jn,Jn,Jn,Jn],D4=[C0,C0,_i,_i,Cr,Cr,Jn,Jn],z4=[cu,C0,ca,_i,ca,_i,ca,_i],xt={DISPLAY:Zr[cu],TEXT:Zr[ca],SCRIPT:Zr[Ya],SCRIPTSCRIPT:Zr[pa]},Ic=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function N4(n){for(var e=0;e<Ic.length;e++)for(var t=Ic[e],r=0;r<t.blocks.length;r++){var i=t.blocks[r];if(n>=i[0]&&n<=i[1])return t.name}return null}var T0=[];Ic.forEach(n=>n.blocks.forEach(e=>T0.push(...e)));function L1(n){for(var e=0;e<T0.length;e+=2)if(n>=T0[e]&&n<=T0[e+1])return!0;return!1}var Is=80,O4=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},I4=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},U4=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},B4=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},F4=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},H4=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},G4=function(e,t,r){var i=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},V4=function(e,t,r){t=1e3*t;var i="";switch(e){case"sqrtMain":i=O4(t,Is);break;case"sqrtSize1":i=I4(t,Is);break;case"sqrtSize2":i=U4(t,Is);break;case"sqrtSize3":i=B4(t,Is);break;case"sqrtSize4":i=F4(t,Is);break;case"sqrtTall":i=G4(t,Is,r)}return i},W4=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},Jh={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},j4=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ao{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return At.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var ei={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Oo={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Qh={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function q4(n,e){ei[n]=e}function uu(n,e,t){if(!ei[e])throw new Error("Font metrics not found for font: "+e+".");var r=n.charCodeAt(0),i=ei[e][r];if(!i&&n[0]in Qh&&(r=Qh[n[0]].charCodeAt(0),i=ei[e][r]),!i&&t==="text"&&L1(r)&&(i=ei[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Ll={};function X4(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!Ll[e]){var t=Ll[e]={cssEmPerMu:Oo.quad[e]/18};for(var r in Oo)Oo.hasOwnProperty(r)&&(t[r]=Oo[r][e])}return Ll[e]}var Y4=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ed=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],td=function(e,t){return t.size<2?e:Y4[e-1][t.size-1]};class bi{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||bi.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=ed[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new bi(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:td(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:ed[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=td(bi.BASESIZE,e);return this.size===t&&this.textSize===bi.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==bi.BASESIZE?["sizing","reset-size"+this.size,"size"+bi.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=X4(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}bi.BASESIZE=6;var Uc={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},K4={ex:!0,em:!0,mu:!0},D1=function(e){return typeof e!="string"&&(e=e.unit),e in Uc||e in K4||e==="ex"},bn=function(e,t){var r;if(e.unit in Uc)r=Uc[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Xe("Invalid unit: '"+e.unit+"'");i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},Qe=function(e){return+e.toFixed(4)+"em"},ns=function(e){return e.filter(t=>t).join(" ")},z1=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},N1=function(e){var t=document.createElement(e);t.className=ns(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},O1=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+At.escape(ns(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=At.hyphenate(i)+":"+this.style[i]+";");r&&(t+=' style="'+At.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(t+=" "+s+'="'+At.escape(this.attributes[s])+'"');t+=">";for(var l=0;l<this.children.length;l++)t+=this.children[l].toMarkup();return t+="</"+e+">",t};class oo{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,z1.call(this,e,r,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return At.contains(this.classes,e)}toNode(){return N1.call(this,"span")}toMarkup(){return O1.call(this,"span")}}class hu{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,z1.call(this,t,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return At.contains(this.classes,e)}toNode(){return N1.call(this,"a")}toMarkup(){return O1.call(this,"a")}}class Z4{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return At.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=At.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+At.escape(t)+'"'),e+="'/>",e}}var J4={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Rr{constructor(e,t,r,i,s,l,o,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=l||0,this.classes=o||[],this.style=u||{},this.maxFontSize=0;var a=N4(this.text.charCodeAt(0));a&&this.classes.push(a+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=J4[this.text])}hasClass(e){return At.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Qe(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=ns(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=At.escape(ns(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=At.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,t+=' style="'+At.escape(r)+'"');var s=At.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class Ei{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class rs{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",Jh[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+Jh[this.pathName]+"'/>"}}class Bc{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>",e}}function nd(n){if(n instanceof Rr)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function Q4(n){if(n instanceof oo)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var e2={bin:1,close:1,inner:1,open:1,punct:1,rel:1},t2={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},on={math:{},text:{}};function w(n,e,t,r,i,s){on[n][i]={font:e,group:t,replace:r},s&&r&&(on[n][r]=on[n][i])}var T="math",Fe="text",P="main",te="ams",dn="accent-token",ut="bin",nr="close",Sa="inner",yt="mathord",Mn="op-token",wr="open",W0="punct",ne="rel",Ci="spacing",pe="textord";w(T,P,ne,"≡","\\equiv",!0);w(T,P,ne,"≺","\\prec",!0);w(T,P,ne,"≻","\\succ",!0);w(T,P,ne,"∼","\\sim",!0);w(T,P,ne,"⊥","\\perp");w(T,P,ne,"⪯","\\preceq",!0);w(T,P,ne,"⪰","\\succeq",!0);w(T,P,ne,"≃","\\simeq",!0);w(T,P,ne,"∣","\\mid",!0);w(T,P,ne,"≪","\\ll",!0);w(T,P,ne,"≫","\\gg",!0);w(T,P,ne,"≍","\\asymp",!0);w(T,P,ne,"∥","\\parallel");w(T,P,ne,"⋈","\\bowtie",!0);w(T,P,ne,"⌣","\\smile",!0);w(T,P,ne,"⊑","\\sqsubseteq",!0);w(T,P,ne,"⊒","\\sqsupseteq",!0);w(T,P,ne,"≐","\\doteq",!0);w(T,P,ne,"⌢","\\frown",!0);w(T,P,ne,"∋","\\ni",!0);w(T,P,ne,"∝","\\propto",!0);w(T,P,ne,"⊢","\\vdash",!0);w(T,P,ne,"⊣","\\dashv",!0);w(T,P,ne,"∋","\\owns");w(T,P,W0,".","\\ldotp");w(T,P,W0,"⋅","\\cdotp");w(T,P,pe,"#","\\#");w(Fe,P,pe,"#","\\#");w(T,P,pe,"&","\\&");w(Fe,P,pe,"&","\\&");w(T,P,pe,"ℵ","\\aleph",!0);w(T,P,pe,"∀","\\forall",!0);w(T,P,pe,"ℏ","\\hbar",!0);w(T,P,pe,"∃","\\exists",!0);w(T,P,pe,"∇","\\nabla",!0);w(T,P,pe,"♭","\\flat",!0);w(T,P,pe,"ℓ","\\ell",!0);w(T,P,pe,"♮","\\natural",!0);w(T,P,pe,"♣","\\clubsuit",!0);w(T,P,pe,"℘","\\wp",!0);w(T,P,pe,"♯","\\sharp",!0);w(T,P,pe,"♢","\\diamondsuit",!0);w(T,P,pe,"ℜ","\\Re",!0);w(T,P,pe,"♡","\\heartsuit",!0);w(T,P,pe,"ℑ","\\Im",!0);w(T,P,pe,"♠","\\spadesuit",!0);w(T,P,pe,"§","\\S",!0);w(Fe,P,pe,"§","\\S");w(T,P,pe,"¶","\\P",!0);w(Fe,P,pe,"¶","\\P");w(T,P,pe,"†","\\dag");w(Fe,P,pe,"†","\\dag");w(Fe,P,pe,"†","\\textdagger");w(T,P,pe,"‡","\\ddag");w(Fe,P,pe,"‡","\\ddag");w(Fe,P,pe,"‡","\\textdaggerdbl");w(T,P,nr,"⎱","\\rmoustache",!0);w(T,P,wr,"⎰","\\lmoustache",!0);w(T,P,nr,"⟯","\\rgroup",!0);w(T,P,wr,"⟮","\\lgroup",!0);w(T,P,ut,"∓","\\mp",!0);w(T,P,ut,"⊖","\\ominus",!0);w(T,P,ut,"⊎","\\uplus",!0);w(T,P,ut,"⊓","\\sqcap",!0);w(T,P,ut,"∗","\\ast");w(T,P,ut,"⊔","\\sqcup",!0);w(T,P,ut,"◯","\\bigcirc",!0);w(T,P,ut,"∙","\\bullet",!0);w(T,P,ut,"‡","\\ddagger");w(T,P,ut,"≀","\\wr",!0);w(T,P,ut,"⨿","\\amalg");w(T,P,ut,"&","\\And");w(T,P,ne,"⟵","\\longleftarrow",!0);w(T,P,ne,"⇐","\\Leftarrow",!0);w(T,P,ne,"⟸","\\Longleftarrow",!0);w(T,P,ne,"⟶","\\longrightarrow",!0);w(T,P,ne,"⇒","\\Rightarrow",!0);w(T,P,ne,"⟹","\\Longrightarrow",!0);w(T,P,ne,"↔","\\leftrightarrow",!0);w(T,P,ne,"⟷","\\longleftrightarrow",!0);w(T,P,ne,"⇔","\\Leftrightarrow",!0);w(T,P,ne,"⟺","\\Longleftrightarrow",!0);w(T,P,ne,"↦","\\mapsto",!0);w(T,P,ne,"⟼","\\longmapsto",!0);w(T,P,ne,"↗","\\nearrow",!0);w(T,P,ne,"↩","\\hookleftarrow",!0);w(T,P,ne,"↪","\\hookrightarrow",!0);w(T,P,ne,"↘","\\searrow",!0);w(T,P,ne,"↼","\\leftharpoonup",!0);w(T,P,ne,"⇀","\\rightharpoonup",!0);w(T,P,ne,"↙","\\swarrow",!0);w(T,P,ne,"↽","\\leftharpoondown",!0);w(T,P,ne,"⇁","\\rightharpoondown",!0);w(T,P,ne,"↖","\\nwarrow",!0);w(T,P,ne,"⇌","\\rightleftharpoons",!0);w(T,te,ne,"≮","\\nless",!0);w(T,te,ne,"","\\@nleqslant");w(T,te,ne,"","\\@nleqq");w(T,te,ne,"⪇","\\lneq",!0);w(T,te,ne,"≨","\\lneqq",!0);w(T,te,ne,"","\\@lvertneqq");w(T,te,ne,"⋦","\\lnsim",!0);w(T,te,ne,"⪉","\\lnapprox",!0);w(T,te,ne,"⊀","\\nprec",!0);w(T,te,ne,"⋠","\\npreceq",!0);w(T,te,ne,"⋨","\\precnsim",!0);w(T,te,ne,"⪹","\\precnapprox",!0);w(T,te,ne,"≁","\\nsim",!0);w(T,te,ne,"","\\@nshortmid");w(T,te,ne,"∤","\\nmid",!0);w(T,te,ne,"⊬","\\nvdash",!0);w(T,te,ne,"⊭","\\nvDash",!0);w(T,te,ne,"⋪","\\ntriangleleft");w(T,te,ne,"⋬","\\ntrianglelefteq",!0);w(T,te,ne,"⊊","\\subsetneq",!0);w(T,te,ne,"","\\@varsubsetneq");w(T,te,ne,"⫋","\\subsetneqq",!0);w(T,te,ne,"","\\@varsubsetneqq");w(T,te,ne,"≯","\\ngtr",!0);w(T,te,ne,"","\\@ngeqslant");w(T,te,ne,"","\\@ngeqq");w(T,te,ne,"⪈","\\gneq",!0);w(T,te,ne,"≩","\\gneqq",!0);w(T,te,ne,"","\\@gvertneqq");w(T,te,ne,"⋧","\\gnsim",!0);w(T,te,ne,"⪊","\\gnapprox",!0);w(T,te,ne,"⊁","\\nsucc",!0);w(T,te,ne,"⋡","\\nsucceq",!0);w(T,te,ne,"⋩","\\succnsim",!0);w(T,te,ne,"⪺","\\succnapprox",!0);w(T,te,ne,"≆","\\ncong",!0);w(T,te,ne,"","\\@nshortparallel");w(T,te,ne,"∦","\\nparallel",!0);w(T,te,ne,"⊯","\\nVDash",!0);w(T,te,ne,"⋫","\\ntriangleright");w(T,te,ne,"⋭","\\ntrianglerighteq",!0);w(T,te,ne,"","\\@nsupseteqq");w(T,te,ne,"⊋","\\supsetneq",!0);w(T,te,ne,"","\\@varsupsetneq");w(T,te,ne,"⫌","\\supsetneqq",!0);w(T,te,ne,"","\\@varsupsetneqq");w(T,te,ne,"⊮","\\nVdash",!0);w(T,te,ne,"⪵","\\precneqq",!0);w(T,te,ne,"⪶","\\succneqq",!0);w(T,te,ne,"","\\@nsubseteqq");w(T,te,ut,"⊴","\\unlhd");w(T,te,ut,"⊵","\\unrhd");w(T,te,ne,"↚","\\nleftarrow",!0);w(T,te,ne,"↛","\\nrightarrow",!0);w(T,te,ne,"⇍","\\nLeftarrow",!0);w(T,te,ne,"⇏","\\nRightarrow",!0);w(T,te,ne,"↮","\\nleftrightarrow",!0);w(T,te,ne,"⇎","\\nLeftrightarrow",!0);w(T,te,ne,"△","\\vartriangle");w(T,te,pe,"ℏ","\\hslash");w(T,te,pe,"▽","\\triangledown");w(T,te,pe,"◊","\\lozenge");w(T,te,pe,"Ⓢ","\\circledS");w(T,te,pe,"®","\\circledR");w(Fe,te,pe,"®","\\circledR");w(T,te,pe,"∡","\\measuredangle",!0);w(T,te,pe,"∄","\\nexists");w(T,te,pe,"℧","\\mho");w(T,te,pe,"Ⅎ","\\Finv",!0);w(T,te,pe,"⅁","\\Game",!0);w(T,te,pe,"‵","\\backprime");w(T,te,pe,"▲","\\blacktriangle");w(T,te,pe,"▼","\\blacktriangledown");w(T,te,pe,"■","\\blacksquare");w(T,te,pe,"⧫","\\blacklozenge");w(T,te,pe,"★","\\bigstar");w(T,te,pe,"∢","\\sphericalangle",!0);w(T,te,pe,"∁","\\complement",!0);w(T,te,pe,"ð","\\eth",!0);w(Fe,P,pe,"ð","ð");w(T,te,pe,"╱","\\diagup");w(T,te,pe,"╲","\\diagdown");w(T,te,pe,"□","\\square");w(T,te,pe,"□","\\Box");w(T,te,pe,"◊","\\Diamond");w(T,te,pe,"¥","\\yen",!0);w(Fe,te,pe,"¥","\\yen",!0);w(T,te,pe,"✓","\\checkmark",!0);w(Fe,te,pe,"✓","\\checkmark");w(T,te,pe,"ℶ","\\beth",!0);w(T,te,pe,"ℸ","\\daleth",!0);w(T,te,pe,"ℷ","\\gimel",!0);w(T,te,pe,"ϝ","\\digamma",!0);w(T,te,pe,"ϰ","\\varkappa");w(T,te,wr,"┌","\\@ulcorner",!0);w(T,te,nr,"┐","\\@urcorner",!0);w(T,te,wr,"└","\\@llcorner",!0);w(T,te,nr,"┘","\\@lrcorner",!0);w(T,te,ne,"≦","\\leqq",!0);w(T,te,ne,"⩽","\\leqslant",!0);w(T,te,ne,"⪕","\\eqslantless",!0);w(T,te,ne,"≲","\\lesssim",!0);w(T,te,ne,"⪅","\\lessapprox",!0);w(T,te,ne,"≊","\\approxeq",!0);w(T,te,ut,"⋖","\\lessdot");w(T,te,ne,"⋘","\\lll",!0);w(T,te,ne,"≶","\\lessgtr",!0);w(T,te,ne,"⋚","\\lesseqgtr",!0);w(T,te,ne,"⪋","\\lesseqqgtr",!0);w(T,te,ne,"≑","\\doteqdot");w(T,te,ne,"≓","\\risingdotseq",!0);w(T,te,ne,"≒","\\fallingdotseq",!0);w(T,te,ne,"∽","\\backsim",!0);w(T,te,ne,"⋍","\\backsimeq",!0);w(T,te,ne,"⫅","\\subseteqq",!0);w(T,te,ne,"⋐","\\Subset",!0);w(T,te,ne,"⊏","\\sqsubset",!0);w(T,te,ne,"≼","\\preccurlyeq",!0);w(T,te,ne,"⋞","\\curlyeqprec",!0);w(T,te,ne,"≾","\\precsim",!0);w(T,te,ne,"⪷","\\precapprox",!0);w(T,te,ne,"⊲","\\vartriangleleft");w(T,te,ne,"⊴","\\trianglelefteq");w(T,te,ne,"⊨","\\vDash",!0);w(T,te,ne,"⊪","\\Vvdash",!0);w(T,te,ne,"⌣","\\smallsmile");w(T,te,ne,"⌢","\\smallfrown");w(T,te,ne,"≏","\\bumpeq",!0);w(T,te,ne,"≎","\\Bumpeq",!0);w(T,te,ne,"≧","\\geqq",!0);w(T,te,ne,"⩾","\\geqslant",!0);w(T,te,ne,"⪖","\\eqslantgtr",!0);w(T,te,ne,"≳","\\gtrsim",!0);w(T,te,ne,"⪆","\\gtrapprox",!0);w(T,te,ut,"⋗","\\gtrdot");w(T,te,ne,"⋙","\\ggg",!0);w(T,te,ne,"≷","\\gtrless",!0);w(T,te,ne,"⋛","\\gtreqless",!0);w(T,te,ne,"⪌","\\gtreqqless",!0);w(T,te,ne,"≖","\\eqcirc",!0);w(T,te,ne,"≗","\\circeq",!0);w(T,te,ne,"≜","\\triangleq",!0);w(T,te,ne,"∼","\\thicksim");w(T,te,ne,"≈","\\thickapprox");w(T,te,ne,"⫆","\\supseteqq",!0);w(T,te,ne,"⋑","\\Supset",!0);w(T,te,ne,"⊐","\\sqsupset",!0);w(T,te,ne,"≽","\\succcurlyeq",!0);w(T,te,ne,"⋟","\\curlyeqsucc",!0);w(T,te,ne,"≿","\\succsim",!0);w(T,te,ne,"⪸","\\succapprox",!0);w(T,te,ne,"⊳","\\vartriangleright");w(T,te,ne,"⊵","\\trianglerighteq");w(T,te,ne,"⊩","\\Vdash",!0);w(T,te,ne,"∣","\\shortmid");w(T,te,ne,"∥","\\shortparallel");w(T,te,ne,"≬","\\between",!0);w(T,te,ne,"⋔","\\pitchfork",!0);w(T,te,ne,"∝","\\varpropto");w(T,te,ne,"◀","\\blacktriangleleft");w(T,te,ne,"∴","\\therefore",!0);w(T,te,ne,"∍","\\backepsilon");w(T,te,ne,"▶","\\blacktriangleright");w(T,te,ne,"∵","\\because",!0);w(T,te,ne,"⋘","\\llless");w(T,te,ne,"⋙","\\gggtr");w(T,te,ut,"⊲","\\lhd");w(T,te,ut,"⊳","\\rhd");w(T,te,ne,"≂","\\eqsim",!0);w(T,P,ne,"⋈","\\Join");w(T,te,ne,"≑","\\Doteq",!0);w(T,te,ut,"∔","\\dotplus",!0);w(T,te,ut,"∖","\\smallsetminus");w(T,te,ut,"⋒","\\Cap",!0);w(T,te,ut,"⋓","\\Cup",!0);w(T,te,ut,"⩞","\\doublebarwedge",!0);w(T,te,ut,"⊟","\\boxminus",!0);w(T,te,ut,"⊞","\\boxplus",!0);w(T,te,ut,"⋇","\\divideontimes",!0);w(T,te,ut,"⋉","\\ltimes",!0);w(T,te,ut,"⋊","\\rtimes",!0);w(T,te,ut,"⋋","\\leftthreetimes",!0);w(T,te,ut,"⋌","\\rightthreetimes",!0);w(T,te,ut,"⋏","\\curlywedge",!0);w(T,te,ut,"⋎","\\curlyvee",!0);w(T,te,ut,"⊝","\\circleddash",!0);w(T,te,ut,"⊛","\\circledast",!0);w(T,te,ut,"⋅","\\centerdot");w(T,te,ut,"⊺","\\intercal",!0);w(T,te,ut,"⋒","\\doublecap");w(T,te,ut,"⋓","\\doublecup");w(T,te,ut,"⊠","\\boxtimes",!0);w(T,te,ne,"⇢","\\dashrightarrow",!0);w(T,te,ne,"⇠","\\dashleftarrow",!0);w(T,te,ne,"⇇","\\leftleftarrows",!0);w(T,te,ne,"⇆","\\leftrightarrows",!0);w(T,te,ne,"⇚","\\Lleftarrow",!0);w(T,te,ne,"↞","\\twoheadleftarrow",!0);w(T,te,ne,"↢","\\leftarrowtail",!0);w(T,te,ne,"↫","\\looparrowleft",!0);w(T,te,ne,"⇋","\\leftrightharpoons",!0);w(T,te,ne,"↶","\\curvearrowleft",!0);w(T,te,ne,"↺","\\circlearrowleft",!0);w(T,te,ne,"↰","\\Lsh",!0);w(T,te,ne,"⇈","\\upuparrows",!0);w(T,te,ne,"↿","\\upharpoonleft",!0);w(T,te,ne,"⇃","\\downharpoonleft",!0);w(T,P,ne,"⊶","\\origof",!0);w(T,P,ne,"⊷","\\imageof",!0);w(T,te,ne,"⊸","\\multimap",!0);w(T,te,ne,"↭","\\leftrightsquigarrow",!0);w(T,te,ne,"⇉","\\rightrightarrows",!0);w(T,te,ne,"⇄","\\rightleftarrows",!0);w(T,te,ne,"↠","\\twoheadrightarrow",!0);w(T,te,ne,"↣","\\rightarrowtail",!0);w(T,te,ne,"↬","\\looparrowright",!0);w(T,te,ne,"↷","\\curvearrowright",!0);w(T,te,ne,"↻","\\circlearrowright",!0);w(T,te,ne,"↱","\\Rsh",!0);w(T,te,ne,"⇊","\\downdownarrows",!0);w(T,te,ne,"↾","\\upharpoonright",!0);w(T,te,ne,"⇂","\\downharpoonright",!0);w(T,te,ne,"⇝","\\rightsquigarrow",!0);w(T,te,ne,"⇝","\\leadsto");w(T,te,ne,"⇛","\\Rrightarrow",!0);w(T,te,ne,"↾","\\restriction");w(T,P,pe,"‘","`");w(T,P,pe,"$","\\$");w(Fe,P,pe,"$","\\$");w(Fe,P,pe,"$","\\textdollar");w(T,P,pe,"%","\\%");w(Fe,P,pe,"%","\\%");w(T,P,pe,"_","\\_");w(Fe,P,pe,"_","\\_");w(Fe,P,pe,"_","\\textunderscore");w(T,P,pe,"∠","\\angle",!0);w(T,P,pe,"∞","\\infty",!0);w(T,P,pe,"′","\\prime");w(T,P,pe,"△","\\triangle");w(T,P,pe,"Γ","\\Gamma",!0);w(T,P,pe,"Δ","\\Delta",!0);w(T,P,pe,"Θ","\\Theta",!0);w(T,P,pe,"Λ","\\Lambda",!0);w(T,P,pe,"Ξ","\\Xi",!0);w(T,P,pe,"Π","\\Pi",!0);w(T,P,pe,"Σ","\\Sigma",!0);w(T,P,pe,"Υ","\\Upsilon",!0);w(T,P,pe,"Φ","\\Phi",!0);w(T,P,pe,"Ψ","\\Psi",!0);w(T,P,pe,"Ω","\\Omega",!0);w(T,P,pe,"A","Α");w(T,P,pe,"B","Β");w(T,P,pe,"E","Ε");w(T,P,pe,"Z","Ζ");w(T,P,pe,"H","Η");w(T,P,pe,"I","Ι");w(T,P,pe,"K","Κ");w(T,P,pe,"M","Μ");w(T,P,pe,"N","Ν");w(T,P,pe,"O","Ο");w(T,P,pe,"P","Ρ");w(T,P,pe,"T","Τ");w(T,P,pe,"X","Χ");w(T,P,pe,"¬","\\neg",!0);w(T,P,pe,"¬","\\lnot");w(T,P,pe,"⊤","\\top");w(T,P,pe,"⊥","\\bot");w(T,P,pe,"∅","\\emptyset");w(T,te,pe,"∅","\\varnothing");w(T,P,yt,"α","\\alpha",!0);w(T,P,yt,"β","\\beta",!0);w(T,P,yt,"γ","\\gamma",!0);w(T,P,yt,"δ","\\delta",!0);w(T,P,yt,"ϵ","\\epsilon",!0);w(T,P,yt,"ζ","\\zeta",!0);w(T,P,yt,"η","\\eta",!0);w(T,P,yt,"θ","\\theta",!0);w(T,P,yt,"ι","\\iota",!0);w(T,P,yt,"κ","\\kappa",!0);w(T,P,yt,"λ","\\lambda",!0);w(T,P,yt,"μ","\\mu",!0);w(T,P,yt,"ν","\\nu",!0);w(T,P,yt,"ξ","\\xi",!0);w(T,P,yt,"ο","\\omicron",!0);w(T,P,yt,"π","\\pi",!0);w(T,P,yt,"ρ","\\rho",!0);w(T,P,yt,"σ","\\sigma",!0);w(T,P,yt,"τ","\\tau",!0);w(T,P,yt,"υ","\\upsilon",!0);w(T,P,yt,"ϕ","\\phi",!0);w(T,P,yt,"χ","\\chi",!0);w(T,P,yt,"ψ","\\psi",!0);w(T,P,yt,"ω","\\omega",!0);w(T,P,yt,"ε","\\varepsilon",!0);w(T,P,yt,"ϑ","\\vartheta",!0);w(T,P,yt,"ϖ","\\varpi",!0);w(T,P,yt,"ϱ","\\varrho",!0);w(T,P,yt,"ς","\\varsigma",!0);w(T,P,yt,"φ","\\varphi",!0);w(T,P,ut,"∗","*",!0);w(T,P,ut,"+","+");w(T,P,ut,"−","-",!0);w(T,P,ut,"⋅","\\cdot",!0);w(T,P,ut,"∘","\\circ",!0);w(T,P,ut,"÷","\\div",!0);w(T,P,ut,"±","\\pm",!0);w(T,P,ut,"×","\\times",!0);w(T,P,ut,"∩","\\cap",!0);w(T,P,ut,"∪","\\cup",!0);w(T,P,ut,"∖","\\setminus",!0);w(T,P,ut,"∧","\\land");w(T,P,ut,"∨","\\lor");w(T,P,ut,"∧","\\wedge",!0);w(T,P,ut,"∨","\\vee",!0);w(T,P,pe,"√","\\surd");w(T,P,wr,"⟨","\\langle",!0);w(T,P,wr,"∣","\\lvert");w(T,P,wr,"∥","\\lVert");w(T,P,nr,"?","?");w(T,P,nr,"!","!");w(T,P,nr,"⟩","\\rangle",!0);w(T,P,nr,"∣","\\rvert");w(T,P,nr,"∥","\\rVert");w(T,P,ne,"=","=");w(T,P,ne,":",":");w(T,P,ne,"≈","\\approx",!0);w(T,P,ne,"≅","\\cong",!0);w(T,P,ne,"≥","\\ge");w(T,P,ne,"≥","\\geq",!0);w(T,P,ne,"←","\\gets");w(T,P,ne,">","\\gt",!0);w(T,P,ne,"∈","\\in",!0);w(T,P,ne,"","\\@not");w(T,P,ne,"⊂","\\subset",!0);w(T,P,ne,"⊃","\\supset",!0);w(T,P,ne,"⊆","\\subseteq",!0);w(T,P,ne,"⊇","\\supseteq",!0);w(T,te,ne,"⊈","\\nsubseteq",!0);w(T,te,ne,"⊉","\\nsupseteq",!0);w(T,P,ne,"⊨","\\models");w(T,P,ne,"←","\\leftarrow",!0);w(T,P,ne,"≤","\\le");w(T,P,ne,"≤","\\leq",!0);w(T,P,ne,"<","\\lt",!0);w(T,P,ne,"→","\\rightarrow",!0);w(T,P,ne,"→","\\to");w(T,te,ne,"≱","\\ngeq",!0);w(T,te,ne,"≰","\\nleq",!0);w(T,P,Ci," ","\\ ");w(T,P,Ci," ","\\space");w(T,P,Ci," ","\\nobreakspace");w(Fe,P,Ci," ","\\ ");w(Fe,P,Ci," "," ");w(Fe,P,Ci," ","\\space");w(Fe,P,Ci," ","\\nobreakspace");w(T,P,Ci,null,"\\nobreak");w(T,P,Ci,null,"\\allowbreak");w(T,P,W0,",",",");w(T,P,W0,";",";");w(T,te,ut,"⊼","\\barwedge",!0);w(T,te,ut,"⊻","\\veebar",!0);w(T,P,ut,"⊙","\\odot",!0);w(T,P,ut,"⊕","\\oplus",!0);w(T,P,ut,"⊗","\\otimes",!0);w(T,P,pe,"∂","\\partial",!0);w(T,P,ut,"⊘","\\oslash",!0);w(T,te,ut,"⊚","\\circledcirc",!0);w(T,te,ut,"⊡","\\boxdot",!0);w(T,P,ut,"△","\\bigtriangleup");w(T,P,ut,"▽","\\bigtriangledown");w(T,P,ut,"†","\\dagger");w(T,P,ut,"⋄","\\diamond");w(T,P,ut,"⋆","\\star");w(T,P,ut,"◃","\\triangleleft");w(T,P,ut,"▹","\\triangleright");w(T,P,wr,"{","\\{");w(Fe,P,pe,"{","\\{");w(Fe,P,pe,"{","\\textbraceleft");w(T,P,nr,"}","\\}");w(Fe,P,pe,"}","\\}");w(Fe,P,pe,"}","\\textbraceright");w(T,P,wr,"{","\\lbrace");w(T,P,nr,"}","\\rbrace");w(T,P,wr,"[","\\lbrack",!0);w(Fe,P,pe,"[","\\lbrack",!0);w(T,P,nr,"]","\\rbrack",!0);w(Fe,P,pe,"]","\\rbrack",!0);w(T,P,wr,"(","\\lparen",!0);w(T,P,nr,")","\\rparen",!0);w(Fe,P,pe,"<","\\textless",!0);w(Fe,P,pe,">","\\textgreater",!0);w(T,P,wr,"⌊","\\lfloor",!0);w(T,P,nr,"⌋","\\rfloor",!0);w(T,P,wr,"⌈","\\lceil",!0);w(T,P,nr,"⌉","\\rceil",!0);w(T,P,pe,"\\","\\backslash");w(T,P,pe,"∣","|");w(T,P,pe,"∣","\\vert");w(Fe,P,pe,"|","\\textbar",!0);w(T,P,pe,"∥","\\|");w(T,P,pe,"∥","\\Vert");w(Fe,P,pe,"∥","\\textbardbl");w(Fe,P,pe,"~","\\textasciitilde");w(Fe,P,pe,"\\","\\textbackslash");w(Fe,P,pe,"^","\\textasciicircum");w(T,P,ne,"↑","\\uparrow",!0);w(T,P,ne,"⇑","\\Uparrow",!0);w(T,P,ne,"↓","\\downarrow",!0);w(T,P,ne,"⇓","\\Downarrow",!0);w(T,P,ne,"↕","\\updownarrow",!0);w(T,P,ne,"⇕","\\Updownarrow",!0);w(T,P,Mn,"∐","\\coprod");w(T,P,Mn,"⋁","\\bigvee");w(T,P,Mn,"⋀","\\bigwedge");w(T,P,Mn,"⨄","\\biguplus");w(T,P,Mn,"⋂","\\bigcap");w(T,P,Mn,"⋃","\\bigcup");w(T,P,Mn,"∫","\\int");w(T,P,Mn,"∫","\\intop");w(T,P,Mn,"∬","\\iint");w(T,P,Mn,"∭","\\iiint");w(T,P,Mn,"∏","\\prod");w(T,P,Mn,"∑","\\sum");w(T,P,Mn,"⨂","\\bigotimes");w(T,P,Mn,"⨁","\\bigoplus");w(T,P,Mn,"⨀","\\bigodot");w(T,P,Mn,"∮","\\oint");w(T,P,Mn,"∯","\\oiint");w(T,P,Mn,"∰","\\oiiint");w(T,P,Mn,"⨆","\\bigsqcup");w(T,P,Mn,"∫","\\smallint");w(Fe,P,Sa,"…","\\textellipsis");w(T,P,Sa,"…","\\mathellipsis");w(Fe,P,Sa,"…","\\ldots",!0);w(T,P,Sa,"…","\\ldots",!0);w(T,P,Sa,"⋯","\\@cdots",!0);w(T,P,Sa,"⋱","\\ddots",!0);w(T,P,pe,"⋮","\\varvdots");w(T,P,dn,"ˊ","\\acute");w(T,P,dn,"ˋ","\\grave");w(T,P,dn,"¨","\\ddot");w(T,P,dn,"~","\\tilde");w(T,P,dn,"ˉ","\\bar");w(T,P,dn,"˘","\\breve");w(T,P,dn,"ˇ","\\check");w(T,P,dn,"^","\\hat");w(T,P,dn,"⃗","\\vec");w(T,P,dn,"˙","\\dot");w(T,P,dn,"˚","\\mathring");w(T,P,yt,"","\\@imath");w(T,P,yt,"","\\@jmath");w(T,P,pe,"ı","ı");w(T,P,pe,"ȷ","ȷ");w(Fe,P,pe,"ı","\\i",!0);w(Fe,P,pe,"ȷ","\\j",!0);w(Fe,P,pe,"ß","\\ss",!0);w(Fe,P,pe,"æ","\\ae",!0);w(Fe,P,pe,"œ","\\oe",!0);w(Fe,P,pe,"ø","\\o",!0);w(Fe,P,pe,"Æ","\\AE",!0);w(Fe,P,pe,"Œ","\\OE",!0);w(Fe,P,pe,"Ø","\\O",!0);w(Fe,P,dn,"ˊ","\\'");w(Fe,P,dn,"ˋ","\\`");w(Fe,P,dn,"ˆ","\\^");w(Fe,P,dn,"˜","\\~");w(Fe,P,dn,"ˉ","\\=");w(Fe,P,dn,"˘","\\u");w(Fe,P,dn,"˙","\\.");w(Fe,P,dn,"¸","\\c");w(Fe,P,dn,"˚","\\r");w(Fe,P,dn,"ˇ","\\v");w(Fe,P,dn,"¨",'\\"');w(Fe,P,dn,"˝","\\H");w(Fe,P,dn,"◯","\\textcircled");var I1={"--":!0,"---":!0,"``":!0,"''":!0};w(Fe,P,pe,"–","--",!0);w(Fe,P,pe,"–","\\textendash");w(Fe,P,pe,"—","---",!0);w(Fe,P,pe,"—","\\textemdash");w(Fe,P,pe,"‘","`",!0);w(Fe,P,pe,"‘","\\textquoteleft");w(Fe,P,pe,"’","'",!0);w(Fe,P,pe,"’","\\textquoteright");w(Fe,P,pe,"“","``",!0);w(Fe,P,pe,"“","\\textquotedblleft");w(Fe,P,pe,"”","''",!0);w(Fe,P,pe,"”","\\textquotedblright");w(T,P,pe,"°","\\degree",!0);w(Fe,P,pe,"°","\\degree");w(Fe,P,pe,"°","\\textdegree",!0);w(T,P,pe,"£","\\pounds");w(T,P,pe,"£","\\mathsterling",!0);w(Fe,P,pe,"£","\\pounds");w(Fe,P,pe,"£","\\textsterling",!0);w(T,te,pe,"✠","\\maltese");w(Fe,te,pe,"✠","\\maltese");var rd='0123456789/@."';for(var Dl=0;Dl<rd.length;Dl++){var id=rd.charAt(Dl);w(T,P,pe,id,id)}var sd='0123456789!@*()-=+";:?/.,';for(var zl=0;zl<sd.length;zl++){var ad=sd.charAt(zl);w(Fe,P,pe,ad,ad)}var R0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Nl=0;Nl<R0.length;Nl++){var Io=R0.charAt(Nl);w(T,P,yt,Io,Io),w(Fe,P,pe,Io,Io)}w(T,te,pe,"C","ℂ");w(Fe,te,pe,"C","ℂ");w(T,te,pe,"H","ℍ");w(Fe,te,pe,"H","ℍ");w(T,te,pe,"N","ℕ");w(Fe,te,pe,"N","ℕ");w(T,te,pe,"P","ℙ");w(Fe,te,pe,"P","ℙ");w(T,te,pe,"Q","ℚ");w(Fe,te,pe,"Q","ℚ");w(T,te,pe,"R","ℝ");w(Fe,te,pe,"R","ℝ");w(T,te,pe,"Z","ℤ");w(Fe,te,pe,"Z","ℤ");w(T,P,yt,"h","ℎ");w(Fe,P,yt,"h","ℎ");var Tt="";for(var qn=0;qn<R0.length;qn++){var yn=R0.charAt(qn);Tt=String.fromCharCode(55349,56320+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56372+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56424+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56580+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56684+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56736+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56788+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56840+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56944+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),qn<26&&(Tt=String.fromCharCode(55349,56632+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt),Tt=String.fromCharCode(55349,56476+qn),w(T,P,yt,yn,Tt),w(Fe,P,pe,yn,Tt))}Tt=String.fromCharCode(55349,56668);w(T,P,yt,"k",Tt);w(Fe,P,pe,"k",Tt);for(var hs=0;hs<10;hs++){var Bi=hs.toString();Tt=String.fromCharCode(55349,57294+hs),w(T,P,yt,Bi,Tt),w(Fe,P,pe,Bi,Tt),Tt=String.fromCharCode(55349,57314+hs),w(T,P,yt,Bi,Tt),w(Fe,P,pe,Bi,Tt),Tt=String.fromCharCode(55349,57324+hs),w(T,P,yt,Bi,Tt),w(Fe,P,pe,Bi,Tt),Tt=String.fromCharCode(55349,57334+hs),w(T,P,yt,Bi,Tt),w(Fe,P,pe,Bi,Tt)}var Fc="ÐÞþ";for(var Ol=0;Ol<Fc.length;Ol++){var Uo=Fc.charAt(Ol);w(T,P,yt,Uo,Uo),w(Fe,P,pe,Uo,Uo)}var Bo=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],od=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],n2=function(e,t){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,l=t==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[Bo[o][2],Bo[o][l]]}else if(120782<=s&&s<=120831){var u=Math.floor((s-120782)/10);return[od[u][2],od[u][l]]}else{if(s===120485||s===120486)return[Bo[0][2],Bo[0][l]];if(120486<s&&s<120782)return["",""];throw new Xe("Unsupported character: "+e)}},j0=function(e,t,r){return on[r][e]&&on[r][e].replace&&(e=on[r][e].replace),{value:e,metrics:uu(e,t,r)}},Ir=function(e,t,r,i,s){var l=j0(e,t,r),o=l.metrics;e=l.value;var u;if(o){var a=o.italic;(r==="text"||i&&i.font==="mathit")&&(a=0),u=new Rr(e,o.height,o.depth,a,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),u=new Rr(e,0,0,0,0,0,s);if(i){u.maxFontSize=i.sizeMultiplier,i.style.isTight()&&u.classes.push("mtight");var h=i.getColor();h&&(u.style.color=h)}return u},r2=function(e,t,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&j0(e,"Main-Bold",t).metrics?Ir(e,"Main-Bold",t,r,i.concat(["mathbf"])):e==="\\"||on[t][e].font==="main"?Ir(e,"Main-Regular",t,r,i):Ir(e,"AMS-Regular",t,r,i.concat(["amsrm"]))},i2=function(e,t,r,i,s){return s!=="textord"&&j0(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},s2=function(e,t,r){var i=e.mode,s=e.text,l=["mord"],o=i==="math"||i==="text"&&t.font,u=o?t.font:t.fontFamily,a="",h="";if(s.charCodeAt(0)===55349&&([a,h]=n2(s,i)),a.length>0)return Ir(s,a,i,t,l.concat(h));if(u){var f,v;if(u==="boldsymbol"){var m=i2(s,i,t,l,r);f=m.fontName,v=[m.fontClass]}else o?(f=F1[u].fontName,v=[u]):(f=Fo(u,t.fontWeight,t.fontShape),v=[u,t.fontWeight,t.fontShape]);if(j0(s,f,i).metrics)return Ir(s,f,i,t,l.concat(v));if(I1.hasOwnProperty(s)&&f.slice(0,10)==="Typewriter"){for(var b=[],_=0;_<s.length;_++)b.push(Ir(s[_],f,i,t,l.concat(v)));return B1(b)}}if(r==="mathord")return Ir(s,"Math-Italic",i,t,l.concat(["mathnormal"]));if(r==="textord"){var E=on[i][s]&&on[i][s].font;if(E==="ams"){var S=Fo("amsrm",t.fontWeight,t.fontShape);return Ir(s,S,i,t,l.concat("amsrm",t.fontWeight,t.fontShape))}else if(E==="main"||!E){var N=Fo("textrm",t.fontWeight,t.fontShape);return Ir(s,N,i,t,l.concat(t.fontWeight,t.fontShape))}else{var D=Fo(E,t.fontWeight,t.fontShape);return Ir(s,D,i,t,l.concat(D,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},a2=(n,e)=>{if(ns(n.classes)!==ns(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var r in n.style)if(n.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;return!0},o2=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],r=n[e+1];t instanceof Rr&&r instanceof Rr&&a2(t,r)&&(t.text+=r.text,t.height=Math.max(t.height,r.height),t.depth=Math.max(t.depth,r.depth),t.italic=r.italic,n.splice(e+1,1),e--)}return n},du=function(e){for(var t=0,r=0,i=0,s=0;s<e.children.length;s++){var l=e.children[s];l.height>t&&(t=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=i},lr=function(e,t,r,i){var s=new oo(e,t,r,i);return du(s),s},U1=(n,e,t,r)=>new oo(n,e,t,r),l2=function(e,t,r){var i=lr([e],[],t);return i.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=Qe(i.height),i.maxFontSize=1,i},c2=function(e,t,r,i){var s=new hu(e,t,r,i);return du(s),s},B1=function(e){var t=new ao(e);return du(t),t},u2=function(e,t){return e instanceof ao?lr([],[e],t):e},h2=function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],i=-t[0].shift-t[0].elem.depth,s=i,l=1;l<t.length;l++){var o=-t[l].shift-s-t[l].elem.depth,u=o-(t[l-1].elem.height+t[l-1].elem.depth);s=s+o,r.push({type:"kern",size:u}),r.push(t[l])}return{children:r,depth:i}}var a;if(e.positionType==="top"){for(var h=e.positionData,f=0;f<e.children.length;f++){var v=e.children[f];h-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}a=h}else if(e.positionType==="bottom")a=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")a=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")a=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:a}},d2=function(e,t){for(var{children:r,depth:i}=h2(e),s=0,l=0;l<r.length;l++){var o=r[l];if(o.type==="elem"){var u=o.elem;s=Math.max(s,u.maxFontSize,u.height)}}s+=2;var a=lr(["pstrut"],[]);a.style.height=Qe(s);for(var h=[],f=i,v=i,m=i,b=0;b<r.length;b++){var _=r[b];if(_.type==="kern")m+=_.size;else{var E=_.elem,S=_.wrapperClasses||[],N=_.wrapperStyle||{},D=lr(S,[a,E],void 0,N);D.style.top=Qe(-s-m-E.depth),_.marginLeft&&(D.style.marginLeft=_.marginLeft),_.marginRight&&(D.style.marginRight=_.marginRight),h.push(D),m+=E.height+E.depth}f=Math.min(f,m),v=Math.max(v,m)}var F=lr(["vlist"],h);F.style.height=Qe(v);var X;if(f<0){var j=lr([],[]),Y=lr(["vlist"],[j]);Y.style.height=Qe(-f);var ae=lr(["vlist-s"],[new Rr("​")]);X=[lr(["vlist-r"],[F,ae]),lr(["vlist-r"],[Y])]}else X=[lr(["vlist-r"],[F])];var $=lr(["vlist-t"],X);return X.length===2&&$.classes.push("vlist-t2"),$.height=v,$.depth=-f,$},p2=(n,e)=>{var t=lr(["mspace"],[],e),r=bn(n,e);return t.style.marginRight=Qe(r),t},Fo=function(e,t,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return t==="textbf"&&r==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",i+"-"+s},F1={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},H1={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},f2=function(e,t){var[r,i,s]=H1[e],l=new rs(r),o=new Ei([l],{width:Qe(i),height:Qe(s),style:"width:"+Qe(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),u=U1(["overlay"],[o],t);return u.height=s,u.style.height=Qe(s),u.style.width=Qe(i),u},Se={fontMap:F1,makeSymbol:Ir,mathsym:r2,makeSpan:lr,makeSvgSpan:U1,makeLineSpan:l2,makeAnchor:c2,makeFragment:B1,wrapFragment:u2,makeVList:d2,makeOrd:s2,makeGlue:p2,staticSvg:f2,svgData:H1,tryCombineChars:o2},vn={number:3,unit:"mu"},ds={number:4,unit:"mu"},ci={number:5,unit:"mu"},m2={mord:{mop:vn,mbin:ds,mrel:ci,minner:vn},mop:{mord:vn,mop:vn,mrel:ci,minner:vn},mbin:{mord:ds,mop:ds,mopen:ds,minner:ds},mrel:{mord:ci,mop:ci,mopen:ci,minner:ci},mopen:{},mclose:{mop:vn,mbin:ds,mrel:ci,minner:vn},mpunct:{mord:vn,mop:vn,mrel:ci,mopen:vn,mclose:vn,mpunct:vn,minner:vn},minner:{mord:vn,mop:vn,mbin:ds,mrel:ci,mopen:vn,mpunct:vn,minner:vn}},g2={mord:{mop:vn},mop:{mord:vn,mop:vn},mbin:{},mrel:{},mopen:{},mclose:{mop:vn},mpunct:{},minner:{mop:vn}},G1={},$0={},P0={};function at(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=n,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},u=0;u<t.length;++u)G1[t[u]]=o;e&&(s&&($0[e]=s),l&&(P0[e]=l))}function $s(n){var{type:e,htmlBuilder:t,mathmlBuilder:r}=n;at({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:r})}var L0=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},wn=function(e){return e.type==="ordgroup"?e.body:[e]},Ti=Se.makeSpan,v2=["leftmost","mbin","mopen","mrel","mop","mpunct"],b2=["rightmost","mrel","mclose","mpunct"],y2={display:xt.DISPLAY,text:xt.TEXT,script:xt.SCRIPT,scriptscript:xt.SCRIPTSCRIPT},x2={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},An=function(e,t,r,i){i===void 0&&(i=[null,null]);for(var s=[],l=0;l<e.length;l++){var o=Gt(e[l],t);if(o instanceof ao){var u=o.children;s.push(...u)}else s.push(o)}if(Se.tryCombineChars(s),!r)return s;var a=t;if(e.length===1){var h=e[0];h.type==="sizing"?a=t.havingSize(h.size):h.type==="styling"&&(a=t.havingStyle(y2[h.style]))}var f=Ti([i[0]||"leftmost"],[],t),v=Ti([i[1]||"rightmost"],[],t),m=r==="root";return ld(s,(b,_)=>{var E=_.classes[0],S=b.classes[0];E==="mbin"&&At.contains(b2,S)?_.classes[0]="mord":S==="mbin"&&At.contains(v2,E)&&(b.classes[0]="mord")},{node:f},v,m),ld(s,(b,_)=>{var E=Hc(_),S=Hc(b),N=E&&S?b.hasClass("mtight")?g2[E][S]:m2[E][S]:null;if(N)return Se.makeGlue(N,a)},{node:f},v,m),s},ld=function n(e,t,r,i,s){i&&e.push(i);for(var l=0;l<e.length;l++){var o=e[l],u=V1(o);if(u){n(u.children,t,r,null,s);continue}var a=!o.hasClass("mspace");if(a){var h=t(o,r.node);h&&(r.insertAfter?r.insertAfter(h):(e.unshift(h),l++))}a?r.node=o:s&&o.hasClass("newline")&&(r.node=Ti(["leftmost"])),r.insertAfter=(f=>v=>{e.splice(f+1,0,v),l++})(l)}i&&e.pop()},V1=function(e){return e instanceof ao||e instanceof hu||e instanceof oo&&e.hasClass("enclosing")?e:null},w2=function n(e,t){var r=V1(e);if(r){var i=r.children;if(i.length){if(t==="right")return n(i[i.length-1],"right");if(t==="left")return n(i[0],"left")}}return e},Hc=function(e,t){return e?(t&&(e=w2(e,t)),x2[e.classes[0]]||null):null},Ka=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Ti(t.concat(r))},Gt=function(e,t,r){if(!e)return Ti();if($0[e.type]){var i=$0[e.type](e,t);if(r&&t.size!==r.size){i=Ti(t.sizingClasses(r),[i],t);var s=t.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Xe("Got group of unknown type: '"+e.type+"'")};function Ho(n,e){var t=Ti(["base"],n,e),r=Ti(["strut"]);return r.style.height=Qe(t.height+t.depth),t.depth&&(r.style.verticalAlign=Qe(-t.depth)),t.children.unshift(r),t}function Gc(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var r=An(n,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],l=[],o=0;o<r.length;o++)if(l.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var u=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,l.push(r[o]),r[o].hasClass("nobreak")&&(u=!0);u||(s.push(Ho(l,e)),l=[])}else r[o].hasClass("newline")&&(l.pop(),l.length>0&&(s.push(Ho(l,e)),l=[]),s.push(r[o]));l.length>0&&s.push(Ho(l,e));var a;t?(a=Ho(An(t,e,!0)),a.classes=["tag"],s.push(a)):i&&s.push(i);var h=Ti(["katex-html"],s);if(h.setAttribute("aria-hidden","true"),a){var f=a.children[0];f.style.height=Qe(h.height+h.depth),h.depth&&(f.style.verticalAlign=Qe(-h.depth))}return h}function W1(n){return new ao(n)}class Tr{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=ns(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=At.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+At.escape(ns(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Ga{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return At.escape(this.toText())}toText(){return this.text}}class _2{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Qe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Qe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var We={MathNode:Tr,TextNode:Ga,SpaceNode:_2,newDocumentFragment:W1},$r=function(e,t,r){return on[t][e]&&on[t][e].replace&&e.charCodeAt(0)!==55349&&!(I1.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=on[t][e].replace),new We.TextNode(e)},pu=function(e){return e.length===1?e[0]:new We.MathNode("mrow",e)},fu=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(At.contains(["\\imath","\\jmath"],s))return null;on[i][s]&&on[i][s].replace&&(s=on[i][s].replace);var l=Se.fontMap[r].fontName;return uu(s,l,i)?Se.fontMap[r].variant:null},hr=function(e,t,r){if(e.length===1){var i=rn(e[0],t);return r&&i instanceof Tr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],l,o=0;o<e.length;o++){var u=rn(e[o],t);if(u instanceof Tr&&l instanceof Tr){if(u.type==="mtext"&&l.type==="mtext"&&u.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...u.children);continue}else if(u.type==="mn"&&l.type==="mn"){l.children.push(...u.children);continue}else if(u.type==="mi"&&u.children.length===1&&l.type==="mn"){var a=u.children[0];if(a instanceof Ga&&a.text==="."){l.children.push(...u.children);continue}}else if(l.type==="mi"&&l.children.length===1){var h=l.children[0];if(h instanceof Ga&&h.text==="̸"&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var f=u.children[0];f instanceof Ga&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),s.pop())}}}s.push(u),l=u}return s},is=function(e,t,r){return pu(hr(e,t,r))},rn=function(e,t){if(!e)return new We.MathNode("mrow");if(P0[e.type]){var r=P0[e.type](e,t);return r}else throw new Xe("Got group of unknown type: '"+e.type+"'")};function cd(n,e,t,r,i){var s=hr(n,t),l;s.length===1&&s[0]instanceof Tr&&At.contains(["mrow","mtable"],s[0].type)?l=s[0]:l=new We.MathNode("mrow",s);var o=new We.MathNode("annotation",[new We.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var u=new We.MathNode("semantics",[l,o]),a=new We.MathNode("math",[u]);a.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&a.setAttribute("display","block");var h=i?"katex":"katex-mathml";return Se.makeSpan([h],[a])}var j1=function(e){return new bi({style:e.displayMode?xt.DISPLAY:xt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},q1=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Se.makeSpan(r,[e])}return e},S2=function(e,t,r){var i=j1(r),s;if(r.output==="mathml")return cd(e,t,i,r.displayMode,!0);if(r.output==="html"){var l=Gc(e,i);s=Se.makeSpan(["katex"],[l])}else{var o=cd(e,t,i,r.displayMode,!1),u=Gc(e,i);s=Se.makeSpan(["katex"],[o,u])}return q1(s,r)},M2=function(e,t,r){var i=j1(r),s=Gc(e,i),l=Se.makeSpan(["katex"],[s]);return q1(l,r)},E2={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},T2=function(e){var t=new We.MathNode("mo",[new We.TextNode(E2[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},A2={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},k2=function(e){return e.type==="ordgroup"?e.body.length:1},C2=function(e,t){function r(){var o=4e5,u=e.label.slice(1);if(At.contains(["widehat","widecheck","widetilde","utilde"],u)){var a=e,h=k2(a.base),f,v,m;if(h>5)u==="widehat"||u==="widecheck"?(f=420,o=2364,m=.42,v=u+"4"):(f=312,o=2340,m=.34,v="tilde4");else{var b=[1,1,2,2,3,3][h];u==="widehat"||u==="widecheck"?(o=[0,1062,2364,2364,2364][b],f=[0,239,300,360,420][b],m=[0,.24,.3,.3,.36,.42][b],v=u+b):(o=[0,600,1033,2339,2340][b],f=[0,260,286,306,312][b],m=[0,.26,.286,.3,.306,.34][b],v="tilde"+b)}var _=new rs(v),E=new Ei([_],{width:"100%",height:Qe(m),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:Se.makeSvgSpan([],[E],t),minWidth:0,height:m}}else{var S=[],N=A2[u],[D,F,X]=N,j=X/1e3,Y=D.length,ae,$;if(Y===1){var k=N[3];ae=["hide-tail"],$=[k]}else if(Y===2)ae=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(Y===3)ae=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Y+" children.");for(var L=0;L<Y;L++){var z=new rs(D[L]),Q=new Ei([z],{width:"400em",height:Qe(j),viewBox:"0 0 "+o+" "+X,preserveAspectRatio:$[L]+" slice"}),G=Se.makeSvgSpan([ae[L]],[Q],t);if(Y===1)return{span:G,minWidth:F,height:j};G.style.height=Qe(j),S.push(G)}return{span:Se.makeSpan(["stretchy"],S,t),minWidth:F,height:j}}}var{span:i,minWidth:s,height:l}=r();return i.height=l,i.style.height=Qe(l),s>0&&(i.style.minWidth=Qe(s)),i},R2=function(e,t,r,i,s){var l,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(t)){if(l=Se.makeSpan(["stretchy",t],[],s),t==="fbox"){var u=s.color&&s.getColor();u&&(l.style.borderColor=u)}}else{var a=[];/^[bx]cancel$/.test(t)&&a.push(new Bc({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&a.push(new Bc({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new Ei(a,{width:"100%",height:Qe(o)});l=Se.makeSvgSpan([],[h],s)}return l.height=o,l.style.height=Qe(o),l},Ai={encloseSpan:R2,mathMLnode:T2,svgSpan:C2};function Pt(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function mu(n){var e=q0(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function q0(n){return n&&(n.type==="atom"||t2.hasOwnProperty(n.type))?n:null}var gu=(n,e)=>{var t,r,i;n&&n.type==="supsub"?(r=Pt(n.base,"accent"),t=r.base,n.base=t,i=Q4(Gt(n,e)),n.base=r):(r=Pt(n,"accent"),t=r.base);var s=Gt(t,e.havingCrampedStyle()),l=r.isShifty&&At.isCharacterBox(t),o=0;if(l){var u=At.getBaseElem(t),a=Gt(u,e.havingCrampedStyle());o=nd(a).skew}var h=r.label==="\\c",f=h?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),v;if(r.isStretchy)v=Ai.svgSpan(r,e),v=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Qe(2*o)+")",marginLeft:Qe(2*o)}:void 0}]},e);else{var m,b;r.label==="\\vec"?(m=Se.staticSvg("vec",e),b=Se.svgData.vec[1]):(m=Se.makeOrd({mode:r.mode,text:r.label},e,"textord"),m=nd(m),m.italic=0,b=m.width,h&&(f+=m.depth)),v=Se.makeSpan(["accent-body"],[m]);var _=r.label==="\\textcircled";_&&(v.classes.push("accent-full"),f=s.height);var E=o;_||(E-=b/2),v.style.left=Qe(E),r.label==="\\textcircled"&&(v.style.top=".2em"),v=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-f},{type:"elem",elem:v}]},e)}var S=Se.makeSpan(["mord","accent"],[v],e);return i?(i.children[0]=S,i.height=Math.max(S.height,i.height),i.classes[0]="mord",i):S},X1=(n,e)=>{var t=n.isStretchy?Ai.mathMLnode(n.label):new We.MathNode("mo",[$r(n.label,n.mode)]),r=new We.MathNode("mover",[rn(n.base,e),t]);return r.setAttribute("accent","true"),r},$2=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));at({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=L0(e[0]),r=!$2.test(n.funcName),i=!r||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:r,isShifty:i,base:t}},htmlBuilder:gu,mathmlBuilder:X1});at({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],r=n.parser.mode;return r==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:gu,mathmlBuilder:X1});at({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"accentUnder",mode:t.mode,label:r,base:i}},htmlBuilder:(n,e)=>{var t=Gt(n.base,e),r=Ai.svgSpan(n,e),i=n.label==="\\utilde"?.12:0,s=Se.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:t}]},e);return Se.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(n,e)=>{var t=Ai.mathMLnode(n.label),r=new We.MathNode("munder",[rn(n.base,e),t]);return r.setAttribute("accentunder","true"),r}});var Go=n=>{var e=new We.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};at({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r,funcName:i}=n;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,r=e.havingStyle(t.sup()),i=Se.wrapFragment(Gt(n.body,r,e),e),s=n.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var l;n.below&&(r=e.havingStyle(t.sub()),l=Se.wrapFragment(Gt(n.below,r,e),e),l.classes.push(s+"-arrow-pad"));var o=Ai.svgSpan(n,e),u=-e.fontMetrics().axisHeight+.5*o.height,a=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||n.label==="\\xleftequilibrium")&&(a-=i.depth);var h;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*o.height+.111;h=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:a},{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:f}]},e)}else h=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:a},{type:"elem",elem:o,shift:u}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),Se.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(n,e){var t=Ai.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(n.body){var i=Go(rn(n.body,e));if(n.below){var s=Go(rn(n.below,e));r=new We.MathNode("munderover",[t,s,i])}else r=new We.MathNode("mover",[t,i])}else if(n.below){var l=Go(rn(n.below,e));r=new We.MathNode("munder",[t,l])}else r=Go(),r=new We.MathNode("mover",[t,r]);return r}});var P2=Se.makeSpan;function Y1(n,e){var t=An(n.body,e,!0);return P2([n.mclass],t,e)}function K1(n,e){var t,r=hr(n.body,e);return n.mclass==="minner"?t=new We.MathNode("mpadded",r):n.mclass==="mord"?n.isCharacterBox?(t=r[0],t.type="mi"):t=new We.MathNode("mi",r):(n.isCharacterBox?(t=r[0],t.type="mo"):t=new We.MathNode("mo",r),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}at({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+r.slice(5),body:wn(i),isCharacterBox:At.isCharacterBox(i)}},htmlBuilder:Y1,mathmlBuilder:K1});var X0=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};at({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:X0(e[0]),body:wn(e[1]),isCharacterBox:At.isCharacterBox(e[1])}}});at({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:r}=n,i=e[1],s=e[0],l;r!=="\\stackrel"?l=X0(i):l="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:wn(i)},u={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:l,body:[u],isCharacterBox:At.isCharacterBox(u)}},htmlBuilder:Y1,mathmlBuilder:K1});at({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:X0(e[0]),body:wn(e[0])}},htmlBuilder(n,e){var t=An(n.body,e,!0),r=Se.makeSpan([n.mclass],t,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(n,e){var t=hr(n.body,e),r=new We.MathNode("mstyle",t);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var L2={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ud=()=>({type:"styling",body:[],mode:"math",style:"display"}),hd=n=>n.type==="textord"&&n.text==="@",D2=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function z2(n,e,t){var r=L2[n];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},l=t.callFunction("\\Big",[s],[]),o=t.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[i,l,o]};return t.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var a={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[a],[])}default:return{type:"textord",text:" ",mode:"math"}}}function N2(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Xe("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var l=e[s],o=ud(),u=0;u<l.length;u++)if(!hd(l[u]))o.body.push(l[u]);else{r.push(o),u+=1;var a=mu(l[u]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(a)>-1))if("<>AV".indexOf(a)>-1)for(var f=0;f<2;f++){for(var v=!0,m=u+1;m<l.length;m++){if(D2(l[m],a)){v=!1,u=m;break}if(hd(l[m]))throw new Xe("Missing a "+a+" character to complete a CD arrow.",l[m]);h[f].body.push(l[m])}if(v)throw new Xe("Missing a "+a+" character to complete a CD arrow.",l[u])}else throw new Xe('Expected one of "<>AV=|." after @',l[u]);var b=z2(a,h,n),_={type:"styling",body:[b],mode:"math",style:"display"};r.push(_),o=ud()}s%2===0?r.push(o):r.shift(),r=[],i.push(r)}n.gullet.endGroup(),n.gullet.endGroup();var E=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}at({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"cdlabel",mode:t.mode,side:r.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),r=Se.wrapFragment(Gt(n.label,t,e),e);return r.classes.push("cd-label-"+n.side),r.style.bottom=Qe(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(n,e){var t=new We.MathNode("mrow",[rn(n.label,e)]);return t=new We.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new We.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});at({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=Se.wrapFragment(Gt(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new We.MathNode("mrow",[rn(n.fragment,e)])}});at({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,r=Pt(e[0],"ordgroup"),i=r.body,s="",l=0;l<i.length;l++){var o=Pt(i[l],"textord");s+=o.text}var u=parseInt(s),a;if(isNaN(u))throw new Xe("\\@char has non-numeric argument "+s);if(u<0||u>=1114111)throw new Xe("\\@char with invalid code point "+s);return u<=65535?a=String.fromCharCode(u):(u-=65536,a=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:t.mode,text:a}}});var Z1=(n,e)=>{var t=An(n.body,e.withColor(n.color),!1);return Se.makeFragment(t)},J1=(n,e)=>{var t=hr(n.body,e.withColor(n.color)),r=new We.MathNode("mstyle",t);return r.setAttribute("mathcolor",n.color),r};at({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,r=Pt(e[0],"color-token").color,i=e[1];return{type:"color",mode:t.mode,color:r,body:wn(i)}},htmlBuilder:Z1,mathmlBuilder:J1});at({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:r}=n,i=Pt(e[0],"color-token").color;t.gullet.macros.set("\\current@color",i);var s=t.parseExpression(!0,r);return{type:"color",mode:t.mode,color:i,body:s}},htmlBuilder:Z1,mathmlBuilder:J1});at({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:r}=n,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Pt(i,"size").value}},htmlBuilder(n,e){var t=Se.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=Qe(bn(n.size,e)))),t},mathmlBuilder(n,e){var t=new We.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",Qe(bn(n.size,e)))),t}});var Vc={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Q1=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Xe("Expected a control sequence",n);return e},O2=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},ef=(n,e,t,r)=>{var i=n.gullet.macros.get(t.text);i==null&&(t.noexpand=!0,i={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,i,r)};at({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var r=e.fetch();if(Vc[r.text])return(t==="\\global"||t==="\\\\globallong")&&(r.text=Vc[r.text]),Pt(e.parseFunction(),"internal");throw new Xe("Invalid token after macro prefix",r)}});at({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Xe("Expected a control sequence",r);for(var s=0,l,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Xe('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Xe('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new Xe("Expected a macro definition");o[s].push(r.text)}var{tokens:u}=e.gullet.consumeArg();return l&&u.unshift(l),(t==="\\edef"||t==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:o},t===Vc[t]),{type:"internal",mode:e.mode}}});at({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=Q1(e.gullet.popToken());e.gullet.consumeSpaces();var i=O2(e);return ef(e,r,i,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});at({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=Q1(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return ef(e,r,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Ba=function(e,t,r){var i=on.math[e]&&on.math[e].replace,s=uu(i||e,t,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},vu=function(e,t,r,i){var s=r.havingBaseStyle(t),l=Se.makeSpan(i.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return l.height*=o,l.depth*=o,l.maxFontSize=s.sizeMultiplier,l},tf=function(e,t,r){var i=t.havingBaseStyle(r),s=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Qe(s),e.height-=s,e.depth+=s},I2=function(e,t,r,i,s,l){var o=Se.makeSymbol(e,"Main-Regular",s,i),u=vu(o,t,i,l);return r&&tf(u,i,t),u},U2=function(e,t,r,i){return Se.makeSymbol(e,"Size"+t+"-Regular",r,i)},nf=function(e,t,r,i,s,l){var o=U2(e,t,s,i),u=vu(Se.makeSpan(["delimsizing","size"+t],[o],i),xt.TEXT,i,l);return r&&tf(u,i,xt.TEXT),u},Il=function(e,t,r){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=Se.makeSpan(["delimsizinginner",i],[Se.makeSpan([],[Se.makeSymbol(e,t,r)])]);return{type:"elem",elem:s}},Ul=function(e,t,r){var i=ei["Size4-Regular"][e.charCodeAt(0)]?ei["Size4-Regular"][e.charCodeAt(0)][4]:ei["Size1-Regular"][e.charCodeAt(0)][4],s=new rs("inner",W4(e,Math.round(1e3*t))),l=new Ei([s],{width:Qe(i),height:Qe(t),style:"width:"+Qe(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Se.makeSvgSpan([],[l],r);return o.height=t,o.style.height=Qe(t),o.style.width=Qe(i),{type:"elem",elem:o}},Wc=.008,Vo={type:"kern",size:-1*Wc},B2=["|","\\lvert","\\rvert","\\vert"],F2=["\\|","\\lVert","\\rVert","\\Vert"],rf=function(e,t,r,i,s,l){var o,u,a,h,f="",v=0;o=a=h=e,u=null;var m="Size1-Regular";e==="\\uparrow"?a=h="⏐":e==="\\Uparrow"?a=h="‖":e==="\\downarrow"?o=a="⏐":e==="\\Downarrow"?o=a="‖":e==="\\updownarrow"?(o="\\uparrow",a="⏐",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",a="‖",h="\\Downarrow"):At.contains(B2,e)?(a="∣",f="vert",v=333):At.contains(F2,e)?(a="∥",f="doublevert",v=556):e==="["||e==="\\lbrack"?(o="⎡",a="⎢",h="⎣",m="Size4-Regular",f="lbrack",v=667):e==="]"||e==="\\rbrack"?(o="⎤",a="⎥",h="⎦",m="Size4-Regular",f="rbrack",v=667):e==="\\lfloor"||e==="⌊"?(a=o="⎢",h="⎣",m="Size4-Regular",f="lfloor",v=667):e==="\\lceil"||e==="⌈"?(o="⎡",a=h="⎢",m="Size4-Regular",f="lceil",v=667):e==="\\rfloor"||e==="⌋"?(a=o="⎥",h="⎦",m="Size4-Regular",f="rfloor",v=667):e==="\\rceil"||e==="⌉"?(o="⎤",a=h="⎥",m="Size4-Regular",f="rceil",v=667):e==="("||e==="\\lparen"?(o="⎛",a="⎜",h="⎝",m="Size4-Regular",f="lparen",v=875):e===")"||e==="\\rparen"?(o="⎞",a="⎟",h="⎠",m="Size4-Regular",f="rparen",v=875):e==="\\{"||e==="\\lbrace"?(o="⎧",u="⎨",h="⎩",a="⎪",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",u="⎬",h="⎭",a="⎪",m="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",h="⎩",a="⎪",m="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",h="⎭",a="⎪",m="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",h="⎭",a="⎪",m="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",h="⎩",a="⎪",m="Size4-Regular");var b=Ba(o,m,s),_=b.height+b.depth,E=Ba(a,m,s),S=E.height+E.depth,N=Ba(h,m,s),D=N.height+N.depth,F=0,X=1;if(u!==null){var j=Ba(u,m,s);F=j.height+j.depth,X=2}var Y=_+D+F,ae=Math.max(0,Math.ceil((t-Y)/(X*S))),$=Y+ae*X*S,k=i.fontMetrics().axisHeight;r&&(k*=i.sizeMultiplier);var L=$/2-k,z=[];if(f.length>0){var Q=$-_-D,G=Math.round($*1e3),oe=j4(f,Math.round(Q*1e3)),ce=new rs(f,oe),be=(v/1e3).toFixed(3)+"em",Ne=(G/1e3).toFixed(3)+"em",$e=new Ei([ce],{width:be,height:Ne,viewBox:"0 0 "+v+" "+G}),Re=Se.makeSvgSpan([],[$e],i);Re.height=G/1e3,Re.style.width=be,Re.style.height=Ne,z.push({type:"elem",elem:Re})}else{if(z.push(Il(h,m,s)),z.push(Vo),u===null){var ge=$-_-D+2*Wc;z.push(Ul(a,ge,i))}else{var we=($-_-D-F)/2+2*Wc;z.push(Ul(a,we,i)),z.push(Vo),z.push(Il(u,m,s)),z.push(Vo),z.push(Ul(a,we,i))}z.push(Vo),z.push(Il(o,m,s))}var He=i.havingBaseStyle(xt.TEXT),Je=Se.makeVList({positionType:"bottom",positionData:L,children:z},He);return vu(Se.makeSpan(["delimsizing","mult"],[Je],He),xt.TEXT,i,l)},Bl=80,Fl=.08,Hl=function(e,t,r,i,s){var l=V4(e,i,r),o=new rs(e,l),u=new Ei([o],{width:"400em",height:Qe(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Se.makeSvgSpan(["hide-tail"],[u],s)},H2=function(e,t){var r=t.havingBaseSizing(),i=lf("\\surd",e*r.sizeMultiplier,of,r),s=r.sizeMultiplier,l=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,u=0,a=0,h=0,f;return i.type==="small"?(h=1e3+1e3*l+Bl,e<1?s=1:e<1.4&&(s=.7),u=(1+l+Fl)/s,a=(1+l)/s,o=Hl("sqrtMain",u,h,l,t),o.style.minWidth="0.853em",f=.833/s):i.type==="large"?(h=(1e3+Bl)*Va[i.size],a=(Va[i.size]+l)/s,u=(Va[i.size]+l+Fl)/s,o=Hl("sqrtSize"+i.size,u,h,l,t),o.style.minWidth="1.02em",f=1/s):(u=e+l+Fl,a=e+l,h=Math.floor(1e3*e+l)+Bl,o=Hl("sqrtTall",u,h,l,t),o.style.minWidth="0.742em",f=1.056),o.height=a,o.style.height=Qe(u),{span:o,advanceWidth:f,ruleWidth:(t.fontMetrics().sqrtRuleThickness+l)*s}},sf=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],G2=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],af=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Va=[0,1.2,1.8,2.4,3],V2=function(e,t,r,i,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),At.contains(sf,e)||At.contains(af,e))return nf(e,t,!1,r,i,s);if(At.contains(G2,e))return rf(e,Va[t],!1,r,i,s);throw new Xe("Illegal delimiter: '"+e+"'")},W2=[{type:"small",style:xt.SCRIPTSCRIPT},{type:"small",style:xt.SCRIPT},{type:"small",style:xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],j2=[{type:"small",style:xt.SCRIPTSCRIPT},{type:"small",style:xt.SCRIPT},{type:"small",style:xt.TEXT},{type:"stack"}],of=[{type:"small",style:xt.SCRIPTSCRIPT},{type:"small",style:xt.SCRIPT},{type:"small",style:xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],q2=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},lf=function(e,t,r,i){for(var s=Math.min(2,3-i.style.size),l=s;l<r.length&&r[l].type!=="stack";l++){var o=Ba(e,q2(r[l]),"math"),u=o.height+o.depth;if(r[l].type==="small"){var a=i.havingBaseStyle(r[l].style);u*=a.sizeMultiplier}if(u>t)return r[l]}return r[r.length-1]},cf=function(e,t,r,i,s,l){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;At.contains(af,e)?o=W2:At.contains(sf,e)?o=of:o=j2;var u=lf(e,t,o,i);return u.type==="small"?I2(e,u.style,r,i,s,l):u.type==="large"?nf(e,u.size,r,i,s,l):rf(e,t,r,i,s,l)},X2=function(e,t,r,i,s,l){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,u=901,a=5/i.fontMetrics().ptPerEm,h=Math.max(t-o,r+o),f=Math.max(h/500*u,2*h-a);return cf(e,f,!0,i,s,l)},Si={sqrtImage:H2,sizedDelim:V2,sizeToMaxHeight:Va,customSizedDelim:cf,leftRightDelim:X2},dd={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Y2=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Y0(n,e){var t=q0(n);if(t&&At.contains(Y2,t.text))return t;throw t?new Xe("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new Xe("Invalid delimiter type '"+n.type+"'",n)}at({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=Y0(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:dd[n.funcName].size,mclass:dd[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?Se.makeSpan([n.mclass]):Si.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push($r(n.delim,n.mode));var t=new We.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var r=Qe(Si.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",r),t.setAttribute("maxsize",r),t}});function pd(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}at({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new Xe("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:Y0(e[0],n).text,color:t}}});at({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Y0(e[0],n),r=n.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Pt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(n,e)=>{pd(n);for(var t=An(n.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,l=0;l<t.length;l++)t[l].isMiddle?s=!0:(r=Math.max(t[l].height,r),i=Math.max(t[l].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(n.left==="."?o=Ka(e,["mopen"]):o=Si.leftRightDelim(n.left,r,i,e,n.mode,["mopen"]),t.unshift(o),s)for(var u=1;u<t.length;u++){var a=t[u],h=a.isMiddle;h&&(t[u]=Si.leftRightDelim(h.delim,r,i,h.options,n.mode,[]))}var f;if(n.right===".")f=Ka(e,["mclose"]);else{var v=n.rightColor?e.withColor(n.rightColor):e;f=Si.leftRightDelim(n.right,r,i,v,n.mode,["mclose"])}return t.push(f),Se.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{pd(n);var t=hr(n.body,e);if(n.left!=="."){var r=new We.MathNode("mo",[$r(n.left,n.mode)]);r.setAttribute("fence","true"),t.unshift(r)}if(n.right!=="."){var i=new We.MathNode("mo",[$r(n.right,n.mode)]);i.setAttribute("fence","true"),n.rightColor&&i.setAttribute("mathcolor",n.rightColor),t.push(i)}return pu(t)}});at({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Y0(e[0],n);if(!n.parser.leftrightDepth)throw new Xe("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=Ka(e,[]);else{t=Si.sizedDelim(n.delim,1,e,n.mode,[]);var r={delim:n.delim,options:e};t.isMiddle=r}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?$r("|","text"):$r(n.delim,n.mode),r=new We.MathNode("mo",[t]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var bu=(n,e)=>{var t=Se.wrapFragment(Gt(n.body,e),e),r=n.label.slice(1),i=e.sizeMultiplier,s,l=0,o=At.isCharacterBox(n.body);if(r==="sout")s=Se.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var u=bn({number:.6,unit:"pt"},e),a=bn({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var f=t.height+t.depth+u+a;t.style.paddingLeft=Qe(f/2+u);var v=Math.floor(1e3*f*i),m=H4(v),b=new Ei([new rs("phase",m)],{width:"400em",height:Qe(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});s=Se.makeSvgSpan(["hide-tail"],[b],e),s.style.height=Qe(f),l=t.depth+u+a}else{/cancel/.test(r)?o||t.classes.push("cancel-pad"):r==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var _=0,E=0,S=0;/box/.test(r)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),_=e.fontMetrics().fboxsep+(r==="colorbox"?0:S),E=_):r==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),_=4*S,E=Math.max(0,.25-t.depth)):(_=o?.2:0,E=_),s=Ai.encloseSpan(t,r,_,E,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Qe(S)):r==="angl"&&S!==.049&&(s.style.borderTopWidth=Qe(S),s.style.borderRightWidth=Qe(S)),l=t.depth+E,n.backgroundColor&&(s.style.backgroundColor=n.backgroundColor,n.borderColor&&(s.style.borderColor=n.borderColor))}var N;if(n.backgroundColor)N=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:l},{type:"elem",elem:t,shift:0}]},e);else{var D=/cancel|phase/.test(r)?["svg-align"]:[];N=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:l,wrapperClasses:D}]},e)}return/cancel/.test(r)&&(N.height=t.height,N.depth=t.depth),/cancel/.test(r)&&!o?Se.makeSpan(["mord","cancel-lap"],[N],e):Se.makeSpan(["mord"],[N],e)},yu=(n,e)=>{var t=0,r=new We.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[rn(n.body,e)]);switch(n.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*t+"pt"),r.setAttribute("height","+"+2*t+"pt"),r.setAttribute("lspace",t+"pt"),r.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(n.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&r.setAttribute("mathbackground",n.backgroundColor),r};at({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=Pt(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:l}},htmlBuilder:bu,mathmlBuilder:yu});at({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=Pt(e[0],"color-token").color,l=Pt(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,borderColor:s,body:o}},htmlBuilder:bu,mathmlBuilder:yu});at({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});at({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"enclose",mode:t.mode,label:r,body:i}},htmlBuilder:bu,mathmlBuilder:yu});at({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var uf={};function ri(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:l}=n,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<t.length;++u)uf[t[u]]=o;s&&($0[e]=s),l&&(P0[e]=l)}var hf={};function U(n,e){hf[n]=e}function fd(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var K0=n=>{var e=n.parser.settings;if(!e.displayMode)throw new Xe("{"+n.envName+"} can be used only in display mode.")};function xu(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function os(n,e,t){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:l,colSeparationType:o,autoTag:u,singleRow:a,emptySingleRow:h,maxNumCols:f,leqno:v}=e;if(n.gullet.beginGroup(),a||n.gullet.macros.set("\\cr","\\\\\\relax"),!l){var m=n.gullet.expandMacroAsText("\\arraystretch");if(m==null)l=1;else if(l=parseFloat(m),!l||l<0)throw new Xe("Invalid \\arraystretch: "+m)}n.gullet.beginGroup();var b=[],_=[b],E=[],S=[],N=u!=null?[]:void 0;function D(){u&&n.gullet.macros.set("\\@eqnsw","1",!0)}function F(){N&&(n.gullet.macros.get("\\df@tag")?(N.push(n.subparse([new ti("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!u&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(D(),S.push(fd(n));;){var X=n.parseExpression(!1,a?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),X={type:"ordgroup",mode:n.mode,body:X},t&&(X={type:"styling",mode:n.mode,style:t,body:[X]}),b.push(X);var j=n.fetch().text;if(j==="&"){if(f&&b.length===f){if(a||o)throw new Xe("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(j==="\\end"){F(),b.length===1&&X.type==="styling"&&X.body[0].body.length===0&&(_.length>1||!h)&&_.pop(),S.length<_.length+1&&S.push([]);break}else if(j==="\\\\"){n.consume();var Y=void 0;n.gullet.future().text!==" "&&(Y=n.parseSizeGroup(!0)),E.push(Y?Y.value:null),F(),S.push(fd(n)),b=[],_.push(b),D()}else throw new Xe("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:i,arraystretch:l,body:_,cols:s,rowGaps:E,hskipBeforeAndAfter:r,hLinesBeforeRow:S,colSeparationType:o,tags:N,leqno:v}}function wu(n){return n.slice(0,1)==="d"?"display":"text"}var ii=function(e,t){var r,i,s=e.body.length,l=e.hLinesBeforeRow,o=0,u=new Array(s),a=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),f=1/t.fontMetrics().ptPerEm,v=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var m=t.havingStyle(xt.SCRIPT).sizeMultiplier;v=.2778*(m/t.sizeMultiplier)}var b=e.colSeparationType==="CD"?bn({number:3,unit:"ex"},t):12*f,_=3*f,E=e.arraystretch*b,S=.7*E,N=.3*E,D=0;function F(Ye){for(var it=0;it<Ye.length;++it)it>0&&(D+=.25),a.push({pos:D,isDashed:Ye[it]})}for(F(l[0]),r=0;r<e.body.length;++r){var X=e.body[r],j=S,Y=N;o<X.length&&(o=X.length);var ae=new Array(X.length);for(i=0;i<X.length;++i){var $=Gt(X[i],t);Y<$.depth&&(Y=$.depth),j<$.height&&(j=$.height),ae[i]=$}var k=e.rowGaps[r],L=0;k&&(L=bn(k,t),L>0&&(L+=N,Y<L&&(Y=L),L=0)),e.addJot&&(Y+=_),ae.height=j,ae.depth=Y,D+=j,ae.pos=D,D+=Y+L,u[r]=ae,F(l[r+1])}var z=D/2+t.fontMetrics().axisHeight,Q=e.cols||[],G=[],oe,ce,be=[];if(e.tags&&e.tags.some(Ye=>Ye))for(r=0;r<s;++r){var Ne=u[r],$e=Ne.pos-z,Re=e.tags[r],ge=void 0;Re===!0?ge=Se.makeSpan(["eqn-num"],[],t):Re===!1?ge=Se.makeSpan([],[],t):ge=Se.makeSpan([],An(Re,t,!0),t),ge.depth=Ne.depth,ge.height=Ne.height,be.push({type:"elem",elem:ge,shift:$e})}for(i=0,ce=0;i<o||ce<Q.length;++i,++ce){for(var we=Q[ce]||{},He=!0;we.type==="separator";){if(He||(oe=Se.makeSpan(["arraycolsep"],[]),oe.style.width=Qe(t.fontMetrics().doubleRuleSep),G.push(oe)),we.separator==="|"||we.separator===":"){var Je=we.separator==="|"?"solid":"dashed",ke=Se.makeSpan(["vertical-separator"],[],t);ke.style.height=Qe(D),ke.style.borderRightWidth=Qe(h),ke.style.borderRightStyle=Je,ke.style.margin="0 "+Qe(-h/2);var H=D-z;H&&(ke.style.verticalAlign=Qe(-H)),G.push(ke)}else throw new Xe("Invalid separator type: "+we.separator);ce++,we=Q[ce]||{},He=!1}if(!(i>=o)){var K=void 0;(i>0||e.hskipBeforeAndAfter)&&(K=At.deflt(we.pregap,v),K!==0&&(oe=Se.makeSpan(["arraycolsep"],[]),oe.style.width=Qe(K),G.push(oe)));var fe=[];for(r=0;r<s;++r){var xe=u[r],Ge=xe[i];if(Ge){var Ee=xe.pos-z;Ge.depth=xe.depth,Ge.height=xe.height,fe.push({type:"elem",elem:Ge,shift:Ee})}}fe=Se.makeVList({positionType:"individualShift",children:fe},t),fe=Se.makeSpan(["col-align-"+(we.align||"c")],[fe]),G.push(fe),(i<o-1||e.hskipBeforeAndAfter)&&(K=At.deflt(we.postgap,v),K!==0&&(oe=Se.makeSpan(["arraycolsep"],[]),oe.style.width=Qe(K),G.push(oe)))}}if(u=Se.makeSpan(["mtable"],G),a.length>0){for(var ue=Se.makeLineSpan("hline",t,h),Ue=Se.makeLineSpan("hdashline",t,h),Pe=[{type:"elem",elem:u,shift:0}];a.length>0;){var ot=a.pop(),ze=ot.pos-z;ot.isDashed?Pe.push({type:"elem",elem:Ue,shift:ze}):Pe.push({type:"elem",elem:ue,shift:ze})}u=Se.makeVList({positionType:"individualShift",children:Pe},t)}if(be.length===0)return Se.makeSpan(["mord"],[u],t);var Oe=Se.makeVList({positionType:"individualShift",children:be},t);return Oe=Se.makeSpan(["tag"],[Oe],t),Se.makeFragment([u,Oe])},K2={c:"center ",l:"left ",r:"right "},si=function(e,t){for(var r=[],i=new We.MathNode("mtd",[],["mtr-glue"]),s=new We.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var o=e.body[l],u=[],a=0;a<o.length;a++)u.push(new We.MathNode("mtd",[rn(o[a],t)]));e.tags&&e.tags[l]&&(u.unshift(i),u.push(i),e.leqno?u.unshift(s):u.push(s)),r.push(new We.MathNode("mtr",u))}var h=new We.MathNode("mtable",r),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",Qe(f));var v="",m="";if(e.cols&&e.cols.length>0){var b=e.cols,_="",E=!1,S=0,N=b.length;b[0].type==="separator"&&(v+="top ",S=1),b[b.length-1].type==="separator"&&(v+="bottom ",N-=1);for(var D=S;D<N;D++)b[D].type==="align"?(m+=K2[b[D].align],E&&(_+="none "),E=!0):b[D].type==="separator"&&E&&(_+=b[D].separator==="|"?"solid ":"dashed ",E=!1);h.setAttribute("columnalign",m.trim()),/[sd]/.test(_)&&h.setAttribute("columnlines",_.trim())}if(e.colSeparationType==="align"){for(var F=e.cols||[],X="",j=1;j<F.length;j++)X+=j%2?"0em ":"1em ";h.setAttribute("columnspacing",X.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var Y="",ae=e.hLinesBeforeRow;v+=ae[0].length>0?"left ":"",v+=ae[ae.length-1].length>0?"right ":"";for(var $=1;$<ae.length-1;$++)Y+=ae[$].length===0?"none ":ae[$][0]?"dashed ":"solid ";return/[sd]/.test(Y)&&h.setAttribute("rowlines",Y.trim()),v!==""&&(h=new We.MathNode("menclose",[h]),h.setAttribute("notation",v.trim())),e.arraystretch&&e.arraystretch<1&&(h=new We.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},df=function(e,t){e.envName.indexOf("ed")===-1&&K0(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",l=os(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:xu(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,u=0,a={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",f=0;f<t[0].body.length;f++){var v=Pt(t[0].body[f],"textord");h+=v.text}o=Number(h),u=o*2}var m=!u;l.body.forEach(function(S){for(var N=1;N<S.length;N+=2){var D=Pt(S[N],"styling"),F=Pt(D.body[0],"ordgroup");F.body.unshift(a)}if(m)u<S.length&&(u=S.length);else{var X=S.length/2;if(o<X)throw new Xe("Too many math in a row: "+("expected "+o+", but got "+X),S[0])}});for(var b=0;b<u;++b){var _="r",E=0;b%2===1?_="l":b>0&&m&&(E=1),r[b]={type:"align",align:_,pregap:E,postgap:0}}return l.colSeparationType=m?"align":"alignat",l};ri({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=q0(e[0]),r=t?[e[0]]:Pt(e[0],"ordgroup").body,i=r.map(function(l){var o=mu(l),u=o.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new Xe("Unknown column alignment: "+u,l)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return os(n.parser,s,wu(n.envName))},htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var i=n.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),t=i.fetch().text,"lcr".indexOf(t)===-1)throw new Xe("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:t}]}}var s=os(n.parser,r,wu(n.envName)),l=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(l).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=os(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=q0(e[0]),r=t?[e[0]]:Pt(e[0],"ordgroup").body,i=r.map(function(l){var o=mu(l),u=o.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new Xe("Unknown column alignment: "+u,l)});if(i.length>1)throw new Xe("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=os(n.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Xe("{subarray} can contain only one column");return s},htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=os(n.parser,e,wu(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:df,htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){At.contains(["gather","gather*"],n.envName)&&K0(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:xu(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return os(n.parser,e,"display")},htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:df,htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){K0(n);var e={autoTag:xu(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return os(n.parser,e,"display")},htmlBuilder:ii,mathmlBuilder:si});ri({type:"array",names:["CD"],props:{numArgs:0},handler(n){return K0(n),N2(n.parser)},htmlBuilder:ii,mathmlBuilder:si});U("\\nonumber","\\gdef\\@eqnsw{0}");U("\\notag","\\nonumber");at({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new Xe(n.funcName+" valid only within array environment")}});var md=uf;at({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];if(i.type!=="ordgroup")throw new Xe("Invalid environment name",i);for(var s="",l=0;l<i.body.length;++l)s+=Pt(i.body[l],"textord").text;if(r==="\\begin"){if(!md.hasOwnProperty(s))throw new Xe("No such environment: "+s,i);var o=md[s],{args:u,optArgs:a}=t.parseArguments("\\begin{"+s+"}",o),h={mode:t.mode,envName:s,parser:t},f=o.handler(h,u,a);t.expect("\\end",!1);var v=t.nextToken,m=Pt(t.parseFunction(),"environment");if(m.name!==s)throw new Xe("Mismatch: \\begin{"+s+"} matched by \\end{"+m.name+"}",v);return f}return{type:"environment",mode:t.mode,name:s,nameGroup:i}}});var pf=(n,e)=>{var t=n.font,r=e.withFont(t);return Gt(n.body,r)},ff=(n,e)=>{var t=n.font,r=e.withFont(t);return rn(n.body,r)},gd={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};at({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=L0(e[0]),s=r;return s in gd&&(s=gd[s]),{type:"font",mode:t.mode,font:s.slice(1),body:i}},htmlBuilder:pf,mathmlBuilder:ff});at({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,r=e[0],i=At.isCharacterBox(r);return{type:"mclass",mode:t.mode,mclass:X0(r),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});at({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,breakOnTokenText:i}=n,{mode:s}=t,l=t.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:t.mode,body:l}}},htmlBuilder:pf,mathmlBuilder:ff});var mf=(n,e)=>{var t=e;return n==="display"?t=t.id>=xt.SCRIPT.id?t.text():xt.DISPLAY:n==="text"&&t.size===xt.DISPLAY.size?t=xt.TEXT:n==="script"?t=xt.SCRIPT:n==="scriptscript"&&(t=xt.SCRIPTSCRIPT),t},_u=(n,e)=>{var t=mf(n.size,e.style),r=t.fracNum(),i=t.fracDen(),s;s=e.havingStyle(r);var l=Gt(n.numer,s,e);if(n.continued){var o=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;l.height=l.height<o?o:l.height,l.depth=l.depth<u?u:l.depth}s=e.havingStyle(i);var a=Gt(n.denom,s,e),h,f,v;n.hasBarLine?(n.barSize?(f=bn(n.barSize,e),h=Se.makeLineSpan("frac-line",e,f)):h=Se.makeLineSpan("frac-line",e),f=h.height,v=h.height):(h=null,f=0,v=e.fontMetrics().defaultRuleThickness);var m,b,_;t.size===xt.DISPLAY.size||n.size==="display"?(m=e.fontMetrics().num1,f>0?b=3*v:b=7*v,_=e.fontMetrics().denom1):(f>0?(m=e.fontMetrics().num2,b=v):(m=e.fontMetrics().num3,b=3*v),_=e.fontMetrics().denom2);var E;if(h){var N=e.fontMetrics().axisHeight;m-l.depth-(N+.5*f)<b&&(m+=b-(m-l.depth-(N+.5*f))),N-.5*f-(a.height-_)<b&&(_+=b-(N-.5*f-(a.height-_)));var D=-(N-.5*f);E=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:_},{type:"elem",elem:h,shift:D},{type:"elem",elem:l,shift:-m}]},e)}else{var S=m-l.depth-(a.height-_);S<b&&(m+=.5*(b-S),_+=.5*(b-S)),E=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:_},{type:"elem",elem:l,shift:-m}]},e)}s=e.havingStyle(t),E.height*=s.sizeMultiplier/e.sizeMultiplier,E.depth*=s.sizeMultiplier/e.sizeMultiplier;var F;t.size===xt.DISPLAY.size?F=e.fontMetrics().delim1:t.size===xt.SCRIPTSCRIPT.size?F=e.havingStyle(xt.SCRIPT).fontMetrics().delim2:F=e.fontMetrics().delim2;var X,j;return n.leftDelim==null?X=Ka(e,["mopen"]):X=Si.customSizedDelim(n.leftDelim,F,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?j=Se.makeSpan([]):n.rightDelim==null?j=Ka(e,["mclose"]):j=Si.customSizedDelim(n.rightDelim,F,!0,e.havingStyle(t),n.mode,["mclose"]),Se.makeSpan(["mord"].concat(s.sizingClasses(e)),[X,Se.makeSpan(["mfrac"],[E]),j],e)},Su=(n,e)=>{var t=new We.MathNode("mfrac",[rn(n.numer,e),rn(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var r=bn(n.barSize,e);t.setAttribute("linethickness",Qe(r))}var i=mf(n.size,e.style);if(i.size!==e.style.size){t=new We.MathNode("mstyle",[t]);var s=i.size===xt.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var l=[];if(n.leftDelim!=null){var o=new We.MathNode("mo",[new We.TextNode(n.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),l.push(o)}if(l.push(t),n.rightDelim!=null){var u=new We.MathNode("mo",[new We.TextNode(n.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),l.push(u)}return pu(l)}return t};at({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1],l,o=null,u=null,a="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,o="(",u=")";break;case"\\\\bracefrac":l=!1,o="\\{",u="\\}";break;case"\\\\brackfrac":l=!1,o="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":a="display";break;case"\\tfrac":case"\\tbinom":a="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:i,denom:s,hasBarLine:l,leftDelim:o,rightDelim:u,size:a,barSize:null}},htmlBuilder:_u,mathmlBuilder:Su});at({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});at({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:r}=n,i;switch(t){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var vd=["display","text","script","scriptscript"],bd=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};at({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,r=e[4],i=e[5],s=L0(e[0]),l=s.type==="atom"&&s.family==="open"?bd(s.text):null,o=L0(e[1]),u=o.type==="atom"&&o.family==="close"?bd(o.text):null,a=Pt(e[2],"size"),h,f=null;a.isBlank?h=!0:(f=a.value,h=f.number>0);var v="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var b=Pt(m.body[0],"textord");v=vd[Number(b.text)]}}else m=Pt(m,"textord"),v=vd[Number(m.text)];return{type:"genfrac",mode:t.mode,numer:r,denom:i,continued:!1,hasBarLine:h,barSize:f,leftDelim:l,rightDelim:u,size:v}},htmlBuilder:_u,mathmlBuilder:Su});at({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:r,token:i}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:Pt(e[0],"size").value,token:i}}});at({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=A4(Pt(e[1],"infix").size),l=e[2],o=s.number>0;return{type:"genfrac",mode:t.mode,numer:i,denom:l,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:_u,mathmlBuilder:Su});var gf=(n,e)=>{var t=e.style,r,i;n.type==="supsub"?(r=n.sup?Gt(n.sup,e.havingStyle(t.sup()),e):Gt(n.sub,e.havingStyle(t.sub()),e),i=Pt(n.base,"horizBrace")):i=Pt(n,"horizBrace");var s=Gt(i.base,e.havingBaseStyle(xt.DISPLAY)),l=Ai.svgSpan(i,e),o;if(i.isOver?(o=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Se.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var u=Se.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=Se.makeVList({positionType:"bottom",positionData:u.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return Se.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},Z2=(n,e)=>{var t=Ai.mathMLnode(n.label);return new We.MathNode(n.isOver?"mover":"munder",[rn(n.base,e),t])};at({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"horizBrace",mode:t.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:gf,mathmlBuilder:Z2});at({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[1],i=Pt(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:t.mode,href:i,body:wn(r)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=An(n.body,e,!1);return Se.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=is(n.body,e);return t instanceof Tr||(t=new Tr("mrow",[t])),t.setAttribute("href",n.href),t}});at({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=Pt(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:r}))return t.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var l=r[s];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var o={type:"text",mode:t.mode,font:"\\texttt",body:i};return{type:"href",mode:t.mode,href:r,body:wn(o)}}});at({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:wn(e[0])}},htmlBuilder(n,e){var t=An(n.body,e,!1);return Se.makeFragment(t)},mathmlBuilder(n,e){return new We.MathNode("mrow",hr(n.body,e))}});at({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,token:i}=n,s=Pt(e[0],"raw").string,l=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,u={};switch(r){case"\\htmlClass":u.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var a=s.split(","),h=0;h<a.length;h++){var f=a[h].split("=");if(f.length!==2)throw new Xe("Error parsing key-value for \\htmlData");u["data-"+f[0].trim()]=f[1].trim()}o={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(o)?{type:"html",mode:t.mode,attributes:u,body:wn(l)}:t.formatUnsupportedCmd(r)},htmlBuilder:(n,e)=>{var t=An(n.body,e,!1),r=["enclosing"];n.attributes.class&&r.push(...n.attributes.class.trim().split(/\s+/));var i=Se.makeSpan(r,t,e);for(var s in n.attributes)s!=="class"&&n.attributes.hasOwnProperty(s)&&i.setAttribute(s,n.attributes[s]);return i},mathmlBuilder:(n,e)=>is(n.body,e)});at({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:wn(e[0]),mathml:wn(e[1])}},htmlBuilder:(n,e)=>{var t=An(n.html,e,!1);return Se.makeFragment(t)},mathmlBuilder:(n,e)=>is(n.mathml,e)});var Gl=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Xe("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!D1(r))throw new Xe("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};at({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:r}=n,i={number:0,unit:"em"},s={number:.9,unit:"em"},l={number:0,unit:"em"},o="";if(t[0])for(var u=Pt(t[0],"raw").string,a=u.split(","),h=0;h<a.length;h++){var f=a[h].split("=");if(f.length===2){var v=f[1].trim();switch(f[0].trim()){case"alt":o=v;break;case"width":i=Gl(v);break;case"height":s=Gl(v);break;case"totalheight":l=Gl(v);break;default:throw new Xe("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var m=Pt(e[0],"url").url;return o===""&&(o=m,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:s,totalheight:l,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=bn(n.height,e),r=0;n.totalheight.number>0&&(r=bn(n.totalheight,e)-t);var i=0;n.width.number>0&&(i=bn(n.width,e));var s={height:Qe(t+r)};i>0&&(s.width=Qe(i)),r>0&&(s.verticalAlign=Qe(-r));var l=new Z4(n.src,n.alt,s);return l.height=t,l.depth=r,l},mathmlBuilder:(n,e)=>{var t=new We.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var r=bn(n.height,e),i=0;if(n.totalheight.number>0&&(i=bn(n.totalheight,e)-r,t.setAttribute("valign",Qe(-i))),t.setAttribute("height",Qe(r+i)),n.width.number>0){var s=bn(n.width,e);t.setAttribute("width",Qe(s))}return t.setAttribute("src",n.src),t}});at({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=Pt(e[0],"size");if(t.settings.strict){var s=r[1]==="m",l=i.value.unit==="mu";s?(l||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:i.value}},htmlBuilder(n,e){return Se.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=bn(n.dimension,e);return new We.SpaceNode(t)}});at({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"lap",mode:t.mode,alignment:r.slice(5),body:i}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=Se.makeSpan([],[Gt(n.body,e)]),t=Se.makeSpan(["inner"],[t],e)):t=Se.makeSpan(["inner"],[Gt(n.body,e)]);var r=Se.makeSpan(["fix"],[]),i=Se.makeSpan([n.alignment],[t,r],e),s=Se.makeSpan(["strut"]);return s.style.height=Qe(i.height+i.depth),i.depth&&(s.style.verticalAlign=Qe(-i.depth)),i.children.unshift(s),i=Se.makeSpan(["thinbox"],[i],e),Se.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(n,e)=>{var t=new We.MathNode("mpadded",[rn(n.body,e)]);if(n.alignment!=="rlap"){var r=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",r+"width")}return t.setAttribute("width","0px"),t}});at({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:r}=n,i=r.mode;r.switchMode("math");var s=t==="\\("?"\\)":"$",l=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:l}}});at({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new Xe("Mismatched "+n.funcName)}});var yd=(n,e)=>{switch(e.style.size){case xt.DISPLAY.size:return n.display;case xt.TEXT.size:return n.text;case xt.SCRIPT.size:return n.script;case xt.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};at({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:wn(e[0]),text:wn(e[1]),script:wn(e[2]),scriptscript:wn(e[3])}},htmlBuilder:(n,e)=>{var t=yd(n,e),r=An(t,e,!1);return Se.makeFragment(r)},mathmlBuilder:(n,e)=>{var t=yd(n,e);return is(t,e)}});var vf=(n,e,t,r,i,s,l)=>{n=Se.makeSpan([],[n]);var o=t&&At.isCharacterBox(t),u,a;if(e){var h=Gt(e,r.havingStyle(i.sup()),r);a={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(t){var f=Gt(t,r.havingStyle(i.sub()),r);u={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var v;if(a&&u){var m=r.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+n.depth+l;v=Se.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Qe(-s)},{type:"kern",size:u.kern},{type:"elem",elem:n},{type:"kern",size:a.kern},{type:"elem",elem:a.elem,marginLeft:Qe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(u){var b=n.height-l;v=Se.makeVList({positionType:"top",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Qe(-s)},{type:"kern",size:u.kern},{type:"elem",elem:n}]},r)}else if(a){var _=n.depth+l;v=Se.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:n},{type:"kern",size:a.kern},{type:"elem",elem:a.elem,marginLeft:Qe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return n;var E=[v];if(u&&s!==0&&!o){var S=Se.makeSpan(["mspace"],[],r);S.style.marginRight=Qe(s),E.unshift(S)}return Se.makeSpan(["mop","op-limits"],E,r)},bf=["\\smallint"],Ma=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=Pt(n.base,"op"),i=!0):s=Pt(n,"op");var l=e.style,o=!1;l.size===xt.DISPLAY.size&&s.symbol&&!At.contains(bf,s.name)&&(o=!0);var u;if(s.symbol){var a=o?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),u=Se.makeSymbol(s.name,a,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var f=u.italic,v=Se.staticSvg(h+"Size"+(o?"2":"1"),e);u=Se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:v,shift:o?.08:0}]},e),s.name="\\"+h,u.classes.unshift("mop"),u.italic=f}}else if(s.body){var m=An(s.body,e,!0);m.length===1&&m[0]instanceof Rr?(u=m[0],u.classes[0]="mop"):u=Se.makeSpan(["mop"],m,e)}else{for(var b=[],_=1;_<s.name.length;_++)b.push(Se.mathsym(s.name[_],s.mode,e));u=Se.makeSpan(["mop"],b,e)}var E=0,S=0;return(u instanceof Rr||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(E=(u.height-u.depth)/2-e.fontMetrics().axisHeight,S=u.italic),i?vf(u,t,r,e,l,S,E):(E&&(u.style.position="relative",u.style.top=Qe(E)),u)},lo=(n,e)=>{var t;if(n.symbol)t=new Tr("mo",[$r(n.name,n.mode)]),At.contains(bf,n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new Tr("mo",hr(n.body,e));else{t=new Tr("mi",[new Ga(n.name.slice(1))]);var r=new Tr("mo",[$r("⁡","text")]);n.parentIsSupSub?t=new Tr("mrow",[t,r]):t=W1([t,r])}return t},J2={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};at({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=r;return i.length===1&&(i=J2[i]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Ma,mathmlBuilder:lo});at({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:wn(r)}},htmlBuilder:Ma,mathmlBuilder:lo});var Q2={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};at({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Ma,mathmlBuilder:lo});at({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Ma,mathmlBuilder:lo});at({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n,r=t;return r.length===1&&(r=Q2[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Ma,mathmlBuilder:lo});var yf=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=Pt(n.base,"operatorname"),i=!0):s=Pt(n,"operatorname");var l;if(s.body.length>0){for(var o=s.body.map(f=>{var v=f.text;return typeof v=="string"?{type:"textord",mode:f.mode,text:v}:f}),u=An(o,e.withFont("mathrm"),!0),a=0;a<u.length;a++){var h=u[a];h instanceof Rr&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=Se.makeSpan(["mop"],u,e)}else l=Se.makeSpan(["mop"],[],e);return i?vf(l,t,r,e,e.style,0,0):l},e3=(n,e)=>{for(var t=hr(n.body,e.withFont("mathrm")),r=!0,i=0;i<t.length;i++){var s=t[i];if(!(s instanceof We.SpaceNode))if(s instanceof We.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=s.children[0];s.children.length===1&&l instanceof We.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=t.map(h=>h.toText()).join("");t=[new We.TextNode(o)]}var u=new We.MathNode("mi",t);u.setAttribute("mathvariant","normal");var a=new We.MathNode("mo",[$r("⁡","text")]);return n.parentIsSupSub?new We.MathNode("mrow",[u,a]):We.newDocumentFragment([u,a])};at({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"operatorname",mode:t.mode,body:wn(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:yf,mathmlBuilder:e3});U("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");$s({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?Se.makeFragment(An(n.body,e,!1)):Se.makeSpan(["mord"],An(n.body,e,!0),e)},mathmlBuilder(n,e){return is(n.body,e,!0)}});at({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,r=e[0];return{type:"overline",mode:t.mode,body:r}},htmlBuilder(n,e){var t=Gt(n.body,e.havingCrampedStyle()),r=Se.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return Se.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(n,e){var t=new We.MathNode("mo",[new We.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new We.MathNode("mover",[rn(n.body,e),t]);return r.setAttribute("accent","true"),r}});at({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"phantom",mode:t.mode,body:wn(r)}},htmlBuilder:(n,e)=>{var t=An(n.body,e.withPhantom(),!1);return Se.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=hr(n.body,e);return new We.MathNode("mphantom",t)}});at({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"hphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=Se.makeSpan([],[Gt(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var r=0;r<t.children.length;r++)t.children[r].height=0,t.children[r].depth=0;return t=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),Se.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=hr(wn(n.body),e),r=new We.MathNode("mphantom",t),i=new We.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});at({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"vphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=Se.makeSpan(["inner"],[Gt(n.body,e.withPhantom())]),r=Se.makeSpan(["fix"],[]);return Se.makeSpan(["mord","rlap"],[t,r],e)},mathmlBuilder:(n,e)=>{var t=hr(wn(n.body),e),r=new We.MathNode("mphantom",t),i=new We.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});at({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,r=Pt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:t.mode,dy:r,body:i}},htmlBuilder(n,e){var t=Gt(n.body,e),r=bn(n.dy,e);return Se.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new We.MathNode("mpadded",[rn(n.body,e)]),r=n.dy.number+n.dy.unit;return t.setAttribute("voffset",r),t}});at({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});at({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(n,e,t){var{parser:r}=n,i=t[0],s=Pt(e[0],"size"),l=Pt(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Pt(i,"size").value,width:s.value,height:l.value}},htmlBuilder(n,e){var t=Se.makeSpan(["mord","rule"],[],e),r=bn(n.width,e),i=bn(n.height,e),s=n.shift?bn(n.shift,e):0;return t.style.borderRightWidth=Qe(r),t.style.borderTopWidth=Qe(i),t.style.bottom=Qe(s),t.width=r,t.height=i+s,t.depth=-s,t.maxFontSize=i*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=bn(n.width,e),r=bn(n.height,e),i=n.shift?bn(n.shift,e):0,s=e.color&&e.getColor()||"black",l=new We.MathNode("mspace");l.setAttribute("mathbackground",s),l.setAttribute("width",Qe(t)),l.setAttribute("height",Qe(r));var o=new We.MathNode("mpadded",[l]);return i>=0?o.setAttribute("height",Qe(i)):(o.setAttribute("height",Qe(i)),o.setAttribute("depth",Qe(-i))),o.setAttribute("voffset",Qe(i)),o}});function xf(n,e,t){for(var r=An(n,e,!1),i=e.sizeMultiplier/t.sizeMultiplier,s=0;s<r.length;s++){var l=r[s].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(t)):r[s].classes[l+1]==="reset-size"+e.size&&(r[s].classes[l+1]="reset-size"+t.size),r[s].height*=i,r[s].depth*=i}return Se.makeFragment(r)}var xd=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],t3=(n,e)=>{var t=e.havingSize(n.size);return xf(n.body,t,e)};at({type:"sizing",names:xd,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!1,t);return{type:"sizing",mode:i.mode,size:xd.indexOf(r)+1,body:s}},htmlBuilder:t3,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),r=hr(n.body,t),i=new We.MathNode("mstyle",r);return i.setAttribute("mathsize",Qe(t.sizeMultiplier)),i}});at({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:r}=n,i=!1,s=!1,l=t[0]&&Pt(t[0],"ordgroup");if(l)for(var o="",u=0;u<l.body.length;++u){var a=l.body[u];if(o=a.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var h=e[0];return{type:"smash",mode:r.mode,body:h,smashHeight:i,smashDepth:s}},htmlBuilder:(n,e)=>{var t=Se.makeSpan([],[Gt(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].depth=0;var s=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return Se.makeSpan(["mord"],[s],e)},mathmlBuilder:(n,e)=>{var t=new We.MathNode("mpadded",[rn(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});at({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r}=n,i=t[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(n,e){var t=Gt(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=Se.wrapFragment(t,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<xt.TEXT.id&&(s=e.fontMetrics().xHeight);var l=i+s/4,o=t.height+t.depth+l+i,{span:u,ruleWidth:a,advanceWidth:h}=Si.sqrtImage(o,e),f=u.height-a;f>t.height+t.depth+l&&(l=(l+f-t.height-t.depth)/2);var v=u.height-t.height-l-a;t.style.paddingLeft=Qe(h);var m=Se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+v)},{type:"elem",elem:u},{type:"kern",size:a}]},e);if(n.index){var b=e.havingStyle(xt.SCRIPTSCRIPT),_=Gt(n.index,b,e),E=.6*(m.height-m.depth),S=Se.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:_}]},e),N=Se.makeSpan(["root"],[S]);return Se.makeSpan(["mord","sqrt"],[N,m],e)}else return Se.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(n,e){var{body:t,index:r}=n;return r?new We.MathNode("mroot",[rn(t,e),rn(r,e)]):new We.MathNode("msqrt",[rn(t,e)])}});var wd={display:xt.DISPLAY,text:xt.TEXT,script:xt.SCRIPT,scriptscript:xt.SCRIPTSCRIPT};at({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!0,t),l=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:l,body:s}},htmlBuilder(n,e){var t=wd[n.style],r=e.havingStyle(t).withFont("");return xf(n.body,r,e)},mathmlBuilder(n,e){var t=wd[n.style],r=e.havingStyle(t),i=hr(n.body,r),s=new We.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=l[n.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var n3=function(e,t){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(t.style.size===xt.DISPLAY.size||r.alwaysHandleSupSub);return i?Ma:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(t.style.size===xt.DISPLAY.size||r.limits);return s?yf:null}else{if(r.type==="accent")return At.isCharacterBox(r.base)?gu:null;if(r.type==="horizBrace"){var l=!e.sub;return l===r.isOver?gf:null}else return null}else return null};$s({type:"supsub",htmlBuilder(n,e){var t=n3(n,e);if(t)return t(n,e);var{base:r,sup:i,sub:s}=n,l=Gt(r,e),o,u,a=e.fontMetrics(),h=0,f=0,v=r&&At.isCharacterBox(r);if(i){var m=e.havingStyle(e.style.sup());o=Gt(i,m,e),v||(h=l.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(s){var b=e.havingStyle(e.style.sub());u=Gt(s,b,e),v||(f=l.depth+b.fontMetrics().subDrop*b.sizeMultiplier/e.sizeMultiplier)}var _;e.style===xt.DISPLAY?_=a.sup1:e.style.cramped?_=a.sup3:_=a.sup2;var E=e.sizeMultiplier,S=Qe(.5/a.ptPerEm/E),N=null;if(u){var D=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(l instanceof Rr||D)&&(N=Qe(-l.italic))}var F;if(o&&u){h=Math.max(h,_,o.depth+.25*a.xHeight),f=Math.max(f,a.sub2);var X=a.defaultRuleThickness,j=4*X;if(h-o.depth-(u.height-f)<j){f=j-(h-o.depth)+u.height;var Y=.8*a.xHeight-(h-o.depth);Y>0&&(h+=Y,f-=Y)}var ae=[{type:"elem",elem:u,shift:f,marginRight:S,marginLeft:N},{type:"elem",elem:o,shift:-h,marginRight:S}];F=Se.makeVList({positionType:"individualShift",children:ae},e)}else if(u){f=Math.max(f,a.sub1,u.height-.8*a.xHeight);var $=[{type:"elem",elem:u,marginLeft:N,marginRight:S}];F=Se.makeVList({positionType:"shift",positionData:f,children:$},e)}else if(o)h=Math.max(h,_,o.depth+.25*a.xHeight),F=Se.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var k=Hc(l,"right")||"mord";return Se.makeSpan([k],[l,Se.makeSpan(["msupsub"],[F])],e)},mathmlBuilder(n,e){var t=!1,r,i;n.base&&n.base.type==="horizBrace"&&(i=!!n.sup,i===n.base.isOver&&(t=!0,r=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var s=[rn(n.base,e)];n.sub&&s.push(rn(n.sub,e)),n.sup&&s.push(rn(n.sup,e));var l;if(t)l=r?"mover":"munder";else if(n.sub)if(n.sup){var a=n.base;a&&a.type==="op"&&a.limits&&e.style===xt.DISPLAY||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(e.style===xt.DISPLAY||a.limits)?l="munderover":l="msubsup"}else{var u=n.base;u&&u.type==="op"&&u.limits&&(e.style===xt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===xt.DISPLAY)?l="munder":l="msub"}else{var o=n.base;o&&o.type==="op"&&o.limits&&(e.style===xt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===xt.DISPLAY)?l="mover":l="msup"}return new We.MathNode(l,s)}});$s({type:"atom",htmlBuilder(n,e){return Se.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new We.MathNode("mo",[$r(n.text,n.mode)]);if(n.family==="bin"){var r=fu(n,e);r==="bold-italic"&&t.setAttribute("mathvariant",r)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var wf={mi:"italic",mn:"normal",mtext:"normal"};$s({type:"mathord",htmlBuilder(n,e){return Se.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new We.MathNode("mi",[$r(n.text,n.mode,e)]),r=fu(n,e)||"italic";return r!==wf[t.type]&&t.setAttribute("mathvariant",r),t}});$s({type:"textord",htmlBuilder(n,e){return Se.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=$r(n.text,n.mode,e),r=fu(n,e)||"normal",i;return n.mode==="text"?i=new We.MathNode("mtext",[t]):/[0-9]/.test(n.text)?i=new We.MathNode("mn",[t]):n.text==="\\prime"?i=new We.MathNode("mo",[t]):i=new We.MathNode("mi",[t]),r!==wf[i.type]&&i.setAttribute("mathvariant",r),i}});var Vl={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Wl={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};$s({type:"spacing",htmlBuilder(n,e){if(Wl.hasOwnProperty(n.text)){var t=Wl[n.text].className||"";if(n.mode==="text"){var r=Se.makeOrd(n,e,"textord");return r.classes.push(t),r}else return Se.makeSpan(["mspace",t],[Se.mathsym(n.text,n.mode,e)],e)}else{if(Vl.hasOwnProperty(n.text))return Se.makeSpan(["mspace",Vl[n.text]],[],e);throw new Xe('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(Wl.hasOwnProperty(n.text))t=new We.MathNode("mtext",[new We.TextNode(" ")]);else{if(Vl.hasOwnProperty(n.text))return new We.MathNode("mspace");throw new Xe('Unknown type of space "'+n.text+'"')}return t}});var _d=()=>{var n=new We.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};$s({type:"tag",mathmlBuilder(n,e){var t=new We.MathNode("mtable",[new We.MathNode("mtr",[_d(),new We.MathNode("mtd",[is(n.body,e)]),_d(),new We.MathNode("mtd",[is(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var Sd={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Md={"\\textbf":"textbf","\\textmd":"textmd"},r3={"\\textit":"textit","\\textup":"textup"},Ed=(n,e)=>{var t=n.font;return t?Sd[t]?e.withTextFontFamily(Sd[t]):Md[t]?e.withTextFontWeight(Md[t]):e.withTextFontShape(r3[t]):e};at({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"text",mode:t.mode,body:wn(i),font:r}},htmlBuilder(n,e){var t=Ed(n,e),r=An(n.body,t,!0);return Se.makeSpan(["mord","text"],r,t)},mathmlBuilder(n,e){var t=Ed(n,e);return is(n.body,t)}});at({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Gt(n.body,e),r=Se.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=Se.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:t}]},e);return Se.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(n,e){var t=new We.MathNode("mo",[new We.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new We.MathNode("munder",[rn(n.body,e),t]);return r.setAttribute("accentunder","true"),r}});at({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Gt(n.body,e),r=e.fontMetrics().axisHeight,i=.5*(t.height-r-(t.depth+r));return Se.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new We.MathNode("mpadded",[rn(n.body,e)],["vcenter"])}});at({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new Xe("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=Td(n),r=[],i=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var l=t[s];l==="~"&&(l="\\textasciitilde"),r.push(Se.makeSymbol(l,"Typewriter-Regular",n.mode,i,["mord","texttt"]))}return Se.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Se.tryCombineChars(r),i)},mathmlBuilder(n,e){var t=new We.TextNode(Td(n)),r=new We.MathNode("mtext",[t]);return r.setAttribute("mathvariant","monospace"),r}});var Td=n=>n.body.replace(/ /g,n.star?"␣":" "),Ki=G1,_f=`[ \r
	]`,i3="\\\\[a-zA-Z@]+",s3="\\\\[^\uD800-\uDFFF]",a3="("+i3+")"+_f+"*",o3=`\\\\(
|[ \r	]+
?)[ \r	]*`,jc="[̀-ͯ]",l3=new RegExp(jc+"+$"),c3="("+_f+"+)|"+(o3+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(jc+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(jc+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+a3)+("|"+s3+")");let Ad=class{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(c3,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new ti("EOF",new gr(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new Xe("Unexpected character: '"+e[t]+"'",new ti(e[t],new gr(this,t,t+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new ti(i,new gr(this,t,this.tokenRegex.lastIndex))}};class u3{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Xe("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var h3=hf;U("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});U("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});U("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});U("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});U("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});U("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");U("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var kd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};U("\\char",function(n){var e=n.popToken(),t,r="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Xe("\\char` missing argument");r=e.text.charCodeAt(0)}else t=10;if(t){if(r=kd[e.text],r==null||r>=t)throw new Xe("Invalid base-"+t+" digit "+e.text);for(var i;(i=kd[n.future().text])!=null&&i<t;)r*=t,r+=i,n.popToken()}return"\\@char{"+r+"}"});var Mu=(n,e,t)=>{var r=n.consumeArg().tokens;if(r.length!==1)throw new Xe("\\newcommand's first argument must be a macro name");var i=r[0].text,s=n.isDefined(i);if(s&&!e)throw new Xe("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!t)throw new Xe("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var l=0;if(r=n.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",u=n.expandNextToken();u.text!=="]"&&u.text!=="EOF";)o+=u.text,u=n.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Xe("Invalid number of arguments: "+o);l=parseInt(o),r=n.consumeArg().tokens}return n.macros.set(i,{tokens:r,numArgs:l}),""};U("\\newcommand",n=>Mu(n,!1,!0));U("\\renewcommand",n=>Mu(n,!0,!1));U("\\providecommand",n=>Mu(n,!0,!0));U("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});U("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});U("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),Ki[t],on.math[t],on.text[t]),""});U("\\bgroup","{");U("\\egroup","}");U("~","\\nobreakspace");U("\\lq","`");U("\\rq","'");U("\\aa","\\r a");U("\\AA","\\r A");U("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");U("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");U("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");U("ℬ","\\mathscr{B}");U("ℰ","\\mathscr{E}");U("ℱ","\\mathscr{F}");U("ℋ","\\mathscr{H}");U("ℐ","\\mathscr{I}");U("ℒ","\\mathscr{L}");U("ℳ","\\mathscr{M}");U("ℛ","\\mathscr{R}");U("ℭ","\\mathfrak{C}");U("ℌ","\\mathfrak{H}");U("ℨ","\\mathfrak{Z}");U("\\Bbbk","\\Bbb{k}");U("·","\\cdotp");U("\\llap","\\mathllap{\\textrm{#1}}");U("\\rlap","\\mathrlap{\\textrm{#1}}");U("\\clap","\\mathclap{\\textrm{#1}}");U("\\mathstrut","\\vphantom{(}");U("\\underbar","\\underline{\\text{#1}}");U("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');U("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");U("\\ne","\\neq");U("≠","\\neq");U("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");U("∉","\\notin");U("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");U("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");U("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");U("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");U("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");U("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");U("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");U("⟂","\\perp");U("‼","\\mathclose{!\\mkern-0.8mu!}");U("∌","\\notni");U("⌜","\\ulcorner");U("⌝","\\urcorner");U("⌞","\\llcorner");U("⌟","\\lrcorner");U("©","\\copyright");U("®","\\textregistered");U("️","\\textregistered");U("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');U("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');U("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');U("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');U("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");U("⋮","\\vdots");U("\\varGamma","\\mathit{\\Gamma}");U("\\varDelta","\\mathit{\\Delta}");U("\\varTheta","\\mathit{\\Theta}");U("\\varLambda","\\mathit{\\Lambda}");U("\\varXi","\\mathit{\\Xi}");U("\\varPi","\\mathit{\\Pi}");U("\\varSigma","\\mathit{\\Sigma}");U("\\varUpsilon","\\mathit{\\Upsilon}");U("\\varPhi","\\mathit{\\Phi}");U("\\varPsi","\\mathit{\\Psi}");U("\\varOmega","\\mathit{\\Omega}");U("\\substack","\\begin{subarray}{c}#1\\end{subarray}");U("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");U("\\boxed","\\fbox{$\\displaystyle{#1}$}");U("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");U("\\implies","\\DOTSB\\;\\Longrightarrow\\;");U("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Cd={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};U("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in Cd?e=Cd[t]:(t.slice(0,4)==="\\not"||t in on.math&&At.contains(["bin","rel"],on.math[t].group))&&(e="\\dotsb"),e});var Eu={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};U("\\dotso",function(n){var e=n.future().text;return e in Eu?"\\ldots\\,":"\\ldots"});U("\\dotsc",function(n){var e=n.future().text;return e in Eu&&e!==","?"\\ldots\\,":"\\ldots"});U("\\cdots",function(n){var e=n.future().text;return e in Eu?"\\@cdots\\,":"\\@cdots"});U("\\dotsb","\\cdots");U("\\dotsm","\\cdots");U("\\dotsi","\\!\\cdots");U("\\dotsx","\\ldots\\,");U("\\DOTSI","\\relax");U("\\DOTSB","\\relax");U("\\DOTSX","\\relax");U("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");U("\\,","\\tmspace+{3mu}{.1667em}");U("\\thinspace","\\,");U("\\>","\\mskip{4mu}");U("\\:","\\tmspace+{4mu}{.2222em}");U("\\medspace","\\:");U("\\;","\\tmspace+{5mu}{.2777em}");U("\\thickspace","\\;");U("\\!","\\tmspace-{3mu}{.1667em}");U("\\negthinspace","\\!");U("\\negmedspace","\\tmspace-{4mu}{.2222em}");U("\\negthickspace","\\tmspace-{5mu}{.277em}");U("\\enspace","\\kern.5em ");U("\\enskip","\\hskip.5em\\relax");U("\\quad","\\hskip1em\\relax");U("\\qquad","\\hskip2em\\relax");U("\\tag","\\@ifstar\\tag@literal\\tag@paren");U("\\tag@paren","\\tag@literal{({#1})}");U("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new Xe("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});U("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");U("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");U("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");U("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");U("\\newline","\\\\\\relax");U("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Sf=Qe(ei["Main-Regular"]["T".charCodeAt(0)][1]-.7*ei["Main-Regular"]["A".charCodeAt(0)][1]);U("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Sf+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");U("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Sf+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");U("\\hspace","\\@ifstar\\@hspacer\\@hspace");U("\\@hspace","\\hskip #1\\relax");U("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");U("\\ordinarycolon",":");U("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");U("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');U("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');U("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');U("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');U("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');U("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');U("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');U("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');U("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');U("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');U("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');U("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');U("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');U("∷","\\dblcolon");U("∹","\\eqcolon");U("≔","\\coloneqq");U("≕","\\eqqcolon");U("⩴","\\Coloneqq");U("\\ratio","\\vcentcolon");U("\\coloncolon","\\dblcolon");U("\\colonequals","\\coloneqq");U("\\coloncolonequals","\\Coloneqq");U("\\equalscolon","\\eqqcolon");U("\\equalscoloncolon","\\Eqqcolon");U("\\colonminus","\\coloneq");U("\\coloncolonminus","\\Coloneq");U("\\minuscolon","\\eqcolon");U("\\minuscoloncolon","\\Eqcolon");U("\\coloncolonapprox","\\Colonapprox");U("\\coloncolonsim","\\Colonsim");U("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");U("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");U("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");U("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");U("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");U("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");U("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");U("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");U("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");U("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");U("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");U("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");U("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");U("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");U("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");U("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");U("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");U("\\nleqq","\\html@mathml{\\@nleqq}{≰}");U("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");U("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");U("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");U("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");U("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");U("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");U("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");U("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");U("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");U("\\imath","\\html@mathml{\\@imath}{ı}");U("\\jmath","\\html@mathml{\\@jmath}{ȷ}");U("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");U("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");U("⟦","\\llbracket");U("⟧","\\rrbracket");U("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");U("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");U("⦃","\\lBrace");U("⦄","\\rBrace");U("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");U("⦵","\\minuso");U("\\darr","\\downarrow");U("\\dArr","\\Downarrow");U("\\Darr","\\Downarrow");U("\\lang","\\langle");U("\\rang","\\rangle");U("\\uarr","\\uparrow");U("\\uArr","\\Uparrow");U("\\Uarr","\\Uparrow");U("\\N","\\mathbb{N}");U("\\R","\\mathbb{R}");U("\\Z","\\mathbb{Z}");U("\\alef","\\aleph");U("\\alefsym","\\aleph");U("\\Alpha","\\mathrm{A}");U("\\Beta","\\mathrm{B}");U("\\bull","\\bullet");U("\\Chi","\\mathrm{X}");U("\\clubs","\\clubsuit");U("\\cnums","\\mathbb{C}");U("\\Complex","\\mathbb{C}");U("\\Dagger","\\ddagger");U("\\diamonds","\\diamondsuit");U("\\empty","\\emptyset");U("\\Epsilon","\\mathrm{E}");U("\\Eta","\\mathrm{H}");U("\\exist","\\exists");U("\\harr","\\leftrightarrow");U("\\hArr","\\Leftrightarrow");U("\\Harr","\\Leftrightarrow");U("\\hearts","\\heartsuit");U("\\image","\\Im");U("\\infin","\\infty");U("\\Iota","\\mathrm{I}");U("\\isin","\\in");U("\\Kappa","\\mathrm{K}");U("\\larr","\\leftarrow");U("\\lArr","\\Leftarrow");U("\\Larr","\\Leftarrow");U("\\lrarr","\\leftrightarrow");U("\\lrArr","\\Leftrightarrow");U("\\Lrarr","\\Leftrightarrow");U("\\Mu","\\mathrm{M}");U("\\natnums","\\mathbb{N}");U("\\Nu","\\mathrm{N}");U("\\Omicron","\\mathrm{O}");U("\\plusmn","\\pm");U("\\rarr","\\rightarrow");U("\\rArr","\\Rightarrow");U("\\Rarr","\\Rightarrow");U("\\real","\\Re");U("\\reals","\\mathbb{R}");U("\\Reals","\\mathbb{R}");U("\\Rho","\\mathrm{P}");U("\\sdot","\\cdot");U("\\sect","\\S");U("\\spades","\\spadesuit");U("\\sub","\\subset");U("\\sube","\\subseteq");U("\\supe","\\supseteq");U("\\Tau","\\mathrm{T}");U("\\thetasym","\\vartheta");U("\\weierp","\\wp");U("\\Zeta","\\mathrm{Z}");U("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");U("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");U("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");U("\\bra","\\mathinner{\\langle{#1}|}");U("\\ket","\\mathinner{|{#1}\\rangle}");U("\\braket","\\mathinner{\\langle{#1}\\rangle}");U("\\Bra","\\left\\langle#1\\right|");U("\\Ket","\\left|#1\\right\\rangle");var Mf=n=>e=>{var t=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,l=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var u=f=>v=>{n&&(v.macros.set("|",l),i.length&&v.macros.set("\\|",o));var m=f;if(!f&&i.length){var b=v.future();b.text==="|"&&(v.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};e.macros.set("|",u(!1)),i.length&&e.macros.set("\\|",u(!0));var a=e.consumeArg().tokens,h=e.expandTokens([...s,...a,...t]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};U("\\bra@ket",Mf(!1));U("\\bra@set",Mf(!0));U("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");U("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");U("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");U("\\angln","{\\angl n}");U("\\blue","\\textcolor{##6495ed}{#1}");U("\\orange","\\textcolor{##ffa500}{#1}");U("\\pink","\\textcolor{##ff00af}{#1}");U("\\red","\\textcolor{##df0030}{#1}");U("\\green","\\textcolor{##28ae7b}{#1}");U("\\gray","\\textcolor{gray}{#1}");U("\\purple","\\textcolor{##9d38bd}{#1}");U("\\blueA","\\textcolor{##ccfaff}{#1}");U("\\blueB","\\textcolor{##80f6ff}{#1}");U("\\blueC","\\textcolor{##63d9ea}{#1}");U("\\blueD","\\textcolor{##11accd}{#1}");U("\\blueE","\\textcolor{##0c7f99}{#1}");U("\\tealA","\\textcolor{##94fff5}{#1}");U("\\tealB","\\textcolor{##26edd5}{#1}");U("\\tealC","\\textcolor{##01d1c1}{#1}");U("\\tealD","\\textcolor{##01a995}{#1}");U("\\tealE","\\textcolor{##208170}{#1}");U("\\greenA","\\textcolor{##b6ffb0}{#1}");U("\\greenB","\\textcolor{##8af281}{#1}");U("\\greenC","\\textcolor{##74cf70}{#1}");U("\\greenD","\\textcolor{##1fab54}{#1}");U("\\greenE","\\textcolor{##0d923f}{#1}");U("\\goldA","\\textcolor{##ffd0a9}{#1}");U("\\goldB","\\textcolor{##ffbb71}{#1}");U("\\goldC","\\textcolor{##ff9c39}{#1}");U("\\goldD","\\textcolor{##e07d10}{#1}");U("\\goldE","\\textcolor{##a75a05}{#1}");U("\\redA","\\textcolor{##fca9a9}{#1}");U("\\redB","\\textcolor{##ff8482}{#1}");U("\\redC","\\textcolor{##f9685d}{#1}");U("\\redD","\\textcolor{##e84d39}{#1}");U("\\redE","\\textcolor{##bc2612}{#1}");U("\\maroonA","\\textcolor{##ffbde0}{#1}");U("\\maroonB","\\textcolor{##ff92c6}{#1}");U("\\maroonC","\\textcolor{##ed5fa6}{#1}");U("\\maroonD","\\textcolor{##ca337c}{#1}");U("\\maroonE","\\textcolor{##9e034e}{#1}");U("\\purpleA","\\textcolor{##ddd7ff}{#1}");U("\\purpleB","\\textcolor{##c6b9fc}{#1}");U("\\purpleC","\\textcolor{##aa87ff}{#1}");U("\\purpleD","\\textcolor{##7854ab}{#1}");U("\\purpleE","\\textcolor{##543b78}{#1}");U("\\mintA","\\textcolor{##f5f9e8}{#1}");U("\\mintB","\\textcolor{##edf2df}{#1}");U("\\mintC","\\textcolor{##e0e5cc}{#1}");U("\\grayA","\\textcolor{##f6f7f7}{#1}");U("\\grayB","\\textcolor{##f0f1f2}{#1}");U("\\grayC","\\textcolor{##e3e5e6}{#1}");U("\\grayD","\\textcolor{##d6d8da}{#1}");U("\\grayE","\\textcolor{##babec2}{#1}");U("\\grayF","\\textcolor{##888d93}{#1}");U("\\grayG","\\textcolor{##626569}{#1}");U("\\grayH","\\textcolor{##3b3e40}{#1}");U("\\grayI","\\textcolor{##21242c}{#1}");U("\\kaBlue","\\textcolor{##314453}{#1}");U("\\kaGreen","\\textcolor{##71B307}{#1}");var Ef={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class d3{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new u3(h3,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Ad(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:t,end:r}=this.consumeArg());return this.pushToken(new ti("EOF",r.loc)),this.pushTokens(i),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,l=0,o=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++l;else if(s.text==="}"){if(--l,l===-1)throw new Xe("Extra }",s)}else if(s.text==="EOF")throw new Xe("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",s);if(e&&r)if((l===0||l===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(l!==0||r);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Xe("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Xe("Use of the macro doesn't match its definition",s)}}for(var l=[],o=0;o<e;o++)l.push(this.consumeArg(t&&t[o+1]).tokens);return l}expandOnce(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Xe("Undefined control sequence: "+r);return this.pushToken(t),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new Xe("Too many expansions: infinite loop or need to increase maxExpand setting");var s=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var u=s[o];if(u.text==="#"){if(o===0)throw new Xe("Incomplete placeholder at end of macro body",u);if(u=s[--o],u.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(u.text))s.splice(o,2,...l[+u.text-1]);else throw new Xe("Not a valid argument number",u)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ti(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(s+1))!==-1;)++s;for(var o=new Ad(i,this.settings),u=[],a=o.lex();a.text!=="EOF";)u.push(a),a=o.lex();u.reverse();var h={tokens:u,numArgs:s};return h}return i}isDefined(e){return this.macros.has(e)||Ki.hasOwnProperty(e)||on.math.hasOwnProperty(e)||on.text.hasOwnProperty(e)||Ef.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Ki.hasOwnProperty(e)&&!Ki[e].primitive}}var Rd=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Wo=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),jl={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},$d={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Za{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new d3(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new Xe("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new ti("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Za.endOfExpression.indexOf(i.text)!==-1||t&&i.text===t||e&&Ki[i.text]&&Ki[i.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(t!==-1)throw new Xe("only one infix operator per group",e[i].token);t=i,r=e[i].replaceWith}if(t!==-1&&r){var s,l,o=e.slice(0,t),u=e.slice(t+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},u.length===1&&u[0].type==="ordgroup"?l=u[0]:l={type:"ordgroup",mode:this.mode,body:u};var a;return r==="\\\\abovefrac"?a=this.callFunction(r,[s,e[t],l],[]):a=this.callFunction(r,[s,l],[]),[a]}else return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new Xe("Expected group after '"+r+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if(this.mode==="text")return t;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var l=s.text==="\\limits";t.limits=l,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new Xe("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Xe("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Xe("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Xe("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},u=[o];for(this.consume();this.fetch().text==="'";)u.push(o),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:u}}else if(Wo[s.text]){var a=Wo[s.text],h=Rd.test(s.text);for(this.consume();;){var f=this.fetch().text;if(!Wo[f]||Rd.test(f)!==h)break;this.consume(),a+=Wo[f]}var v=new Za(a,this.settings).parse();h?i={type:"ordgroup",mode:"math",body:v}:r={type:"ordgroup",mode:"math",body:v}}else break}return r||i?{type:"supsub",mode:this.mode,base:t,sup:r,sub:i}:t}parseFunction(e,t){var r=this.fetch(),i=r.text,s=Ki[i];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new Xe("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Xe("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Xe("Can't use function '"+i+"' in math mode",r);var{args:l,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,l,o,r,e)}callFunction(e,t,r,i,s){var l={funcName:e,parser:this,token:i,breakOnTokenText:s},o=Ki[e];if(o&&o.handler)return o.handler(l,t,r);throw new Xe("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],l=0;l<r;l++){var o=t.argTypes&&t.argTypes[l],u=l<t.numOptionalArgs;(t.primitive&&o==null||t.type==="sqrt"&&l===1&&s[0]==null)&&(o="primitive");var a=this.parseGroupOfType("argument to '"+e+"'",o,u);if(u)s.push(a);else if(a!=null)i.push(a);else throw new Xe("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Xe("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Xe("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Xe("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,t){for(var r=this.fetch(),i=r,s="",l;(l=this.fetch()).text!=="EOF"&&e.test(s+l.text);)i=l,s+=i.text,this.consume();if(s==="")throw new Xe("Invalid "+t+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new Xe("Invalid color: '"+t.text+"'",t);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new Xe("Invalid size: '"+t.text+"'",t);var s={number:+(i[1]+i[2]),unit:i[3]};if(!D1(s))throw new Xe("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return t&&this.switchMode(i),l}parseGroup(e,t){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,l),u=this.fetch();this.expect(l),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:gr.range(r,u),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!Ef.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Xe("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<t&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:gr.range(i,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:gr.range(i,e[r+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:gr.range(i,e[r+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Xe(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}$d.hasOwnProperty(t[0])&&!on[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=$d[t[0]]+t.slice(1));var s=l3.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="ı":t==="j"&&(t="ȷ"));var l;if(on[this.mode][t]){this.settings.strict&&this.mode==="math"&&Fc.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=on[this.mode][t].group,u=gr.range(e),a;if(e2.hasOwnProperty(o)){var h=o;a={type:"atom",mode:this.mode,family:h,loc:u,text:t}}else a={type:o,mode:this.mode,loc:u,text:t};l=a}else if(t.charCodeAt(0)>=128)this.settings.strict&&(L1(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:gr.range(e),text:t};else return null;if(this.consume(),s)for(var f=0;f<s[0].length;f++){var v=s[0][f];if(!jl[v])throw new Xe("Unknown accent ' "+v+"'",e);var m=jl[v][this.mode]||jl[v].text;if(!m)throw new Xe("Accent "+v+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:gr.range(e),label:m,isStretchy:!1,isShifty:!0,base:l}}return l}}Za.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Tu=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Za(e,t);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Xe("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new ti("\\df@tag")])}]}return i},Tf=function(e,t,r){t.textContent="";var i=Au(e,r).toNode();t.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Tf=function(){throw new Xe("KaTeX doesn't work in quirks mode.")});var p3=function(e,t){var r=Au(e,t).toMarkup();return r},f3=function(e,t){var r=new lu(t);return Tu(e,r)},Af=function(e,t,r){if(r.throwOnError||!(e instanceof Xe))throw e;var i=Se.makeSpan(["katex-error"],[new Rr(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Au=function(e,t){var r=new lu(t);try{var i=Tu(e,r);return S2(i,e,r)}catch(s){return Af(s,e,r)}},m3=function(e,t){var r=new lu(t);try{var i=Tu(e,r);return M2(i,e,r)}catch(s){return Af(s,e,r)}},g3={version:"0.16.9",render:Tf,renderToString:p3,ParseError:Xe,SETTINGS_SCHEMA:E0,__parse:f3,__renderToDomTree:Au,__renderToHTMLTree:m3,__setFontMetrics:q4,__defineSymbol:w,__defineFunction:at,__defineMacro:U,__domTree:{Span:oo,Anchor:hu,SymbolNode:Rr,SvgNode:Ei,PathNode:rs,LineNode:Bc}};let qc=document.body.getElementsByTagName("script");qc=Array.prototype.slice.call(qc);qc.forEach(function(n){if(!n.type||!n.type.match(/math\/tex/i))return-1;const e=n.type.match(/mode\s*=\s*display(;|\s|\n|$)/)!=null,t=document.createElement(e?"div":"span");t.setAttribute("class",e?"equation":"inline-equation");try{g3.render(n.text,t,{displayMode:e})}catch{t.textContent=n.text}n.parentNode.replaceChild(t,n)});(function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var l in r)t.d(s,l,(function(o){return r[o]}).bind(null,l));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=83)})([function(n,e,t){t.d(e,"b",function(){return u}),t.d(e,"c",function(){return r.a}),t.d(e,"a",function(){return ae});var r=t(3);const i=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol();class l{constructor(k,L){if(L!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=k}get styleSheet(){return i&&this.t===void 0&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}}const o=new Map,u=($,...k)=>{const L=k.reduce((Q,G,oe)=>Q+(ce=>{if(ce instanceof l)return ce.cssText;if(typeof ce=="number")return ce;throw Error(`Value passed to 'css' function must be a 'css' function result: ${ce}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)})(G)+$[oe+1],$[0]);let z=o.get(L);return z===void 0&&o.set(L,z=new l(L,s)),z},a=i?$=>$:$=>$ instanceof CSSStyleSheet?(k=>{let L="";for(const z of k.cssRules)L+=z.cssText;return(z=>new l(z+"",s))(L)})($):$;var h,f,v,m;const b={toAttribute($,k){switch(k){case Boolean:$=$?"":null;break;case Object:case Array:$=$==null?$:JSON.stringify($)}return $},fromAttribute($,k){let L=$;switch(k){case Boolean:L=$!==null;break;case Number:L=$===null?null:Number($);break;case Object:case Array:try{L=JSON.parse($)}catch{L=null}}return L}},_=($,k)=>k!==$&&(k==k||$==$),E={attribute:!0,type:String,converter:b,reflect:!1,hasChanged:_};class S extends HTMLElement{constructor(){super(),this.Πi=new Map,this.Πo=void 0,this.Πl=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.Πh=null,this.u()}static addInitializer(k){var L;(L=this.v)!==null&&L!==void 0||(this.v=[]),this.v.push(k)}static get observedAttributes(){this.finalize();const k=[];return this.elementProperties.forEach((L,z)=>{const Q=this.Πp(z,L);Q!==void 0&&(this.Πm.set(Q,z),k.push(Q))}),k}static createProperty(k,L=E){if(L.state&&(L.attribute=!1),this.finalize(),this.elementProperties.set(k,L),!L.noAccessor&&!this.prototype.hasOwnProperty(k)){const z=typeof k=="symbol"?Symbol():"__"+k,Q=this.getPropertyDescriptor(k,z,L);Q!==void 0&&Object.defineProperty(this.prototype,k,Q)}}static getPropertyDescriptor(k,L,z){return{get(){return this[L]},set(Q){const G=this[k];this[L]=Q,this.requestUpdate(k,G,z)},configurable:!0,enumerable:!0}}static getPropertyOptions(k){return this.elementProperties.get(k)||E}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const k=Object.getPrototypeOf(this);if(k.finalize(),this.elementProperties=new Map(k.elementProperties),this.Πm=new Map,this.hasOwnProperty("properties")){const L=this.properties,z=[...Object.getOwnPropertyNames(L),...Object.getOwnPropertySymbols(L)];for(const Q of z)this.createProperty(Q,L[Q])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(k){const L=[];if(Array.isArray(k)){const z=new Set(k.flat(1/0).reverse());for(const Q of z)L.unshift(a(Q))}else k!==void 0&&L.push(a(k));return L}static Πp(k,L){const z=L.attribute;return z===!1?void 0:typeof z=="string"?z:typeof k=="string"?k.toLowerCase():void 0}u(){var k;this.Πg=new Promise(L=>this.enableUpdating=L),this.L=new Map,this.Π_(),this.requestUpdate(),(k=this.constructor.v)===null||k===void 0||k.forEach(L=>L(this))}addController(k){var L,z;((L=this.ΠU)!==null&&L!==void 0?L:this.ΠU=[]).push(k),this.renderRoot!==void 0&&this.isConnected&&((z=k.hostConnected)===null||z===void 0||z.call(k))}removeController(k){var L;(L=this.ΠU)===null||L===void 0||L.splice(this.ΠU.indexOf(k)>>>0,1)}Π_(){this.constructor.elementProperties.forEach((k,L)=>{this.hasOwnProperty(L)&&(this.Πi.set(L,this[L]),delete this[L])})}createRenderRoot(){var k;const L=(k=this.shadowRoot)!==null&&k!==void 0?k:this.attachShadow(this.constructor.shadowRootOptions);return((z,Q)=>{i?z.adoptedStyleSheets=Q.map(G=>G instanceof CSSStyleSheet?G:G.styleSheet):Q.forEach(G=>{const oe=document.createElement("style");oe.textContent=G.cssText,z.appendChild(oe)})})(L,this.constructor.elementStyles),L}connectedCallback(){var k;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(k=this.ΠU)===null||k===void 0||k.forEach(L=>{var z;return(z=L.hostConnected)===null||z===void 0?void 0:z.call(L)}),this.Πl&&(this.Πl(),this.Πo=this.Πl=void 0)}enableUpdating(k){}disconnectedCallback(){var k;(k=this.ΠU)===null||k===void 0||k.forEach(L=>{var z;return(z=L.hostDisconnected)===null||z===void 0?void 0:z.call(L)}),this.Πo=new Promise(L=>this.Πl=L)}attributeChangedCallback(k,L,z){this.K(k,z)}Πj(k,L,z=E){var Q,G;const oe=this.constructor.Πp(k,z);if(oe!==void 0&&z.reflect===!0){const ce=((G=(Q=z.converter)===null||Q===void 0?void 0:Q.toAttribute)!==null&&G!==void 0?G:b.toAttribute)(L,z.type);this.Πh=k,ce==null?this.removeAttribute(oe):this.setAttribute(oe,ce),this.Πh=null}}K(k,L){var z,Q,G;const oe=this.constructor,ce=oe.Πm.get(k);if(ce!==void 0&&this.Πh!==ce){const be=oe.getPropertyOptions(ce),Ne=be.converter,$e=(G=(Q=(z=Ne)===null||z===void 0?void 0:z.fromAttribute)!==null&&Q!==void 0?Q:typeof Ne=="function"?Ne:null)!==null&&G!==void 0?G:b.fromAttribute;this.Πh=ce,this[ce]=$e(L,be.type),this.Πh=null}}requestUpdate(k,L,z){let Q=!0;k!==void 0&&(((z=z||this.constructor.getPropertyOptions(k)).hasChanged||_)(this[k],L)?(this.L.has(k)||this.L.set(k,L),z.reflect===!0&&this.Πh!==k&&(this.Πk===void 0&&(this.Πk=new Map),this.Πk.set(k,z))):Q=!1),!this.isUpdatePending&&Q&&(this.Πg=this.Πq())}async Πq(){this.isUpdatePending=!0;try{for(await this.Πg;this.Πo;)await this.Πo}catch(L){Promise.reject(L)}const k=this.performUpdate();return k!=null&&await k,!this.isUpdatePending}performUpdate(){var k;if(!this.isUpdatePending)return;this.hasUpdated,this.Πi&&(this.Πi.forEach((Q,G)=>this[G]=Q),this.Πi=void 0);let L=!1;const z=this.L;try{L=this.shouldUpdate(z),L?(this.willUpdate(z),(k=this.ΠU)===null||k===void 0||k.forEach(Q=>{var G;return(G=Q.hostUpdate)===null||G===void 0?void 0:G.call(Q)}),this.update(z)):this.Π$()}catch(Q){throw L=!1,this.Π$(),Q}L&&this.E(z)}willUpdate(k){}E(k){var L;(L=this.ΠU)===null||L===void 0||L.forEach(z=>{var Q;return(Q=z.hostUpdated)===null||Q===void 0?void 0:Q.call(z)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(k)),this.updated(k)}Π$(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.Πg}shouldUpdate(k){return!0}update(k){this.Πk!==void 0&&(this.Πk.forEach((L,z)=>this.Πj(z,this[z],L)),this.Πk=void 0),this.Π$()}updated(k){}firstUpdated(k){}}var N,D,F,X,j,Y;S.finalized=!0,S.shadowRootOptions={mode:"open"},(f=(h=globalThis).reactiveElementPlatformSupport)===null||f===void 0||f.call(h,{ReactiveElement:S}),((v=(m=globalThis).reactiveElementVersions)!==null&&v!==void 0?v:m.reactiveElementVersions=[]).push("1.0.0-rc.1"),((N=(Y=globalThis).litElementVersions)!==null&&N!==void 0?N:Y.litElementVersions=[]).push("3.0.0-rc.1");class ae extends S{constructor(){super(...arguments),this.renderOptions={host:this},this.Φt=void 0}createRenderRoot(){var k,L;const z=super.createRenderRoot();return(k=(L=this.renderOptions).renderBefore)!==null&&k!==void 0||(L.renderBefore=z.firstChild),z}update(k){const L=this.render();super.update(k),this.Φt=Object(r.d)(L,this.renderRoot,this.renderOptions)}connectedCallback(){var k;super.connectedCallback(),(k=this.Φt)===null||k===void 0||k.setConnected(!0)}disconnectedCallback(){var k;super.disconnectedCallback(),(k=this.Φt)===null||k===void 0||k.setConnected(!1)}render(){return r.b}}ae.finalized=!0,ae._$litElement$=!0,(F=(D=globalThis).litElementHydrateSupport)===null||F===void 0||F.call(D,{LitElement:ae}),(j=(X=globalThis).litElementPlatformSupport)===null||j===void 0||j.call(X,{LitElement:ae})},function(n,e,t){t.d(e,"a",function(){return i}),t.d(e,"b",function(){return s});const r=(l,o)=>o.kind==="method"&&o.descriptor&&!("value"in o.descriptor)?{...o,finisher(u){u.createProperty(o.key,l)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:o.key,initializer(){typeof o.initializer=="function"&&(this[o.key]=o.initializer.call(this))},finisher(u){u.createProperty(o.key,l)}};function i(l){return(o,u)=>u!==void 0?((a,h,f)=>{h.constructor.createProperty(f,a)})(l,o,u):r(l,o)}function s(l){return i({...l,state:!0,attribute:!1})}},function(n,e,t){t.d(e,"a",function(){return r});const r=t(0).b`
  /* scrollbar */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
    background-color: transparent;
    visibility: hidden;
  }
  *::-webkit-scrollbar-track {
    background-color: rgba(var(--neutral-1), 0.05);
    border-radius: 8px;
  }
  *::-webkit-scrollbar-thumb {
    background-color: rgba(var(--neutral-1), 0.1);
    border-radius: 8px;
  }
  *::-webkit-scrollbar-thumb:active,
  *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(var(--neutral-1), 0.2);
  }
`},function(n,e,t){var r,i,s,l;t.d(e,"a",function(){return $}),t.d(e,"b",function(){return k}),t.d(e,"c",function(){return L}),t.d(e,"d",function(){return Q});const o=globalThis.trustedTypes,u=o?o.createPolicy("lit-html",{createHTML:ke=>ke}):void 0,a=`lit$${(Math.random()+"").slice(9)}$`,h="?"+a,f=`<${h}>`,v=document,m=(ke="")=>v.createComment(ke),b=ke=>ke===null||typeof ke!="object"&&typeof ke!="function",_=Array.isArray,E=ke=>{var H;return _(ke)||typeof((H=ke)===null||H===void 0?void 0:H[Symbol.iterator])=="function"},S=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,N=/-->/g,D=/>/g,F=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,X=/'/g,j=/"/g,Y=/^(?:script|style|textarea)$/i,ae=ke=>(H,...K)=>({_$litType$:ke,strings:H,values:K}),$=ae(1),k=Symbol.for("lit-noChange"),L=Symbol.for("lit-nothing"),z=new WeakMap,Q=(ke,H,K)=>{var fe,xe;const Ge=(fe=K==null?void 0:K.renderBefore)!==null&&fe!==void 0?fe:H;let Ee=Ge._$litPart$;if(Ee===void 0){const ue=(xe=K==null?void 0:K.renderBefore)!==null&&xe!==void 0?xe:null;Ge._$litPart$=Ee=new $e(H.insertBefore(m(),ue),ue,void 0,K)}return Ee.I(ke),Ee},G=v.createTreeWalker(v,129,null,!1),oe=(ke,H)=>{const K=ke.length-1,fe=[];let xe,Ge=H===2?"<svg>":"",Ee=S;for(let Ue=0;Ue<K;Ue++){const Pe=ke[Ue];let ot,ze,Oe=-1,Ye=0;for(;Ye<Pe.length&&(Ee.lastIndex=Ye,ze=Ee.exec(Pe),ze!==null);)Ye=Ee.lastIndex,Ee===S?ze[1]==="!--"?Ee=N:ze[1]!==void 0?Ee=D:ze[2]!==void 0?(Y.test(ze[2])&&(xe=RegExp("</"+ze[2],"g")),Ee=F):ze[3]!==void 0&&(Ee=F):Ee===F?ze[0]===">"?(Ee=xe??S,Oe=-1):ze[1]===void 0?Oe=-2:(Oe=Ee.lastIndex-ze[2].length,ot=ze[1],Ee=ze[3]===void 0?F:ze[3]==='"'?j:X):Ee===j||Ee===X?Ee=F:Ee===N||Ee===D?Ee=S:(Ee=F,xe=void 0);const it=Ee===F&&ke[Ue+1].startsWith("/>")?" ":"";Ge+=Ee===S?Pe+f:Oe>=0?(fe.push(ot),Pe.slice(0,Oe)+"$lit$"+Pe.slice(Oe)+a+it):Pe+a+(Oe===-2?(fe.push(void 0),Ue):it)}const ue=Ge+(ke[K]||"<?>")+(H===2?"</svg>":"");return[u!==void 0?u.createHTML(ue):ue,fe]};class ce{constructor({strings:H,_$litType$:K},fe){let xe;this.parts=[];let Ge=0,Ee=0;const ue=H.length-1,Ue=this.parts,[Pe,ot]=oe(H,K);if(this.el=ce.createElement(Pe,fe),G.currentNode=this.el.content,K===2){const ze=this.el.content,Oe=ze.firstChild;Oe.remove(),ze.append(...Oe.childNodes)}for(;(xe=G.nextNode())!==null&&Ue.length<ue;){if(xe.nodeType===1){if(xe.hasAttributes()){const ze=[];for(const Oe of xe.getAttributeNames())if(Oe.endsWith("$lit$")||Oe.startsWith(a)){const Ye=ot[Ee++];if(ze.push(Oe),Ye!==void 0){const it=xe.getAttribute(Ye.toLowerCase()+"$lit$").split(a),gt=/([.?@])?(.*)/.exec(Ye);Ue.push({type:1,index:Ge,name:gt[2],strings:it,ctor:gt[1]==="."?ge:gt[1]==="?"?we:gt[1]==="@"?He:Re})}else Ue.push({type:6,index:Ge})}for(const Oe of ze)xe.removeAttribute(Oe)}if(Y.test(xe.tagName)){const ze=xe.textContent.split(a),Oe=ze.length-1;if(Oe>0){xe.textContent=o?o.emptyScript:"";for(let Ye=0;Ye<Oe;Ye++)xe.append(ze[Ye],m()),G.nextNode(),Ue.push({type:2,index:++Ge});xe.append(ze[Oe],m())}}}else if(xe.nodeType===8)if(xe.data===h)Ue.push({type:2,index:Ge});else{let ze=-1;for(;(ze=xe.data.indexOf(a,ze+1))!==-1;)Ue.push({type:7,index:Ge}),ze+=a.length-1}Ge++}}static createElement(H,K){const fe=v.createElement("template");return fe.innerHTML=H,fe}}function be(ke,H,K=ke,fe){var xe,Ge,Ee,ue;if(H===k)return H;let Ue=fe!==void 0?(xe=K.Σi)===null||xe===void 0?void 0:xe[fe]:K.Σo;const Pe=b(H)?void 0:H._$litDirective$;return(Ue==null?void 0:Ue.constructor)!==Pe&&((Ge=Ue==null?void 0:Ue.O)===null||Ge===void 0||Ge.call(Ue,!1),Pe===void 0?Ue=void 0:(Ue=new Pe(ke),Ue.T(ke,K,fe)),fe!==void 0?((Ee=(ue=K).Σi)!==null&&Ee!==void 0?Ee:ue.Σi=[])[fe]=Ue:K.Σo=Ue),Ue!==void 0&&(H=be(ke,Ue.S(ke,H.values),Ue,fe)),H}class Ne{constructor(H,K){this.l=[],this.N=void 0,this.D=H,this.M=K}u(H){var K;const{el:{content:fe},parts:xe}=this.D,Ge=((K=H==null?void 0:H.creationScope)!==null&&K!==void 0?K:v).importNode(fe,!0);G.currentNode=Ge;let Ee=G.nextNode(),ue=0,Ue=0,Pe=xe[0];for(;Pe!==void 0;){if(ue===Pe.index){let ot;Pe.type===2?ot=new $e(Ee,Ee.nextSibling,this,H):Pe.type===1?ot=new Pe.ctor(Ee,Pe.name,Pe.strings,this,H):Pe.type===6&&(ot=new Je(Ee,this,H)),this.l.push(ot),Pe=xe[++Ue]}ue!==(Pe==null?void 0:Pe.index)&&(Ee=G.nextNode(),ue++)}return Ge}v(H){let K=0;for(const fe of this.l)fe!==void 0&&(fe.strings!==void 0?(fe.I(H,fe,K),K+=fe.strings.length-2):fe.I(H[K])),K++}}class $e{constructor(H,K,fe,xe){this.type=2,this.N=void 0,this.A=H,this.B=K,this.M=fe,this.options=xe}setConnected(H){var K;(K=this.P)===null||K===void 0||K.call(this,H)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(H,K=this){H=be(this,H,K),b(H)?H===L||H==null||H===""?(this.H!==L&&this.R(),this.H=L):H!==this.H&&H!==k&&this.m(H):H._$litType$!==void 0?this._(H):H.nodeType!==void 0?this.$(H):E(H)?this.g(H):this.m(H)}k(H,K=this.B){return this.A.parentNode.insertBefore(H,K)}$(H){this.H!==H&&(this.R(),this.H=this.k(H))}m(H){const K=this.A.nextSibling;K!==null&&K.nodeType===3&&(this.B===null?K.nextSibling===null:K===this.B.previousSibling)?K.data=H:this.$(v.createTextNode(H)),this.H=H}_(H){var K;const{values:fe,_$litType$:xe}=H,Ge=typeof xe=="number"?this.C(H):(xe.el===void 0&&(xe.el=ce.createElement(xe.h,this.options)),xe);if(((K=this.H)===null||K===void 0?void 0:K.D)===Ge)this.H.v(fe);else{const Ee=new Ne(Ge,this),ue=Ee.u(this.options);Ee.v(fe),this.$(ue),this.H=Ee}}C(H){let K=z.get(H.strings);return K===void 0&&z.set(H.strings,K=new ce(H)),K}g(H){_(this.H)||(this.H=[],this.R());const K=this.H;let fe,xe=0;for(const Ge of H)xe===K.length?K.push(fe=new $e(this.k(m()),this.k(m()),this,this.options)):fe=K[xe],fe.I(Ge),xe++;xe<K.length&&(this.R(fe&&fe.B.nextSibling,xe),K.length=xe)}R(H=this.A.nextSibling,K){var fe;for((fe=this.P)===null||fe===void 0||fe.call(this,!1,!0,K);H&&H!==this.B;){const xe=H.nextSibling;H.remove(),H=xe}}}class Re{constructor(H,K,fe,xe,Ge){this.type=1,this.H=L,this.N=void 0,this.V=void 0,this.element=H,this.name=K,this.M=xe,this.options=Ge,fe.length>2||fe[0]!==""||fe[1]!==""?(this.H=Array(fe.length-1).fill(L),this.strings=fe):this.H=L}get tagName(){return this.element.tagName}I(H,K=this,fe,xe){const Ge=this.strings;let Ee=!1;if(Ge===void 0)H=be(this,H,K,0),Ee=!b(H)||H!==this.H&&H!==k,Ee&&(this.H=H);else{const ue=H;let Ue,Pe;for(H=Ge[0],Ue=0;Ue<Ge.length-1;Ue++)Pe=be(this,ue[fe+Ue],K,Ue),Pe===k&&(Pe=this.H[Ue]),Ee||(Ee=!b(Pe)||Pe!==this.H[Ue]),Pe===L?H=L:H!==L&&(H+=(Pe??"")+Ge[Ue+1]),this.H[Ue]=Pe}Ee&&!xe&&this.W(H)}W(H){H===L?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,H??"")}}class ge extends Re{constructor(){super(...arguments),this.type=3}W(H){this.element[this.name]=H===L?void 0:H}}class we extends Re{constructor(){super(...arguments),this.type=4}W(H){H&&H!==L?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class He extends Re{constructor(){super(...arguments),this.type=5}I(H,K=this){var fe;if((H=(fe=be(this,H,K,0))!==null&&fe!==void 0?fe:L)===k)return;const xe=this.H,Ge=H===L&&xe!==L||H.capture!==xe.capture||H.once!==xe.once||H.passive!==xe.passive,Ee=H!==L&&(xe===L||Ge);Ge&&this.element.removeEventListener(this.name,this,xe),Ee&&this.element.addEventListener(this.name,this,H),this.H=H}handleEvent(H){var K,fe;typeof this.H=="function"?this.H.call((fe=(K=this.options)===null||K===void 0?void 0:K.host)!==null&&fe!==void 0?fe:this.element,H):this.H.handleEvent(H)}}class Je{constructor(H,K,fe){this.element=H,this.type=6,this.N=void 0,this.V=void 0,this.M=K,this.options=fe}I(H){be(this,H)}}(i=(r=globalThis).litHtmlPlatformSupport)===null||i===void 0||i.call(r,ce,$e),((s=(l=globalThis).litHtmlVersions)!==null&&s!==void 0?s:l.litHtmlVersions=[]).push("2.0.0-rc.2")},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.size="m"}static get styles(){return[s.a,r.b`
        :host {
          font-family: 'md-icons';
          line-height: 1;
          -webkit-font-smoothing: auto;
          text-rendering: optimizeLegibility;
          -moz-osx-font-smoothing: grayscale;
          font-feature-settings: 'liga';
          opacity: 0.9;
          color: var(--text-1);
          transition: var(--transition-1);
          height: max-content;
          width: max-content;
          min-height: max-content;
          min-width: max-content;
          overflow: hidden;
          background-repeat: no-repeat;
          background-position: center;
          background-size: contain;
        }
        :host([button]) {
          opacity: 0.6;
          cursor: pointer;
        }
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* size */
        :host([size='xl']) {
          height: 48px;
          width: 48px;
          font-size: 48px;
        }
        :host([size='l']) {
          height: 32px;
          width: 32px;
          font-size: 32px;
        }
        :host([size='m']) {
          height: 24px;
          width: 24px;
          font-size: 24px;
        }
        :host([size='s']) {
          height: 16px;
          width: 16px;
          font-size: 16px;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host([button]:hover:not(:active)) {
            opacity: 0.9;
          }
        }
      `]}render(){var a;return r.c` ${!((a=this.icon)===null||a===void 0)&&a.indexOf("url")?r.c` ${this.icon} `:""}`}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a=="color"&&this.color?this.style.color=this.color:a=="icon"&&f.indexOf("url")>-1&&this.setBackgroundImage(f)}setBackgroundImage(a){this.style.backgroundImage=a}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"color",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"size",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"button",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-icon")||window.customElements.define("kor-icon",o)},function(n,e,t){t.r(e);var r=t(4);t.d(e,"korIcon",function(){return r.a})},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.size="body-1"}static get styles(){return[s.a,r.b`
        :host {
          color: var(--text-1);
          transition: var(--transition-1);
        }
        :host([size='body-1']) {
          font: var(--body-1);
        }
        :host([size='body-2']) {
          font: var(--body-2);
        }
        :host([size='header-1']) {
          font: var(--header-1);
        }
        :host([size='header-2']) {
          font: var(--header-2);
        }
      `]}render(){return r.c`<slot></slot>`}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a=="color"&&this.color&&(this.style.color=this.color)}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"size",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"color",void 0),window.customElements.get("kor-text")||window.customElements.define("kor-text",o)},function(n,e,t){t.r(e);var r=t(6);t.d(e,"korText",function(){return r.a})},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.flexDirection="column",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          flex-direction: column;
          flex: 1;
          border-radius: var(--border-radius);
          box-sizing: border-box;
          overflow: hidden;
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host(:not([flat])) {
          background-color: rgb(var(--base-3));
          box-shadow: var(--shadow-1);
          padding: var(--spacing-l);
        }
        /* header */
        slot,
        .header,
        .top {
          display: flex;
          overflow: auto;
        }
        .header,
        slot[name='functions'] {
          height: max-content;
        }
        .header {
          flex: 1;
        }
        .top:not(.empty) {
          padding-bottom: var(--spacing-l);
        }
        slot[name='footer']:not(.empty) {
          padding-top: var(--spacing-l);
        }
        .label {
          flex: 1;
          display: flex;
          gap: var(--spacing-s);
        }
        .label p {
          font: var(--header-1);
          color: var(--text-1);
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          margin: unset;
        }
        /* slots */
        slot[name='functions'] {
          gap: var(--functions-gap);
        }
        slot[name='header'] {
          gap: var(--header-gap);
        }
        slot:not([name]) {
          gap: var(--spacing-m);
        }
        slot[name='header'],
        slot[name='functions'],
        slot[name='footer'] {
          align-items: center;
        }
        /* content */
        slot:not([name]) {
          flex: 1;
          width: 100%;
          padding: 0 var(--spacing-l);
          margin-right: calc(var(--spacing-l) * -1);
          margin-left: calc(var(--spacing-l) * -1);
          gap: var(--body-gap);
        }
        :host([flex-direction='column']) slot:not([name]),
        .header {
          flex-direction: column;
        }
        /* footer */
        slot[name='footer'] {
          justify-content: flex-end;
          gap: var(--footer-gap);
        }
        /* image */
        .image {
          width: calc(100% + 32px);
          margin: calc(var(--spacing-l) * -1) calc(var(--spacing-l) * -1)
            var(--spacing-l) calc(var(--spacing-l) * -1);
        }
      `]}render(){return r.c`
      ${this.image?r.c` <img class="image" src="${this.image}" /> `:""}
      <div
        class="top ${this.emptyHeader&&this.emptyFunctions&&!this.label&&!this.icon?"empty":""}"
      >
        <div class="header">
          ${this.label||this.icon?r.c`
                <div class="label">
                  ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
                  <p>${this.label}</p>
                </div>
                ${this.emptyHeader||!this.label&&!this.icon?"":r.c` <div style="margin-top: var(--spacing-l)"></div> `}
              `:""}
          <slot
            name="header"
            @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
            class="${this.emptyHeader?"empty":""}"
          ></slot>
        </div>
        <slot
          name="functions"
          @slotchange="${a=>this.emptyFunctions=a.target.assignedNodes().length===0}"
        ></slot>
      </div>
      <slot></slot>
      <slot
        name="footer"
        @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        class="${this.emptyFooter?"empty":""}"
      ></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"image",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"flat",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-card")||window.customElements.define("kor-card",o)},function(n,e,t){t.r(e);var r=t(8);t.d(e,"korCard",function(){return r.a})},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          z-index: 3;
          height: calc(24px + var(--spacing-l) * 2);
          padding: 0 var(--spacing-l);
          display: flex;
          align-items: center;
          overflow: hidden;
          background-color: rgb(var(--base-0));
          box-shadow: var(--shadow-1);
          transition: var(--transition-1);
          gap: calc(var(--spacing-l) * 2);
          /* css properties */
          --functions-gap: var(--spacing-m);
        }
        .logo {
          height: 24px;
        }
        .label {
          font: var(--header-1);
          color: var(--text-1);
          max-width: 320px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        /* mobile */
        :host[mobile] {
          gap: var(--spacing-l);
        }
        :host([mobile]) .label {
          flex: 1;
          max-width: unset;
          text-align: center;
        }
        /* slots */
        slot {
          display: flex;
          align-items: center;
        }
        slot:not([name]) {
          flex: 1;
        }
        slot[name='functions'] {
          gap: var(--functions-gap);
        }
        ::slotted(kor-tabs) {
          border-bottom: unset;
        }
        slot[name='right'],
        slot[name='left'] {
          min-width: 24px;
        }
        slot[name='right'] {
          margin-left: auto;
        }
      `]}render(){return r.c`
      ${this.mobile?r.c`
            <slot name="left"></slot>
            ${this.label?r.c` <div class="label">${this.label}</div> `:""}
            <slot name="right"></slot>
          `:r.c`
            ${this.logo?r.c`
                  <img
                    class="logo"
                    src="${this.logo}"
                    @click="${()=>this.handleLogoClick()}"
                  />
                `:""}
            ${this.label?r.c` <div class="label">${this.label}</div> `:""}
            <slot></slot>
            <slot name="functions"></slot>
          `}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}handleLogoClick(){this.dispatchEvent(new Event("logo-clicked"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"logo",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"mobile",void 0),window.customElements.get("kor-app-bar")||window.customElements.define("kor-app-bar",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(9),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.flexDirection="column",this.position="bottom",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          background-color: rgb(var(--base-4));
          border-radius: var(--border-radius);
          display: flex;
          box-shadow: var(--shadow-1);
          transition: var(--transition-1), 0s top, 0s left;
          position: fixed;
          opacity: 1;
          z-index: 4;
          width: 240px;
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host(:not([visible])) {
          opacity: 0;
          pointer-events: none;
        }
        :host([position^='bottom']:not([visible])) {
          margin-top: -8px;
        }
        :host([position^='top']:not([visible])) {
          margin-top: 8px;
        }
        :host([position^='right']:not([visible])) {
          margin-left: -8px;
        }
        :host([position^='left']:not([visible])) {
          margin-left: 8px;
        }
        kor-card {
          background-color: transparent;
          box-shadow: none;
          --body-gap: inherit;
          --header-gap: inherit;
          --functions-gap: inherit;
          --footer-gap: inherit;
        }
      `]}render(){return r.c`
      <kor-card
        @click="${a=>a.stopPropagation()}"
        @wheel="${a=>a.stopPropagation()}"
        .label="${this.label}"
        .icon="${this.icon}"
        flex-direction="${this.flexDirection}"
      >
        <slot
          name="header"
          slot="${this.emptyHeader?"hidden":"header"}"
          @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
        ></slot>
        <slot
          name="functions"
          slot="${this.emptyFunctions?"hidden":"functions"}"
          @slotchange="${a=>this.emptyFunctions=a.target.assignedNodes().length===0}"
        ></slot>
        <slot></slot>
        <slot
          name="footer"
          slot="${this.emptyFooter?"hidden":"footer"}"
          @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        ></slot>
      </kor-card>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a==="target"&&this.target?this.targetObserver():a==="visible"&&this.visible&&this.visibleObserver()}targetObserver(){const a=typeof this.target=="string"?document.querySelector(this.target):this.target;a&&a.addEventListener("click",()=>this.handlePosition(a))}visibleObserver(){const a=typeof this.target=="string"?document.querySelector(this.target):this.target;a&&(this.handlePosition(a),!this.sticky&&this.target&&this.addDocListener(a))}handlePosition(a){if(!a)return;let h=this,f=a.getBoundingClientRect();if(h.visible=!0,h.position.startsWith("bottom"))h.style.top=f.top+f.height+8+"px";else if(h.position.startsWith("top"))h.style.top=f.top-h.clientHeight-8+"px";else{h.style.top=f.top+f.height/2-h.clientHeight/2+"px",parseInt(h.style.top)<0&&(h.style.top="8px");const v=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);parseInt(h.style.top)+h.clientHeight>v&&(h.style.top=v-h.clientHeight-8+"px")}h.position.startsWith("right")?h.style.left=f.left+f.width+8+"px":h.position.startsWith("left")?h.style.left=f.left-h.clientWidth-8+"px":h.style.left=f.left+f.width/2-h.clientWidth/2+"px"}addDocListener(a){let h=f=>{(f.composedPath()[0]!==a&&f.target!==a&&f.type==="click"||f.type==="wheel")&&(this.visible=!1,document.removeEventListener("click",h),document.removeEventListener("wheel",h))};document.addEventListener("click",h),document.addEventListener("wheel",h)}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"position",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"target",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"visible",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"sticky",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-popover")||window.customElements.define("kor-popover",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(9),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.label="Label",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyBody=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host(:not([expanded])) kor-card {
          cursor: pointer;
        }
        kor-card {
          padding: var(--spacing-s) var(--spacing-l);
          --body-gap: inherit;
          --header-gap: inherit;
          --functions-gap: inherit;
          --footer-gap: inherit;
        }
        slot:not([name]) {
          transition: var(--transition-1);
          display: inherit;
          flex-direction: inherit;
          gap: inherit;
        }
        slot[name='footer'] {
          justify-content: flex-end;
        }
        /* expanded */
        :host([expanded]) slot:not([name]) {
          margin-top: var(--spacing-l);
        }
        :host(:not([expanded])) slot:not([name]) {
          max-height: 0px;
          opacity: 0;
          overflow: hidden;
        }
        :host([expanded]) .expand {
          transform: rotate(180deg);
        }
        .header {
          overflow: hidden;
          cursor: pointer;
          display: flex;
          flex: 1;
        }
        .icon {
          margin-right: var(--spacing-s);
        }
        slot[name='header'] p {
          font: var(--header-1);
          color: var(--text-1);
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          margin: unset;
          flex: 1;
        }
        /* disabled */
        :host([disabled]) .header {
          opacity: 0.2;
        }
        :host([disabled]) kor-card {
          pointer-events: none;
        }
      `]}render(){return r.c`
      <kor-card
        @click="${()=>this.expanded?"":this.expanded=!0}"
      >
        <slot
          name="header"
          slot="header"
          @click="${a=>this.handleCollapse(a)}"
        >
          <div class="header">
            ${this.icon?r.c` <kor-icon class="icon" icon="${this.icon}"></kor-icon> `:""}
            <p>${this.label}</p>
            <kor-icon
              button
              class="expand"
              icon="keyboard_arrow_down"
            ></kor-icon>
          </div>
        </slot>
        <slot name="functions" slot="functions"></slot>
        <slot></slot>
        ${this.expanded?r.c`
              <slot
                name="footer"
                slot="${this.emptyFooter?"hidden":"footer"}"
                @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
              ></slot>
            `:""}
      </kor-card>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),setTimeout(()=>{var a,h,f;const v=(f=(h=(a=this.shadowRoot)===null||a===void 0?void 0:a.querySelector("kor-card"))===null||h===void 0?void 0:h.shadowRoot)===null||f===void 0?void 0:f.querySelector(".top");v&&(v.style.padding="0")},0)}handleCollapse(a){this.expanded&&(this.expanded=!1,a.stopPropagation())}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"expanded",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyBody",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-accordion")||window.customElements.define("kor-accordion",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{static get styles(){return[s.a,r.b`
        :host,
        .image {
          display: flex;
          align-items: center;
        }
        .text {
          display: flex;
          flex-direction: column;
          justify-content: center;
          flex: 1;
          margin-left: var(--spacing-s);
          overflow: hidden;
        }
        .label,
        .info {
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
        .label {
          font-weight: bold;
        }
        .image {
          overflow: hidden;
          justify-content: center;
          font: var(--header-2);
          color: var(--text-1);
          height: 32px;
          width: 32px;
          border-radius: 50%;
          background: rgba(var(--neutral-1), 0.1);
        }
        .image > img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
        :host-context(kor-app-bar) {
          max-width: 288px;
        }
        /* condensed */
        :host([condensed]) .image {
          height: 24px;
          width: 24px;
        }
      `]}render(){return r.c`
      <!-- image -->
      <div class="image">
        ${this.image?r.c` <img src="${this.image}" /> `:r.c`
              ${this.label?r.c` ${this.getInitials(this.label)} `:r.c` <kor-icon icon="person"></kor-icon> `}
            `}
      </div>
      <!-- text -->
      ${this.label||this.info?r.c`
            <div class="text">
              ${this.label?r.c`<kor-text size="body-2" class="label"
                    >${this.label}</kor-text
                  >`:""}
              ${this.info?r.c`<kor-text
                    size="body-2"
                    class="info"
                    color="var(--text-2)"
                    >${this.info}</kor-text
                  >`:""}
            </div>
          `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}getInitials(a){const h=a.match(/\b\w/g)||[];return(h.shift()||"")+(h.pop()||"").toUpperCase()}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"info",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"image",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"condensed",void 0),window.customElements.get("kor-avatar")||window.customElements.define("kor-avatar",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          justify-content: center;
          box-sizing: border-box;
          width: max-content;
          min-width: 16px;
          padding: 0 4px;
          border-radius: 8px;
          background: rgb(var(--functional-blue));
        }
        :host(:not([label])) {
          padding: 4px;
          min-width: unset;
        }
        kor-text {
          color: white;
          font-weight: bold;
        }
        /* status */
        :host([status]) {
          background: transparent;
          padding: 0px;
        }
        .status-icon[icon='cancel'] {
          color: rgb(var(--functional-red));
        }
        .status-icon[icon='error'] {
          color: rgb(var(--functional-yellow));
        }
        .status-icon[icon='check_circle'] {
          color: rgb(var(--functional-green));
        }
      `]}render(){return r.c`
      ${this.status?r.c`
            <!-- status -->
            ${this.status?r.c`
                  <kor-icon
                    class="status-icon"
                    size="s"
                    icon="${this.getStatusIcon()}"
                  ></kor-icon>
                `:""}
          `:r.c`
            ${this.label?r.c`
                  <kor-text size="body-2">
                    ${this.label>999?r.c` 999+ `:r.c` ${this.label} `}
                  </kor-text>
                `:""}
          `}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}getStatusIcon(){let a;switch(this.status){case"error":a="cancel";break;case"warning":a="error";break;case"success":a="check_circle"}return a}}l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"status",void 0),window.customElements.get("kor-badge")||window.customElements.define("kor-badge",o)},function(n,e,t){t.d(e,"a",function(){return s});var r=t(0),i=t(2);class s extends r.a{static get styles(){return[i.a,r.b`
        :host {
          display: flex;
          width: 100%;
          height: max-content;
        }
      `]}render(){return r.c` <slot></slot> `}}window.customElements.get("kor-breadcrumbs")||window.customElements.define("kor-breadcrumbs",s)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.label="Label"}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          align-items: center;
        }
        kor-icon {
          pointer-events: none;
          margin: 0 var(--spacing-xs);
        }
        kor-text {
          color: var(--text-2);
          cursor: pointer;
          font-weight: bold;
        }
        :host([active]) kor-text {
          color: var(--text-1);
        }
        /* hover inputs */
        @media (hover: hover) {
          kor-text:hover:not(:active) {
            color: var(--text-1);
          }
        }
      `]}render(){return r.c`
      ${this.firstItem()?"":r.c`
            <kor-icon
              icon="keyboard_arrow_right"
              color="var(--text-2)"
            ></kor-icon>
          `}
      <kor-text>${this.label}</kor-text>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}firstItem(){var a;let h,f;return f=Array.prototype.slice.call((a=this.parentElement)===null||a===void 0?void 0:a.children),h=f.indexOf(this)==0,h}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),window.customElements.get("kor-breadcrumb-item")||window.customElements.define("kor-breadcrumb-item",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.color="primary"}static get styles(){return[s.a,r.b`
        :host {
          font: var(--header-2);
          color: var(--text-1);
          display: flex;
          gap: var(--spacing-xs);
          height: max-content;
          width: max-content;
          border-radius: var(--border-radius);
          cursor: pointer;
          transition: var(--transition-1);
          justify-content: center;
          user-select: none;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        :host([label]) {
          min-width: calc(24px + var(--spacing-l) * 2);
          max-width: 160px;
          padding: var(--spacing-xs) var(--spacing-m);
        }
        :host([color='tertiary'][label]) {
          padding: 3px 11px;
        }
        :host(:not([label])) {
          padding: var(--spacing-xs);
        }
        :host([color='tertiary']:not([label])) {
          padding: 3px;
        }
        /* idle */
        :host([color='primary']) {
          background-color: rgb(var(--accent-1));
        }
        :host([color='secondary']) {
          background-color: rgba(var(--neutral-1), 0.1);
        }
        :host([color='tertiary']) {
          border-width: 1px;
          border-style: solid;
          border-color: rgba(var(--neutral-1), 0.25);
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* text and icon colors */
        kor-icon {
          color: unset;
        }
        :host([color='primary']) {
          color: rgba(255, 255, 255, 0.9);
        }
        /* hover inputs */
        @media (hover: hover) {
          :host([color='primary']:not(:active):hover) {
            background-color: rgb(var(--accent-1b));
          }
          :host([color='secondary']:not(:active):hover) {
            background-color: rgba(var(--neutral-1), 0.15);
          }
          :host([color='tertiary']:not(:active):hover) {
            border-color: rgba(var(--neutral-1), 0.3);
            background-color: rgba(var(--neutral-1), 0.05);
          }
        }
      `]}render(){return r.c`
      <slot name="icon">
        ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
      </slot>
      <slot> ${this.label?r.c` ${this.label} `:""}</slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"color",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-button")||window.customElements.define("kor-button",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          cursor: pointer;
        }
        input {
          display: none;
        }
        /* box */
        .box {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 16px;
          height: 16px;
          margin: 4px;
          border-radius: 2px;
          box-sizing: border-box;
          border: 2px solid rgba(var(--neutral-1), 0.25);
          transition: var(--transition-1);
        }
        :host([active]) .box {
          border-color: transparent;
          background: rgb(var(--accent-1));
        }
        /* label */
        kor-text {
          flex: 1;
          margin-left: var(--spacing-s);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          pointer-events: none;
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not([active]):not(:active)) .box {
            border-color: rgba(var(--neutral-1), 0.3);
          }
        }
      `]}render(){return r.c`
      <input
        type="checkbox"
        ?checked="${this.active}"
        ?readonly="${this.disabled}"
        .value="${this.label}"
        .name="${this.label}"
        @change="${this.handleChange}"
      />
      <div class="box">
        ${this.active?r.c` <kor-icon icon="check" size="s" color="white"></kor-icon> `:""}
      </div>
      ${this.label?r.c` <kor-text>${this.label}</kor-text> `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),this.addEventListener("click",()=>{this.active=!this.active})}handleChange(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-checkbox")||window.customElements.define("kor-checkbox",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.spacing="m",this.orientation="horizontal"}static get styles(){return[s.a,r.b`
        :host([orientation='horizontal']) {
          width: 100%;
        }
        :host([orientation='vertical']) {
          height: 100%;
        }
        .line {
          background: rgba(var(--neutral-1), 0.25);
        }
        :host([orientation='horizontal']) .line {
          height: 1px;
          width: 100%;
        }
        :host([orientation='vertical']) .line {
          width: 1px;
          height: 100%;
        }
        /* spacing */
        :host([spacing='s'][orientation='horizontal']) {
          padding: var(--spacing-s) 0;
        }
        :host([spacing='m'][orientation='horizontal']) {
          padding: var(--spacing-l) 0;
        }
        :host([spacing='l'][orientation='horizontal']) {
          padding: calc(var(--spacing-l) * 2) 0;
        }
        :host([spacing='s'][orientation='vertical']) {
          padding: 0 var(--spacing-s);
        }
        :host([spacing='m'][orientation='vertical']) {
          padding: 0 var(--spacing-l);
        }
        :host([spacing='l'][orientation='vertical']) {
          padding: 0 calc(var(--spacing-s) * 2);
        }
      `]}render(){return r.c`<div class="line"></div>`}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"spacing",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"orientation",void 0),window.customElements.get("kor-divider")||window.customElements.define("kor-divider",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(9),t(5),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.position="left",this.height="320px",this.width="320px",this.flexDirection="column",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          transition: var(--transition-1), 0s top, 0s left;
          position: fixed;
          opacity: 1;
          z-index: 5;
          top: 0px;
          left: 0px;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host(:not([visible])) {
          opacity: 0;
          pointer-events: none;
        }
        kor-card {
          position: absolute;
          border-radius: 0px;
          background-color: rgb(var(--base-3));
          box-shadow: var(--shadow-1);
          transition: 0.2s all ease-out, 0s top, 0s left;
          --body-gap: inherit;
          --header-gap: inherit;
          --functions-gap: inherit;
          --footer-gap: inherit;
        }
        /* position */
        :host([position='left']) kor-card {
          left: 0;
        }
        :host([position='right']) kor-card {
          right: 0;
        }
        :host([position='top']) kor-card {
          top: 0;
        }
        :host([position='bottom']) kor-card {
          bottom: 0;
        }
        /* animations */
        :host([position='left']:not([visible])) kor-card {
          margin-left: -40px;
        }
        :host([position='right']:not([visible])) kor-card {
          margin-right: -40px;
        }
        :host([position='top']:not([visible])) kor-card {
          margin-top: -40px;
        }
        :host([position='bottom']:not([visible])) kor-card {
          margin-bottom: -40px;
        }
      `]}render(){return r.c`
      <kor-card
        @click="${a=>a.stopPropagation()}"
        style="height: ${this.getCardSize().height}; width: ${this.getCardSize().width}; max-height: ${this.getCardSize().height}; max-width: ${this.getCardSize().width}"
        .label="${this.label}"
        .icon="${this.icon}"
        flex-direction="${this.flexDirection}"
      >
        <slot
          name="header"
          slot="${this.emptyHeader?"hidden":"header"}"
          @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
        ></slot>
        <slot name="functions" slot="functions">
          ${this.sticky?"":r.c`
                <kor-icon
                  button
                  icon="close"
                  @click="${()=>this.visible=!1}"
                ></kor-icon>
              `}
        </slot>
        <slot></slot>
        <slot
          name="footer"
          slot="${this.emptyFooter?"hidden":"footer"}"
          @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        ></slot>
      </kor-card>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a==="visible"&&this.visible&&this.addEventListener("click",()=>this.sticky?"":this.visible=!1)}getCardSize(){let a={height:void 0,width:void 0};switch(this.position){case"left":case"right":a.height="100%",a.width=this.width;break;case"top":case"bottom":a.height=this.height,a.width="100%"}return a}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"position",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"height",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"width",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"visible",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"sticky",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-drawer")||window.customElements.define("kor-drawer",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          height: 100%;
          width: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          /* css properties */
          --footer-gap: var(--spacing-m);
        }
        slot[name='footer'] {
          display: flex;
          margin-top: var(--spacing-l);
          gap: var(--footer-gap);
        }
        kor-icon + kor-text {
          margin-top: var(--spacing-s);
        }
        kor-text {
          text-align: center;
        }
      `]}render(){return r.c`
      ${this.icon?r.c`
            <kor-icon
              icon="${this.icon}"
              size="xl"
              color="var(--text-2)"
            ></kor-icon>
          `:""}
      ${this.label?r.c` <kor-text color="var(--text-2)">${this.label}</kor-text> `:""}
      <slot name="footer"></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),window.customElements.get("kor-empty-state")||window.customElements.define("kor-empty-state",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.columns=12,this.spacing="m"}static get styles(){return[s.a,r.b`
        :host {
          display: grid;
          grid-template-columns: repeat(12, 1fr);
        }
        :host(:not([fit-content])) {
          height: 100%;
          width: 100%;
        }
        ::slotted(*) {
          width: auto;
          min-width: 0;
          min-height: 0;
        }
        /* spacing */
        :host([spacing='s']) {
          grid-gap: var(--spacing-s);
        }
        :host([spacing='m']) {
          grid-gap: var(--spacing-m);
        }
        :host([spacing='l']) {
          grid-gap: var(--spacing-l);
        }
        /* columns and rows */
        ::slotted(*[grid-cols='0']) {
          display: none;
        }
        ::slotted(*:not([grid-cols])),
        ::slotted(*[grid-cols='1']) {
          grid-column: span 1;
        }
        ::slotted(*[grid-cols='2']) {
          grid-column: span 2;
        }
        ::slotted(*[grid-cols='3']) {
          grid-column: span 3;
        }
        ::slotted(*[grid-cols='4']) {
          grid-column: span 4;
        }
        ::slotted(*[grid-cols='5']) {
          grid-column: span 5;
        }
        ::slotted(*[grid-cols='6']) {
          grid-column: span 6;
        }
        ::slotted(*[grid-cols='7']) {
          grid-column: span 7;
        }
        ::slotted(*[grid-cols='8']) {
          grid-column: span 8;
        }
        ::slotted(*[grid-cols='9']) {
          grid-column: span 9;
        }
        ::slotted(*[grid-cols='10']) {
          grid-column: span 10;
        }
        ::slotted(*[grid-cols='11']) {
          grid-column: span 11;
        }
        ::slotted(*[grid-cols='12']) {
          grid-column: span 12;
        }
        ::slotted(*:not([grid-rows])),
        ::slotted(*[grid-rows='1']) {
          grid-row: span 1;
        }
        ::slotted(*[grid-rows='2']) {
          grid-row: span 2;
        }
        ::slotted(*[grid-rows='3']) {
          grid-row: span 3;
        }
        ::slotted(*[grid-rows='4']) {
          grid-row: span 4;
        }
        ::slotted(*[grid-rows='5']) {
          grid-row: span 5;
        }
        ::slotted(*[grid-rows='6']) {
          grid-row: span 6;
        }
        ::slotted(*[grid-rows='7']) {
          grid-row: span 7;
        }
        ::slotted(*[grid-rows='8']) {
          grid-row: span 8;
        }
        ::slotted(*[grid-rows='9']) {
          grid-row: span 9;
        }
        ::slotted(*[grid-rows='10']) {
          grid-row: span 10;
        }
        ::slotted(*[grid-rows='11']) {
          grid-row: span 11;
        }
        ::slotted(*[grid-rows='12']) {
          grid-row: span 12;
        }
        /* tablet */
        @media only screen and (max-width: 1025px) {
          ::slotted(*[grid-cols-m='0']) {
            display: none;
          }
          ::slotted(*[grid-cols-m='1']) {
            grid-column: span 1;
          }
          ::slotted(*[grid-cols-m='2']) {
            grid-column: span 2;
          }
          ::slotted(*[grid-cols-m='3']) {
            grid-column: span 3;
          }
          ::slotted(*[grid-cols-m='4']) {
            grid-column: span 4;
          }
          ::slotted(*[grid-cols-m='5']) {
            grid-column: span 5;
          }
          ::slotted(*[grid-cols-m='6']) {
            grid-column: span 6;
          }
          ::slotted(*[grid-cols-m='7']) {
            grid-column: span 7;
          }
          ::slotted(*[grid-cols-m='8']) {
            grid-column: span 8;
          }
          ::slotted(*[grid-cols-m='9']) {
            grid-column: span 9;
          }
          ::slotted(*[grid-cols-m='10']) {
            grid-column: span 10;
          }
          ::slotted(*[grid-cols-m='11']) {
            grid-column: span 11;
          }
          ::slotted(*[grid-cols-m='12']) {
            grid-column: span 12;
          }
          ::slotted(*[grid-rows-m='1']) {
            grid-row: span 1;
          }
          ::slotted(*[grid-rows-m='2']) {
            grid-row: span 2;
          }
          ::slotted(*[grid-rows-m='3']) {
            grid-row: span 3;
          }
          ::slotted(*[grid-rows-m='4']) {
            grid-row: span 4;
          }
          ::slotted(*[grid-rows-m='5']) {
            grid-row: span 5;
          }
          ::slotted(*[grid-rows-m='6']) {
            grid-row: span 6;
          }
          ::slotted(*[grid-rows-m='7']) {
            grid-row: span 7;
          }
          ::slotted(*[grid-rows-m='8']) {
            grid-row: span 8;
          }
          ::slotted(*[grid-rows-m='9']) {
            grid-row: span 9;
          }
          ::slotted(*[grid-rows-m='10']) {
            grid-row: span 10;
          }
          ::slotted(*[grid-rows-m='11']) {
            grid-row: span 11;
          }
          ::slotted(*[grid-rows-m='12']) {
            grid-row: span 12;
          }
        }
        /* tablet */
        @media only screen and (max-width: 767px) {
          ::slotted(*[grid-cols-s='0']) {
            display: none;
          }
          ::slotted(*[grid-cols-s='1']) {
            grid-column: span 1;
          }
          ::slotted(*[grid-cols-s='2']) {
            grid-column: span 2;
          }
          ::slotted(*[grid-cols-s='3']) {
            grid-column: span 3;
          }
          ::slotted(*[grid-cols-s='4']) {
            grid-column: span 4;
          }
          ::slotted(*[grid-cols-s='5']) {
            grid-column: span 5;
          }
          ::slotted(*[grid-cols-s='6']) {
            grid-column: span 6;
          }
          ::slotted(*[grid-cols-s='7']) {
            grid-column: span 7;
          }
          ::slotted(*[grid-cols-s='8']) {
            grid-column: span 8;
          }
          ::slotted(*[grid-cols-s='9']) {
            grid-column: span 9;
          }
          ::slotted(*[grid-cols-s='10']) {
            grid-column: span 10;
          }
          ::slotted(*[grid-cols-s='11']) {
            grid-column: span 11;
          }
          ::slotted(*[grid-cols-s='12']) {
            grid-column: span 12;
          }
          ::slotted(*[grid-rows-s='1']) {
            grid-row: span 1;
          }
          ::slotted(*[grid-rows-s='2']) {
            grid-row: span 2;
          }
          ::slotted(*[grid-rows-s='3']) {
            grid-row: span 3;
          }
          ::slotted(*[grid-rows-s='4']) {
            grid-row: span 4;
          }
          ::slotted(*[grid-rows-s='5']) {
            grid-row: span 5;
          }
          ::slotted(*[grid-rows-s='6']) {
            grid-row: span 6;
          }
          ::slotted(*[grid-rows-s='7']) {
            grid-row: span 7;
          }
          ::slotted(*[grid-rows-s='8']) {
            grid-row: span 8;
          }
          ::slotted(*[grid-rows-s='9']) {
            grid-row: span 9;
          }
          ::slotted(*[grid-rows-s='10']) {
            grid-row: span 10;
          }
          ::slotted(*[grid-rows-s='11']) {
            grid-row: span 11;
          }
          ::slotted(*[grid-rows-s='12']) {
            grid-row: span 12;
          }
        }
      `]}render(){return r.c`<slot></slot>`}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a==="columns"?this.style.gridTemplateColumns=`repeat(${this.columns}, 1fr)`:a==="rows"&&(this.style.gridTemplateRows=`repeat(${this.rows}, 1fr)`)}}l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"columns",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"rows",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"spacing",void 0),window.customElements.get("kor-grid")||window.customElements.define("kor-grid",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.width="100%",this.fit="contain"}static get styles(){return[s.a,r.b`
        :host {
          position: relative;
          max-width: max-content;
          display: flex;
          flex-direction: column;
          font: var(--body-2);
          color: var(--text-1);
        }
        /* legend */
        kor-text {
          width: 100%;
          color: unset;
          font: unset;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
        :host(:not([legend-position])) kor-text {
          margin-top: var(--spacing-s);
        }
        :host([legend-position^='inner-']) kor-text {
          position: absolute;
          padding: var(--spacing-s);
          box-sizing: border-box;
        }
        :host([legend-position='inner-top']) kor-text {
          top: 0;
          background-image: linear-gradient(
            rgba(0, 0, 0, 0.8),
            rgba(0, 0, 0, 0.6),
            rgba(0, 0, 0, 0)
          );
        }
        :host([legend-position='inner-bottom']) kor-text {
          bottom: 0;
          background-image: linear-gradient(
            rgba(0, 0, 0, 0),
            rgba(0, 0, 0, 0.6),
            rgba(0, 0, 0, 0.8)
          );
        }
        /* slots */
        slot {
          display: flex;
          justify-content: flex-end;
          gap: var(--spacing-s);
          position: absolute;
          padding: var(--spacing-xs);
          box-sizing: border-box;
          width: 100%;
          overflow: hidden;
        }
        slot[name='top'] {
          top: 0;
        }
        :host([legend][legend-position='inner-top']) slot[name='top'] {
          top: 24px;
        }
        slot[name='bottom'] {
          bottom: 0;
        }
        :host([legend]:not([legend-position])) slot[name='bottom'],
        :host([legend][legend-position='inner-bottom']) slot[name='bottom'] {
          bottom: 24px;
        }
      `]}render(){return r.c`
      <img
        src="${this.src}"
        alt="${this.alt}"
        width="${this.width}"
        height="${this.height}"
        style="object-fit: ${this.fit}"
      />
      ${this.legend?r.c` <kor-text>${this.legend}</kor-text> `:""}
      <slot name="top"></slot>
      <slot name="bottom"></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"src",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"alt",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"height",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"width",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"fit",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"legend",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"legend-position"})],o.prototype,"legendPosition",void 0),window.customElements.get("kor-image")||window.customElements.define("kor-image",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.label="Label",this.toggle=!0}static get styles(){return[s.a,r.b`
        :host {
          padding: var(--spacing-s) 0;
          border-radius: var(--border-radius);
          display: flex;
          cursor: pointer;
          transition: var(--transition-1);
          overflow: visible;
        }
        kor-icon {
          margin-right: var(--spacing-s);
        }
        .label {
          flex: 1;
        }
        /* label */
        kor-text {
          flex: 1;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          pointer-events: none;
        }
        slot[name='functions']::slotted(*) {
          margin-left: var(--spacing-s);
        }
        :host([active]) {
          padding: var(--spacing-s);
          margin-left: calc(var(--spacing-s) * -1);
          margin-right: calc(var(--spacing-s) * -1);
          background: rgba(var(--neutral-1), 0.1);
        }
        /* disabled */
        :host([disabled]) {
          opacity: 0.2;
          pointer-events: none;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:not([active]):hover) {
            padding: var(--spacing-s);
            margin-left: calc(var(--spacing-s) * -1);
            margin-right: calc(var(--spacing-s) * -1);
            background: rgba(var(--neutral-1), 0.05);
          }
        }
      `]}render(){return r.c`
      ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
      ${this.label?r.c` <kor-text>${this.label}</kor-text> `:""}
      <!-- functions slot -->
      <slot name="functions"></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a=="toggle"&&this.toggle&&this.addEventListener("click",()=>{this.active=!this.active})}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"toggle",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-menu-item")||window.customElements.define("kor-menu-item",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(9),t(5),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.height="400px",this.width="600px",this.flexDirection="column",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          transition: var(--transition-1), 0s top, 0s left;
          position: fixed;
          opacity: 1;
          z-index: 5;
          top: 0px;
          left: 0px;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
          display: flex;
          align-items: center;
          justify-content: center;
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host(:not([visible])) {
          opacity: 0;
          pointer-events: none;
        }
        :host(:not([visible])) kor-card {
          margin-bottom: -40px;
        }
        kor-card {
          background-color: rgb(var(--base-3));
          box-shadow: var(--shadow-1);
          transition: 0.2s all ease-out, 0s top, 0s left;
          --body-gap: inherit;
          --header-gap: inherit;
          --functions-gap: inherit;
          --footer-gap: inherit;
        }
      `]}render(){return r.c`
      <kor-card
        @click="${a=>a.stopPropagation()}"
        style="height: ${this.height}; width: ${this.width}; max-height: ${this.height}; max-width: ${this.width}"
        .label="${this.label}"
        .icon="${this.icon}"
        flex-direction="${this.flexDirection}"
      >
        <slot
          name="header"
          slot="${this.emptyHeader?"hidden":"header"}"
          @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
        ></slot>
        <slot name="functions" slot="functions">
          ${this.sticky?"":r.c`
                <kor-icon
                  button
                  icon="close"
                  @click="${()=>this.visible=!1}"
                ></kor-icon>
              `}
        </slot>
        <slot></slot>
        <slot
          name="footer"
          slot="${this.emptyFooter?"hidden":"footer"}"
          @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        ></slot>
      </kor-card>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a==="visible"&&this.visible&&this.addEventListener("click",()=>this.sticky?"":this.visible=!1)}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"height",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"width",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"visible",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"sticky",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-modal")||window.customElements.define("kor-modal",o)},function(n,e,t){t.d(e,"a",function(){return s});var r=t(0),i=t(2);t(27);class s extends r.a{static get styles(){return[i.a,r.b`
        :host {
          z-index: 2;
        }
        kor-app-bar {
          background-color: rgb(var(--base-2));
        }
      `]}render(){return r.c`
      <kor-app-bar>
        <slot></slot>
        <slot name="functions" slot="functions"></slot>
      </kor-app-bar>
    `}}window.customElements.get("kor-nav-bar")||window.customElements.define("kor-nav-bar",s)},function(n,e,t){t.r(e);var r=t(10);t.d(e,"korAppBar",function(){return r.a})},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.position="top-right"}static get styles(){return[s.a,r.b`
        :host {
          position: fixed;
          display: flex;
          flex-direction: column;
          max-height: 100%;
          box-sizing: border-box;
          padding: var(--spacing-l);
          margin: 0;
          width: 320px;
          z-index: 6;
          pointer-events: none;
          /* css properties */
          --body-gap: var(--spacing-m);
        }
        slot:not([name]) {
          gap: var(--body-gap);
          display: flex;
          flex-direction: column;
        }
        ::slotted(*) {
          pointer-events: all;
        }
        :host([position^='top']) {
          top: 0px;
        }
        :host([position^='bottom']) {
          flex-flow: column-reverse;
          bottom: 0px;
        }
        :host([position$='left']) {
          left: 0px;
        }
        :host([position$='right']) {
          right: 0px;
        }
      `]}render(){return r.c`<slot></slot>`}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"position",void 0),window.customElements.get("kor-notifications")||window.customElements.define("kor-notifications",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(9),t(5),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.flexDirection="column",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          transition: var(--transition-1);
          opacity: 1;
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host(:not([visible])) {
          opacity: 0;
          pointer-events: none;
          max-height: 0px;
          overflow: hidden;
          margin-top: 0;
          margin-bottom: 0;
        }
        kor-card {
          background: rgb(var(--base-4));
          --body-gap: inherit;
          --header-gap: inherit;
          --functions-gap: inherit;
          --footer-gap: inherit;
        }
        :host(:not([visible]):host-context([position$='right'])) {
          margin-left: 8px;
          margin-right: -8px;
        }
        :host(:not([visible]):host-context([position$='left'])) {
          margin-left: -8px;
          margin-right: 8px;
        }
      `]}render(){return r.c`
      <kor-card
        @click="${a=>a.stopPropagation()}"
        .label="${this.label}"
        .icon="${this.icon}"
        flex-direction="${this.flexDirection}"
      >
        <slot
          name="header"
          slot="${this.emptyHeader?"hidden":"header"}"
          @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
        ></slot>
        <slot name="functions" slot="functions">
          ${this.sticky?"":r.c`
                <kor-icon
                  button
                  icon="close"
                  @click="${()=>this.visible=!1}"
                ></kor-icon>
              `}
        </slot>
        <slot></slot>
        <slot
          name="footer"
          slot="${this.emptyFooter?"hidden":"footer"}"
          @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        ></slot>
      </kor-card>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"visible",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"sticky",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-notification-item")||window.customElements.define("kor-notification-item",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.padding="var(--spacing-l)",this.flexDirection="row"}static get styles(){return[s.a,r.b`
        :host {
          height: 100%;
          width: 100%;
          box-sizing: border-box;
          display: flex;
          flex-direction: column;
          background-color: rgb(var(--base-1));
        }
        :host([flat]) {
          background-color: rgb(var(--base-3));
        }
        .center-wrapper,
        slot {
          display: flex;
        }
        .center-wrapper,
        slot:not([name]) {
          flex: 1;
          overflow: hidden;
        }
        :host([scrollable]) slot:not([name]) {
          overflow: auto;
        }
        slot[name='top'],
        slot[name='bottom'],
        :host([flex-direction='column']) slot:not([name]) {
          flex-direction: column;
        }
      `]}render(){return r.c`
      <slot name="top"></slot>
      <div class="center-wrapper">
        <slot name="left"></slot>
        <slot style="padding: ${this.padding}"></slot>
        <slot name="right"></slot>
      </div>
      <slot name="bottom"></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"theme",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"padding",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"flat",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"scrollable",void 0),window.customElements.get("kor-page")||window.customElements.define("kor-page",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(9),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.flexDirection="column",this.size="l",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          background-color: rgb(var(--base-2));
          display: flex;
          box-shadow: var(--shadow-1);
          transition: 0.1s width ease-out;
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host([size='l']) {
          width: 320px;
        }
        :host([size='m']) {
          width: 120px;
        }
        :host([size='s']) {
          width: 80px;
        }
        kor-card {
          background-color: transparent;
          box-shadow: none;
          --body-gap: inherit;
          --header-gap: inherit;
          --functions-gap: inherit;
          --footer-gap: inherit;
        }
      `]}render(){return r.c`
      <kor-card
        label="${this.label?this.label:""}"
        icon="${this.icon?this.icon:""}"
        flex-direction="${this.flexDirection}"
      >
        <slot></slot>
        <slot
          name="header"
          slot="${this.emptyHeader?"":"header"}"
          @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
        ></slot>
        <slot
          name="functions"
          slot="${this.emptyFunctions?"":"functions"}"
          @slotchange="${a=>this.emptyFunctions=a.target.assignedNodes().length===0}"
        ></slot>
        <slot
          name="footer"
          slot="${this.emptyFooter?"":"footer"}"
          @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        ></slot>
      </kor-card>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"size",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-pane")||window.customElements.define("kor-pane",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.size="m"}static get styles(){return[s.a,r.b`
        :host {
          width: 100%;
          display: flex;
          flex-direction: column;
        }
        .header,
        .footer {
          display: flex;
          align-items: center;
        }
        .label,
        .info {
          flex: 1;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .header {
          margin-bottom: var(--spacing-s);
        }
        .footer {
          margin-top: var(--spacing-s);
        }
        /* radial */
        :host([radial]) {
          align-items: center;
          justify-content: center;
        }
        .radial-wrapper {
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
        }
        .radial-wrapper kor-text {
          position: absolute;
          width: 100%;
          text-align: center;
        }
        .radial {
          transform: rotate(-90deg);
        }
        circle {
          fill: transparent;
          stroke-width: 8px;
        }
        /* status */
        .status-icon {
          margin-right: var(--spacing-s);
        }
        .status-icon[icon='cancel'] {
          color: rgb(var(--functional-red));
        }
        .status-icon[icon='error'] {
          color: rgb(var(--functional-yellow));
        }
        .status-icon[icon='check_circle'] {
          color: rgb(var(--functional-green));
        }
      `]}render(){return r.c`
      <!-- header -->
      ${this.label||this.showProgress?r.c`
            <div class="header">
              <kor-text size="header-2" class="label">${this.label}</kor-text>
              ${this.showProgress&&!this.radial?r.c` <kor-text size="header-2">${this.value}%</kor-text> `:""}
            </div>
          `:""}
      ${this.radial?r.c`
            <!-- radial -->
            <div class="radial-wrapper">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="radial"
                width="${this.getSize()}"
                viewBox="0 0 ${this.getSize()} ${this.getSize()}"
              >
                <circle
                  stroke="rgba(var(--neutral-1), .1)"
                  r="${this.getSize()/2-4}"
                  cx="${this.getSize()/2}"
                  cy="${this.getSize()/2}"
                />
                <circle
                  stroke="${this.color?this.color:"rgb(var(--accent-1))"}"
                  stroke-dasharray="${2*Math.PI*(this.getSize()/2-4)}"
                  stroke-dashoffset="${2*Math.PI*(this.getSize()/2-4)*(1-(this.value?this.value/100:0))}"
                  r="${this.getSize()/2-4}"
                  cx="${this.getSize()/2}"
                  cy="${this.getSize()/2}"
                />
              </svg>
              ${this.showProgress?r.c` <kor-text size="header-2">${this.value}%</kor-text> `:""}
            </div>
          `:r.c`
            <!-- linear -->
            <svg width="100%" height="8">
              <defs>
                <clipPath id="clip-path">
                  <rect width="100%" height="8px" rx="4px" />
                </clipPath>
              </defs>
              <rect
                fill="rgba(var(--neutral-1), .1)"
                width="100%"
                height="100%"
                rx="4px"
              />
              <rect
                fill="${this.color?this.color:"rgb(var(--accent-1))"}"
                width="${this.value}%"
                height="100%"
                clip-path="url(#clip-path)"
              />
            </svg>
          `}
      ${this.info||this.status?r.c`
            <div class="footer">
              <!-- status -->
              ${this.status?r.c`
                    <kor-icon
                      class="status-icon"
                      .icon="${this.getStatusIcon()}"
                    ></kor-icon>
                  `:""}
              <!-- info -->
              ${this.info?r.c`
                    <kor-text color="var(--text-2)" class="info"
                      >${this.info}</kor-text
                    >
                  `:""}
            </div>
          `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}getStatusIcon(){let a;switch(this.status){case"error":a="cancel";break;case"warning":a="error";break;case"success":a="check_circle"}return a}getSize(){let a;switch(this.size){case"s":a=48;break;case"m":a=64;break;case"l":a=80;break;default:a=0}return a}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"info",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"status",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"color",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"size",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"value",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"radial",void 0),l([Object(i.a)({type:Boolean,reflect:!0,attribute:"show-progress"})],o.prototype,"showProgress",void 0),window.customElements.get("kor-progress-bar")||window.customElements.define("kor-progress-bar",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          cursor: pointer;
        }
        input {
          display: none;
        }
        /* box */
        .circle {
          transition: var(--transition-1);
          display: flex;
          align-items: center;
          justify-content: center;
          width: 16px;
          height: 16px;
          margin: 4px;
          border-radius: 50%;
          box-sizing: border-box;
          border: 2px solid rgba(var(--neutral-1), 0.25);
        }
        :host([active]) .circle {
          border-color: transparent;
          border: 5px solid rgb(var(--accent-1));
        }
        /* label */
        kor-text {
          flex: 1;
          margin-left: var(--spacing-s);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          pointer-events: none;
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not([active])) .circle {
            border-color: rgba(var(--neutral-1), 0.3);
          }
        }
      `]}render(){return r.c`
      <input
        type="radio"
        ?checked="${this.active}"
        .value="${this.label}"
        .name="${this.label}"
        @change="${this.handleChange}"
      />
      <div class="circle"></div>
      ${this.label?r.c` <kor-text>${this.label}</kor-text> `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),this.addEventListener("click",()=>this.handleActive())}handleChange(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}handleActive(){var a;let h=(a=this.parentElement)===null||a===void 0?void 0:a.childNodes;h==null||h.forEach(f=>{f.active=!1}),this.active=!0}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-radio-button")||window.customElements.define("kor-radio-button",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.value=50,this.min=0,this.max=100,this.step=1}static get styles(){return[s.a,r.b`
        .track {
          width: 100%;
          height: 2px;
          margin: var(--spacing-l) 0;
          background-color: rgba(var(--neutral-1), 0.2);
          position: relative;
        }
        .thumb {
          padding: 10px;
          position: absolute;
          top: -15px;
          margin-left: cal(var(--spacing-l) * -1);
          cursor: pointer;
        }
        .thumb > div {
          height: 12px;
          width: 12px;
          border-radius: 50%;
          background-color: rgb(var(--accent-1));
          transition: 0.1s all ease-out;
        }
        .thumb:hover > div {
          background-color: rgb(var(--accent-1b));
        }
        /* input */
        input {
          background: none;
          border: none;
          outline: none;
          -webkit-appearance: none;
          font: var(--body-1);
          color: var(--text-1);
          background-color: rgba(var(--neutral-1), 0.05);
          border-radius: 2px;
          box-sizing: border-box;
          padding: 0 4px;
          width: 40px;
        }
        input[type='number']::-webkit-inner-spin-button,
        input[type='number']::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type='number'] {
          -moz-appearance: textfield;
        }
        .label {
          display: flex;
        }
        .label kor-text {
          flex: 1;
        }
        .label > * + * {
          margin-left: var(--spacing-s);
        }
      `]}render(){return r.c`
      ${this.label?r.c`
            <div class="label">
              <kor-text>${this.label}</kor-text>
              ${this.input?r.c`
                    <input
                      type="number"
                      .value="${this.value}"
                      @blur="${a=>this.handleInput(parseFloat(a.target.value))}"
                      @keypress="${a=>a.key==="Enter"?this.handleInput(parseFloat(a.target.value)):""}"
                    />
                  `:""}
            </div>
          `:""}
      <div class="track">
        <div
          class="thumb"
          @mousedown="${a=>this.handleThumbDrag(a)}"
          @touchstart="${a=>this.handleThumbDrag(a)}"
        >
          <div></div>
        </div>
      </div>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a!=="value"&&a!=="min"&&a!=="max"||this.handleThumbPosition()}firstUpdated(){this.handleThumbPosition()}handleInput(a){a>=this.min&&a<=this.max?this.value=a:a<this.min?this.value=this.min:a>this.max&&(this.value=this.max)}handleThumbPosition(){var a;const h=(a=this.shadowRoot)===null||a===void 0?void 0:a.querySelector(".thumb"),f=(this.value-this.min)/(this.max-this.min)*100;h&&f>=0&&f<=100&&(h.style.left=f+"%")}handleThumbDrag(a){const h=this.shadowRoot.querySelector(".track").clientWidth/(this.max-this.min)*this.step;let f=a.type==="mousedown"?a.clientX:a.touches[0].clientX;const v=b=>{b.preventDefault();const _=b.type==="mousemove"?b.clientX:b.touches[0].clientX,E=_-f;if(E>h||-1*E>h){const S=Math.floor(E<0?-1*E:E),N=Math.round(S/h),D=E>0?this.value+this.step*N:this.value-this.step*N;D<=this.max&&D>=this.min&&(this.value=D,f=_)}},m=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("touchmove",v),window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m)};window.addEventListener("mousemove",v),window.addEventListener("touchmove",v),window.addEventListener("mouseup",m),window.addEventListener("touchend",m)}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"value",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"min",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"max",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"step",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"input",void 0),window.customElements.get("kor-slider")||window.customElements.define("kor-slider",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.size="m"}static get styles(){return[s.a,r.b`
        :host {
          width: 100%;
          height: 100%;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
        }
        svg {
          animation: 1s linear infinite svg-animation;
        }
        @keyframes svg-animation {
          0% {
            transform: rotateZ(0deg);
          }
          100% {
            transform: rotateZ(360deg);
          }
        }
        circle {
          fill: transparent;
          stroke: rgb(var(--accent-1));
          stroke-linecap: round;
          stroke-width: 4px;
        }
        /* label */
        kor-text {
          margin-top: var(--spacing-s);
          text-align: center;
          max-width: 240px;
        }
      `]}render(){return r.c`
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="${this.getSize()}"
        viewBox="0 0 ${this.getSize()} ${this.getSize()}"
      >
        <circle
          stroke-dasharray="${this.getSize()}"
          r="${this.getSize()/2-4}"
          cx="${this.getSize()/2}"
          cy="${this.getSize()/2}"
        />
      </svg>
      ${this.label?r.c` <kor-text>${this.label}</kor-text> `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}getSize(){let a;switch(this.size){case"s":a=24;break;case"m":a=32;break;case"l":a=40}return a}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"size",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),window.customElements.get("kor-spinner")||window.customElements.define("kor-spinner",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.orientation="horizontal"}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          width: 100%;
          height: max-content;
          overflow: auto;
        }
        /* vertical */
        :host([orientation='vertical']) {
          flex-direction: column;
        }
      `]}render(){return r.c`
      <slot
        @slotchange="${()=>{this.handleOrientation(),this.handleItems()}}"
      ></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}handleOrientation(){this.childNodes.forEach(a=>{a.orientation=this.orientation})}handleItems(){let a,h;a=Array.prototype.slice.call(this.children),h=this.children.length,a.forEach(f=>{f.first=f.index==1,f.last=f.index==h})}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"orientation",void 0),window.customElements.get("kor-stepper")||window.customElements.define("kor-stepper",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.orientation="horizontal"}static get styles(){return[s.a,r.b`
        :host {
          position: relative;
          flex: 1;
          display: flex;
          align-items: center;
          box-sizing: border-box;
          transition: var(--transition-1);
          cursor: pointer;
        }
        .circle {
          height: 40px;
          width: 40px;
          box-sizing: border-box;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-s);
          border-radius: 50%;
          background-color: rgba(var(--neutral-1), 0.1);
          transition: var(--transition-1);
        }
        .text {
          display: flex;
          flex-direction: column;
        }
        .label {
          font-weight: bold;
        }
        .info {
          color: var(--text-2);
        }
        .label,
        .info {
          width: 100%;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .label,
        .number,
        kor-icon {
          color: var(--text-2);
        }
        /* line */
        .line {
          background-color: rgba(var(--neutral-1), 0.1);
          position: absolute;
        }
        /* horizontal */
        :host([orientation='horizontal']) {
          justify-content: center;
          flex-direction: column;
          padding: 0 var(--spacing-l);
        }
        :host([orientation='horizontal']) .label,
        :host([orientation='horizontal']) .info {
          text-align: center;
        }
        :host([orientation='horizontal']) .circle + .text {
          margin-top: var(--spacing-xs);
        }
        :host([orientation='horizontal']) .line {
          height: 2px;
          width: calc(50% - 28px);
          top: 19px;
        }
        :host([orientation='horizontal']) .line.before {
          left: 0px;
        }
        :host([orientation='horizontal']) .line.after {
          right: 0px;
        }
        /* vertical */
        :host([orientation='vertical']) {
          justify-content: flex-start;
          flex-direction: row;
          width: 100%;
          height: max-content;
          padding: var(--spacing-l) 0;
        }
        :host([orientation='vertical']) .label,
        :host([orientation='vertical']) .info {
          text-align: left;
        }
        :host([orientation='vertical']) .circle + .text {
          margin-left: var(--spacing-s);
        }
        :host([orientation='vertical']) .line {
          width: 2px;
          height: calc(50% - 28px);
          left: 19px;
        }
        :host([orientation='vertical']) .line.before {
          top: 0px;
        }
        :host([orientation='vertical']) .line.after {
          bottom: 0px;
        }
        /* active */
        :host([active]) .circle {
          background-color: rgb(var(--accent-1));
        }
        :host([active]) .label {
          color: var(--text-1);
        }
        :host([active]) .number,
        :host([active]) kor-icon {
          color: rgba(255, 255, 255, 0.9);
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
        }
        :host([disabled]) .circle,
        :host([disabled]) .text {
          opacity: 0.2;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not([active])) .label,
          :host(:hover:not([active])) .number,
          :host(:hover:not([active])) kor-icon {
            color: var(--text-1);
          }
          :host(:not([active]):not(:active):hover) .circle {
            background-color: rgba(var(--neutral-1), 0.15);
          }
          :host([active]:not(:active):hover) .circle {
            background-color: rgb(var(--accent-1b));
          }
        }
      `]}render(){return r.c`
      <!-- circle -->
      <div class="circle">
        ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:r.c`
              <kor-text size="header-1" class="number">${this.index}</kor-text>
            `}
      </div>
      <!-- text -->
      <div class="text">
        ${this.label?r.c` <kor-text class="label">${this.label}</kor-text> `:""}
        ${this.info?r.c` <kor-text size="body-2" class="info">${this.info}</kor-text> `:""}
      </div>
      <!-- lines -->
      ${this.first?"":r.c` <div class="line before"></div> `}
      ${this.last?"":r.c` <div class="line after"></div> `}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),this.getIndex(),this.addEventListener("click",()=>{var a;((a=this.parentElement)===null||a===void 0?void 0:a.childNodes).forEach(h=>{h.active=!1}),this.active=!0})}getIndex(){var a;let h;h=Array.prototype.slice.call((a=this.parentElement)===null||a===void 0?void 0:a.children),this.index=h.indexOf(this)+1}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"info",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"index",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"first",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"last",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"orientation",void 0),window.customElements.get("kor-stepper-item")||window.customElements.define("kor-stepper-item",o)},function(n,e,t){t.d(e,"a",function(){return s});var r=t(0),i=t(2);class s extends r.a{static get styles(){return[i.a,r.b`
        :host {
          background-color: rgba(var(--neutral-1), 0.1);
          display: flex;
          width: max-content;
          height: max-content;
          border-radius: var(--border-radius);
        }
      `]}render(){return r.c` <slot></slot> `}attributeChangedCallback(o,u,a){super.attributeChangedCallback(o,u,a),this.dispatchEvent(new Event(o+"-changed"))}}window.customElements.get("kor-switch")||window.customElements.define("kor-switch",s)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          width: max-content;
          min-width: 40px;
          max-width: 120px;
          padding: var(--spacing-xs) var(--spacing-m);
          border-radius: var(--border-radius);
          cursor: pointer;
          align-items: center;
          justify-content: center;
          transition: var(--transition-1);
        }
        .label {
          user-select: none;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .label,
        kor-icon {
          color: var(--text-2);
        }
        /* active */
        :host([active]) .label,
        :host([active]) kor-icon {
          color: var(--text-1);
        }
        :host([active]) {
          background: rgba(var(--neutral-1), 0.1);
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:not([active]):hover) {
            background: rgba(var(--neutral-1), 0.05);
          }
          :host([active]:hover) {
            background: rgba(var(--neutral-1), 0.15);
          }
        }
      `]}render(){return r.c`
      ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
      ${this.label&&!this.icon?r.c` <kor-text class="label">${this.label}</kor-text> `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),this.addEventListener("click",()=>this.handleActive())}handleActive(){var a;((a=this.parentElement)===null||a===void 0?void 0:a.childNodes).forEach(h=>{h.active=!1}),this.active=!0}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-switch-item")||window.customElements.define("kor-switch-item",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.orientation="horizontal"}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          align-items: center;
          box-sizing: border-box;
          transition: var(--transition-1);
          cursor: pointer;
          border-color: transparent;
          border-style: solid;
          color: var(--text-2);
        }
        .label {
          line-height: 24px;
          font-weight: bold;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .label,
        kor-icon {
          color: unset;
        }
        /* horizontal */
        :host([orientation='horizontal']) {
          flex-direction: column;
          justify-content: center;
          width: max-content;
          min-width: 72px;
          max-width: 240px;
          height: calc(24px + var(--spacing-l) * 2);
          padding: 0px var(--spacing-l);
          border-width: 0px 0px 2px 0px;
        }
        :host([orientation='horizontal']) .label {
          text-align: center;
        }
        /* vertical */
        :host([orientation='vertical']) .label {
          text-align: left;
        }
        :host([orientation='vertical']) {
          justify-content: flex-start;
          flex-direction: row;
          width: 100%;
          min-width: unset;
          max-width: 100%;
          height: max-content;
          padding: var(--spacing-s) var(--spacing-s) var(--spacing-s)
            calc(var(--spacing-l) - 2px);
          border-width: 0px 0px 0px 2px;
        }
        :host([orientation='vertical']) {
          gap: var(--spacing-s);
        }
        /* active */
        :host([active]) {
          border-color: rgb(var(--accent-1));
        }
        :host([active]) {
          color: var(--text-1);
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover) .label {
            color: var(--text-1);
          }
        }
      `]}render(){return r.c`
      <slot>
        ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
        ${this.label?r.c` <kor-text class="label">${this.label}</kor-text> `:""}
      </slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),this.addEventListener("click",()=>this.handleActive())}handleActive(){var a;((a=this.closest("kor-tabs"))===null||a===void 0?void 0:a.querySelectorAll("kor-tab-item")).forEach(h=>{h.active=!1}),this.active=!0}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"orientation",void 0),window.customElements.get("kor-tab-item")||window.customElements.define("kor-tab-item",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.columns="repeat(24, 1fr)"}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          flex-direction: column;
          max-height: 100%;
          margin: 0 !important;
        }
        slot {
          display: block;
        }
        slot:not([name]) {
          flex: 1;
          overflow: auto;
        }
      `]}render(){return r.c`
      <slot name="header"></slot>
      <slot></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"readonly",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"condensed",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"columns",void 0),window.customElements.get("kor-table")||window.customElements.define("kor-table",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.orientation="horizontal"}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          width: 100%;
          height: max-content;
        }
        :host([slot='header']) {
          margin-top: calc(var(--spacing-l) * -1);
        }
        :host(:not([orientation='vertical'])) {
          border-bottom: 1px solid rgba(var(--neutral-1), 0.1);
        }
        /* vertical */
        :host([orientation='vertical']) {
          flex-direction: column;
        }
      `]}render(){return r.c`
      <slot @slotchange="${()=>this.handleOrientation()}"></slot>
    `}handleOrientation(){this.childNodes.forEach(a=>{a.orientation=this.orientation})}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"orientation",void 0),window.customElements.get("kor-tabs")||window.customElements.define("kor-tabs",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.label="Label"}static get styles(){return[s.a,r.b`
        :host {
          padding: var(--spacing-xs);
          display: flex;
          height: max-content;
          width: max-content;
          max-width: 160px;
          border-radius: var(--border-radius);
          border: 1px solid rgba(var(--neutral-1), 0.25);
          transition: var(--transition-1);
        }
        .label {
          margin: 0 var(--spacing-xs);
        }
        /* button */
        :host([button]) {
          cursor: pointer;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host([button]:not(:active):hover) {
            border-color: rgba(var(--neutral-1), 0.3);
            background-color: rgba(var(--neutral-1), 0.05);
          }
        }
      `]}render(){return r.c`
      <!-- icon -->
      ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
      <!-- label -->
      ${this.label?r.c` <kor-text class="label">${this.label}</kor-text> `:""}
      <!-- removable -->
      ${this.removable?r.c`
            <kor-icon
              icon="close"
              button
              @click="${()=>this.handleRemove()}"
            ></kor-icon>
          `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}handleRemove(){this.dispatchEvent(new Event("remove"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"button",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"removable",void 0),window.customElements.get("kor-tag")||window.customElements.define("kor-tag",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(),this.rows=1,this.autofocus=!1,this.addEventListener("click",()=>{var a,h;this.active=!0,(h=(a=this.shadowRoot)===null||a===void 0?void 0:a.querySelector("textarea"))===null||h===void 0||h.focus()})}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          align-items: center;
          min-height: 40px;
          border-width: 0px 0px 1px 0px;
          border-style: solid;
          border-color: rgba(var(--neutral-1), 0.2);
          border-radius: 2px;
          box-sizing: border-box;
          padding: var(--spacing-xs) var(--spacing-s)
            calc(var(--spacing-xs) - 1px) var(--spacing-s);
          width: 100%;
          overflow: visible;
          background-color: rgba(var(--neutral-1), 0.05);
          position: relative;
        }
        :host,
        .label,
        textarea {
          transition: var(--transition-1);
        }
        .center {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          overflow: hidden;
        }
        textarea {
          background: none;
          border: none;
          padding: 0px;
          outline: none;
          font: var(--body-1);
          color: var(--text-1);
          resize: none;
        }
        textarea::-webkit-scrollbar {
          display: none;
        }
        /* active */
        :host([active]) {
          border-color: rgba(var(--neutral-1), 0.6);
        }
        :host([active]) .label {
          color: rgb(var(--accent-1));
        }
        /* disabled */
        :host([disabled]) {
          opacity: 0.2;
        }
        :host([disabled]),
        :host([readonly]) {
          pointer-events: none;
        }
        /* readonly */
        :host([readonly]) {
          background: transparent;
        }
        /* label */
        .label {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          font: var(--body-1);
          color: var(--text-2);
          pointer-events: none;
        }
        :host([value]) .label,
        :host([active]) .label {
          font: var(--body-2);
        }
        textarea,
        .label {
          line-height: 16px;
        }
        /* clear */
        .clear-icon {
          transition: var(--transition-1), 0.1s opacity ease-out 0.1s;
        }
        :host(:not(:hover):not([active])) .clear-icon {
          transition: var(--transition-1), 0.1s width ease-out 0.1s,
            0.1s margin ease-out 0.1s;
          font-size: 0;
          max-width: 0px;
          max-height: 0px;
          opacity: 0;
          margin-left: 0;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not([active])) {
            border-color: rgba(var(--neutral-1), 0.4);
          }
        }
      `]}render(){return r.c`
      <div class="center">
        ${this.label?r.c` <label class="label">${this.label}</label> `:""}
        <textarea
          .value="${this.value!==void 0?this.value:""}"
          .rows="${this.rows}"
          .columns="${this.rows}"
          ?autofocus="${this.autofocus}"
          ?disabled="${this.disabled}"
          ?readonly="${this.readonly}"
          @focus="${()=>this.active=!0}"
          @blur="${()=>this.active=!1}"
          @input="${this.handleChange}"
        ></textarea>
      </div>
    `}handleChange(a){this.value=a.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}handleClear(){this.value=void 0,this.removeAttribute("value")}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"value",void 0),l([Object(i.a)({type:Number,reflect:!0})],o.prototype,"rows",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"readonly",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"autofocus",void 0),window.customElements.get("kor-textarea")||window.customElements.define("kor-textarea",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          cursor: pointer;
        }
        input {
          display: none;
        }
        /* toggle */
        .bg {
          width: 32px;
          height: 20px;
          margin: 2px;
          padding: 2px;
          border-radius: 12px;
          box-sizing: border-box;
          border: 2px solid rgba(var(--neutral-1), 0.25);
          transition: var(--transition-1);
        }
        :host([active]) .bg {
          border-color: transparent;
          background: rgb(var(--accent-1));
        }
        .dot {
          display: flex;
          transition: var(--transition-1);
          height: 12px;
          width: 12px;
          border-radius: 50%;
          background: rgba(var(--neutral-1), 0.6);
        }
        :host([active]) .dot {
          transform: translateX(12px);
          background: white;
        }
        /* label */
        kor-text {
          flex: 1;
          margin-left: var(--spacing-s);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          pointer-events: none;
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not(:active):not([active])) .bg {
            border-color: rgba(var(--neutral-1), 0.3);
          }
          :host(:hover:not(:active):not([active])) .dot {
            background: rgba(var(--neutral-1), 0.9);
          }
        }
      `]}render(){return r.c`
      <input
        type="checkbox"
        ?checked="${this.active}"
        ?readonly="${this.disabled}"
        .value="${this.label}"
        .name="${this.label}"
        @change="${this.handleChange}"
      />
      <div class="bg">
        <div class="dot"></div>
      </div>
      ${this.label?r.c` <kor-text>${this.label}</kor-text> `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),this.addEventListener("click",()=>{this.active=!this.active})}handleChange(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-toggle")||window.customElements.define("kor-toggle",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.size="m"}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          width: max-content;
          padding: var(--spacing-xs);
          box-sizing: border-box;
          transition: var(--transition-1);
          cursor: pointer;
          border-radius: var(--border-radius);
        }
        .label {
          display: -webkit-box;
          width: 100%;
          line-height: 12px;
          text-align: center;
          overflow: hidden;
          text-overflow: ellipsis;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }
        /* size */
        :host([size='m']) {
          height: 56px;
          width: 56px;
        }
        :host([size='s']) {
          height: 32px;
          width: 32px;
        }
        /* active */
        :host([active]) {
          background-color: rgba(var(--neutral-1), 0.1);
        }
        /* disabled */
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:not(:active):not([active]):hover) {
            background-color: rgba(var(--neutral-1), 0.05);
          }
        }
      `]}render(){return r.c`
      ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
      ${!this.label||this.icon&&this.size=="s"?"":r.c` <kor-text class="label" size="body-2">${this.label}</kor-text> `}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a=="toggle"&&this.toggle&&this.addEventListener("click",()=>{this.active=!this.active})}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"size",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"toggle",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-tool")||window.customElements.define("kor-tool",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(48),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.flexDirection="column",this.position="bottom",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          position: fixed;
          z-index: 4;
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        kor-popover {
          --body-gap: inherit;
          --header-gap: inherit;
          --functions-gap: inherit;
          --footer-gap: inherit;
        }
      `]}render(){return r.c`
      <kor-popover
        .label="${this.label}"
        .icon="${this.icon}"
        flex-direction="${this.flexDirection}"
        .target="${this.target}"
        .position="${this.position}"
        ?visible="${this.visible}"
      >
        <slot
          name="header"
          slot="${this.emptyHeader?"hidden":"header"}"
          @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
        ></slot>
        <slot
          name="functions"
          slot="${this.emptyFunctions?"hidden":"functions"}"
          @slotchange="${a=>this.emptyFunctions=a.target.assignedNodes().length===0}"
        ></slot>
        <slot></slot>
        <slot
          name="footer"
          slot="${this.emptyFooter?"hidden":"footer"}"
          @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        ></slot>
      </kor-popover>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a==="target"&&this.target&&this.targetObserver()}targetObserver(){let a;const h=typeof this.target=="string"?document.querySelector(this.target):this.target;h&&(h.addEventListener("mouseover",()=>{a=setTimeout(()=>this.visible=!0,500)}),h.addEventListener("mouseout",()=>{this.visible=!1,clearTimeout(a)}))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"position",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"target",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"visible",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-tooltip")||window.customElements.define("kor-tooltip",o)},function(n,e,t){t.r(e);var r=t(11);t.d(e,"korPopover",function(){return r.a})},function(n,e,t){t.d(e,"a",function(){return a});var r=t(0),i=t(3);const s=h=>h??i.c;var l=t(1),o=t(2),u=(t(9),t(5),function(h,f,v,m){var b,_=arguments.length,E=_<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,v):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,f,v,m);else for(var S=h.length-1;S>=0;S--)(b=h[S])&&(E=(_<3?b(E):_>3?b(f,v,E):b(f,v))||E);return _>3&&E&&Object.defineProperty(f,v,E),E});class a extends r.a{constructor(){super(),this.type="text",this.autofocus=!1,this.step=1,this.addEventListener("click",f=>{var v,m;this.active&&this.type==="select"?this.closeSelectMenu(f):this.active||(this.active=!0,this.type==="select"||this.disabled||this.readonly||(m=(v=this.shadowRoot)===null||v===void 0?void 0:v.querySelector("input"))===null||m===void 0||m.focus())})}static get styles(){return[o.a,r.b`
        :host {
          display: flex;
          align-items: center;
          min-height: 40px;
          border-width: 0px 0px 1px 0px;
          border-style: solid;
          border-color: rgba(var(--neutral-1), 0.2);
          border-radius: 2px;
          box-sizing: border-box;
          padding: 0 8px;
          width: 100%;
          overflow: visible;
          background-color: rgba(var(--neutral-1), 0.05);
          position: relative;
        }
        :host,
        .label,
        input {
          transition: var(--transition-1);
        }
        .center {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          overflow: hidden;
        }
        input {
          background: none;
          border: none;
          box-shadow: none;
          padding: 0px;
          outline: none;
          -webkit-appearance: none;
          font: var(--body-1);
          color: var(--text-1);
          max-height: 16px;
        }
        input[type='number']::-webkit-inner-spin-button,
        input[type='number']::-webkit-outer-spin-button,
        input[type='search']::-webkit-search-decoration,
        input[type='search']::-webkit-search-cancel-button,
        input[type='search']::-webkit-search-results-button,
        input[type='search']::-webkit-search-results-decoration {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type='number'] {
          -moz-appearance: textfield;
        }
        /* active */
        :host([active]) {
          border-color: rgb(var(--accent-1));
        }
        :host([active]) .label {
          color: rgb(var(--accent-1));
        }
        /* disabled */
        :host([disabled]) {
          opacity: 0.2;
        }
        :host([disabled]),
        :host([readonly]) {
          pointer-events: none;
        }
        /* readonly */
        :host([readonly]) {
          background: transparent;
        }
        /* condensed */
        :host([condensed]) {
          min-height: 32px;
        }
        :host([condensed][value]:not([value=''])) .label,
        :host([condensed][active]) .label {
          display: none;
        }
        /* icon */
        :host([icon]) .icon {
          margin-right: var(--spacing-s);
        }
        /* label */
        .label {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          font: var(--body-1);
          color: var(--text-2);
          pointer-events: none;
        }
        :host([value]:not([value=''])) .label,
        :host([active]) .label {
          font: var(--body-2);
        }
        :host(:not([value]):not([active]):not([type='date'])) input,
        :host([value='']:not([active]):not([type='date'])) input {
          max-height: 0px;
        }
        input,
        .label {
          line-height: 16px;
        }
        /* clear */
        .clear-icon {
          transition: var(--transition-1), 0.1s opacity ease-out 0.1s;
        }
        :host(:not(:hover):not([active])) .clear-icon {
          transition: var(--transition-1), 0.1s width ease-out 0.1s,
            0.1s margin ease-out 0.1s;
          font-size: 0;
          max-width: 0px;
          max-height: 0px;
          opacity: 0;
          margin-left: 0;
        }
        /* status */
        .clear-icon,
        .status-icon,
        .increment-icon,
        .select-icon,
        slot[name='functions']::slotted(*) {
          margin-left: var(--spacing-s);
        }
        .status-icon[icon='cancel'] {
          color: rgb(var(--functional-red));
        }
        .status-icon[icon='error'] {
          color: rgb(var(--functional-yellow));
        }
        .status-icon[icon='check_circle'] {
          color: rgb(var(--functional-green));
        }
        /* select */
        :host([type='select']),
        :host([type='select']) * {
          cursor: pointer !important;
        }
        :host([type='text']) .center,
        :host([type='number']) .center {
          cursor: text;
        }
        :host([active]) .select-icon {
          transform: rotate(180deg);
        }
        .select-menu {
          position: fixed;
          max-height: 240px;
          z-index: 3;
          padding: 0px var(--spacing-l);
          background-color: rgb(var(--base-4));
        }
        slot:not([name]) {
          display: block;
          margin: 0 calc(var(--spacing-s) * -1);
        }
        slot:not([name])::slotted(*) {
          margin-bottom: 0;
        }
        /* date */
        .date-icon {
          margin-left: -24px;
          pointer-events: none;
        }
        :host([type='date']) ::-webkit-calendar-picker-indicator {
          background: unset;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not([active])) {
            border-color: rgba(var(--neutral-1), 0.4);
          }
        }
      `]}render(){return r.c`
      ${this.icon?r.c` <kor-icon class="icon" icon="${this.icon}"></kor-icon> `:""}
      <div class="center">
        ${this.label?r.c` <label class="label">${this.label}</label> `:""}
        <input
          .type="${this.type}"
          .value="${this.value?this.value:""}"
          .step="${this.step.toString()}"
          ?autofocus="${this.autofocus}"
          ?readonly="${this.readonly||this.disabled||this.type==="select"}"
          min="${s(this.min)}"
          max="${s(this.max)}"
          pattern="${s(this.pattern)}"
          name="${s(this.name)}"
          @input="${this.handleChange}"
          @focus="${()=>this.type==="select"||this.active?"":this.active=!0}"
          @blur="${this.handleBlur}"
        />
      </div>
      <!-- select -->
      ${this.type==="select"?r.c`
            <kor-icon
              button
              class="select-icon"
              icon="arrow_drop_down"
            ></kor-icon>
            ${this.active?r.c`
                  <kor-card
                    @click="${f=>{this.active=!1,f.stopPropagation()}}"
                    @wheel="${f=>f.stopPropagation()}"
                    class="select-menu"
                    .style="
                  top: ${this.getMenuStyles().top};
                  left: ${this.getMenuStyles().left};
                  width: ${this.getMenuStyles().width};
                "
                  >
                    <slot @slotchange="${this.handleItems}"></slot>
                  </kor-card>
                `:""}
          `:""}
      <!-- date -->
      ${this.type==="date"?r.c` <kor-icon button class="date-icon" icon="event"></kor-icon> `:""}
      <!-- clear -->
      ${this.disabled||this.readonly||!this.value||this.noClear||this.type==="select"?"":r.c`
            <kor-icon
              button
              class="clear-icon"
              icon="close"
              @click="${this.handleClear}"
            ></kor-icon>
          `}
      <!-- status -->
      ${this.status?r.c`
            <kor-icon
              class="status-icon"
              .icon="${this.getStatusIcon()}"
            ></kor-icon>
          `:""}
      <!-- number increment -->
      ${this.type!=="number"||this.readonly?"":r.c`
            <kor-icon
              button
              class="increment-icon"
              icon="keyboard_arrow_left"
              @click="${()=>this.handleIncrement("left")}"
            ></kor-icon>
            <kor-icon
              button
              class="increment-icon"
              icon="keyboard_arrow_right"
              @click="${()=>this.handleIncrement("right")}"
            ></kor-icon>
          `}
      <!-- functions slot -->
      <slot name="functions"></slot>
    `}handleChange(f){this.value=f.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}handleClear(){this.value=void 0,this.removeAttribute("value"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}handleBlur(f){this.type==="number"&&this.validateMinMax(f.target.value),this.type!=="select"&&(this.active=!1)}handleIncrement(f){f==="left"?this.validateMinMax(parseInt(this.value?this.value:this.min?this.min:"0")-this.step):f==="right"&&this.validateMinMax(parseInt(this.value?this.value:this.min?this.min:"0")+this.step)}handleItems(f){const v=f.target.assignedNodes();v.forEach(m=>{m.tagName==="KOR-MENU-ITEM"&&m.addEventListener("active-changed",b=>{b.target.active&&(v.forEach(_=>{_.active=!1}),b.target.active=!0,this.value=m.label,this.active=!1)})})}attributeChangedCallback(f,v,m){super.attributeChangedCallback(f,v,m),this.dispatchEvent(new Event(f+"-changed")),f==="active"&&this.active&&this.type==="select"&&this.handleMenu()}handleMenu(){const f=this.parentElement,v=()=>{this.active=!1,f==null||f.removeEventListener("wheel",v)};f==null||f.addEventListener("wheel",v)}closeSelectMenu(f){this.type==="select"&&this.active&&(f.stopImmediatePropagation(),this.active=!1)}validateMinMax(f){f&&(this.min&&f<parseInt(this.min)?this.value=this.min:this.max&&f>parseInt(this.max)?this.value=this.max:this.value=f.toString())}getStatusIcon(){let f;switch(this.status){case"error":f="cancel";break;case"warning":f="error";break;case"success":f="check_circle"}return f}getMenuStyles(){return{top:this.getBoundingClientRect().top+this.clientHeight+1+"px",left:this.getBoundingClientRect().left+"px",width:this.clientWidth+"px"}}}u([Object(l.a)({type:String,reflect:!0})],a.prototype,"label",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"icon",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"value",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"name",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"type",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"status",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"condensed",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"active",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"disabled",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"readonly",void 0),u([Object(l.a)({type:Boolean,reflect:!0,attribute:"no-clear"})],a.prototype,"noClear",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"autofocus",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"pattern",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"min",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"max",void 0),u([Object(l.a)({type:Number,reflect:!0})],a.prototype,"step",void 0),window.customElements.get("kor-input")||window.customElements.define("kor-input",a)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{static get styles(){return[s.a,r.b`
        :host {
          display: grid;
          border-bottom: 1px solid rgba(var(--neutral-1), 0.15);
          transition: var(--transition-1);
        }
        /* header */
        :host([slot='header']) {
          border-color: rgba(var(--neutral-1), 0.4);
        }
        /* active */
        :host([active]) {
          background-color: rgba(var(--neutral-1), 0.1);
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not([active]):not([slot='header'])) {
            background-color: rgba(var(--neutral-1), 0.05);
          }
          :host(:hover:not([active])):host-context(kor-table[readonly]) {
            background-color: transparent;
          }
        }
      `]}render(){return r.c` <slot></slot> `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}connectedCallback(){super.connectedCallback(),this.addEventListener("click",()=>this.handleActive()),this.handleColumns()}handleActive(){var a,h;let f,v;f=this.closest("kor-table"),!((a=f)===null||a===void 0)&&a.readonly||this.slot=="header"||(v=(h=this.parentElement)===null||h===void 0?void 0:h.childNodes,v==null||v.forEach(m=>{m.active=!1}),this.active=!0)}handleColumns(){const a=this.closest("kor-table");this.style.gridTemplateColumns=a.columns,a==null||a.addEventListener("columns-changed",()=>{this.style.gridTemplateColumns=a.columns})}}l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"active",void 0),window.customElements.get("kor-table-row")||window.customElements.define("kor-table-row",o)},function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),t(7),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.alignment="left"}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          align-items: center;
          padding: var(--spacing-m) var(--spacing-s);
          font: var(--body-1);
          overflow: hidden;
          cursor: default;
        }
        kor-text {
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
        /* condensed */
        :host:host-context(kor-table[condensed]) {
          padding: var(--spacing-s);
        }
        /* head */
        :host([head]) kor-text {
          font-weight: bold;
        }
        /* align */
        :host([alignment='center']) {
          justify-content: center;
        }
        :host([alignment='right']) {
          justify-content: flex-end;
        }
        /* sortable */
        :host([sortable]) {
          cursor: pointer;
        }
        :host([sort-direction='desc']) .sort {
          transform: rotate(180deg);
        }
        .sort {
          margin: var(--spacing-xs) 0px var(--spacing-xs) var(--spacing-xs);
          color: var(--text-2);
        }
      `]}render(){return r.c`
      <kor-text>
        <slot></slot>
      </kor-text>
      ${this.head&&this.sorted?r.c`
            <kor-icon size="s" icon="arrow_downward" class="sort"></kor-icon>
          `:""}
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a=="grid-cols"&&(this.style.gridColumn="span "+this.gridCols),a=="sortable"&&this.sortable&&(this.sortDirection||(this.sortDirection="asc"),this.addEventListener("click",()=>{this.handleSort()}))}handleSort(){var a;if(this.sorted)this.sortDirection=this.sortDirection=="asc"?"desc":"asc";else{let h=(a=this.parentElement)===null||a===void 0?void 0:a.childNodes;h==null||h.forEach(f=>{f.sorted=!1}),this.sorted=!0,this.sortDirection="asc"}}}l([Object(i.a)({type:Number,reflect:!0,attribute:"grid-cols"})],o.prototype,"gridCols",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"alignment",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"head",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"sorted",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"sortable",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"sort-direction"})],o.prototype,"sortDirection",void 0),window.customElements.get("kor-table-cell")||window.customElements.define("kor-table-cell",o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(n,e,t){t.r(e),t.d(e,"korAccordion",function(){return r.a}),t.d(e,"korAppBar",function(){return i.a}),t.d(e,"korAvatar",function(){return s.a}),t.d(e,"korBadge",function(){return l.a}),t.d(e,"korBreadcrumbs",function(){return o.a}),t.d(e,"korBreadcrumbItem",function(){return u.a}),t.d(e,"korButton",function(){return a.a}),t.d(e,"korCard",function(){return h.a}),t.d(e,"korCheckbox",function(){return f.a}),t.d(e,"korDivider",function(){return v.a}),t.d(e,"korDrawer",function(){return m.a}),t.d(e,"korEmptyState",function(){return b.a}),t.d(e,"korGrid",function(){return _.a}),t.d(e,"korImage",function(){return E.a}),t.d(e,"korIcon",function(){return S.a}),t.d(e,"korInput",function(){return N.a}),t.d(e,"korMenuItem",function(){return D.a}),t.d(e,"korModal",function(){return F.a}),t.d(e,"korNavbar",function(){return X.a}),t.d(e,"korNotifications",function(){return j.a}),t.d(e,"korNotificationItem",function(){return Y.a}),t.d(e,"korPage",function(){return ae.a}),t.d(e,"korPane",function(){return $.a}),t.d(e,"korPopover",function(){return k.a}),t.d(e,"korProgressBar",function(){return L.a}),t.d(e,"korRadioButton",function(){return z.a}),t.d(e,"korSlider",function(){return Q.a}),t.d(e,"korSpinner",function(){return G.a}),t.d(e,"korStepper",function(){return oe.a}),t.d(e,"korStepperItem",function(){return ce.a}),t.d(e,"korSwipeActions",function(){return $e}),t.d(e,"korSwipeAction",function(){return we}),t.d(e,"korSwitch",function(){return He.a}),t.d(e,"korSwitchItem",function(){return Je.a}),t.d(e,"korTabItem",function(){return ke.a}),t.d(e,"korTable",function(){return H.a}),t.d(e,"korTableRow",function(){return K.a}),t.d(e,"korTableCell",function(){return fe.a}),t.d(e,"korTabs",function(){return xe.a}),t.d(e,"korTag",function(){return Ge.a}),t.d(e,"korText",function(){return Ee.a}),t.d(e,"korTextarea",function(){return ue.a}),t.d(e,"korToggle",function(){return Ue.a}),t.d(e,"korTool",function(){return Pe.a}),t.d(e,"korTooltip",function(){return ot.a});var r=t(12),i=t(10),s=t(13),l=t(14),o=t(15),u=t(16),a=t(17),h=t(8),f=t(18),v=t(19),m=t(20),b=t(21),_=t(22),E=t(23),S=t(4),N=t(49),D=t(24),F=t(25),X=t(26),j=t(28),Y=t(29),ae=t(30),$=t(31),k=t(11),L=t(32),z=t(33),Q=t(34),G=t(35),oe=t(36),ce=t(37),be=t(0),Ne=t(2);class $e extends be.a{static get styles(){return[Ne.a,be.b`
        :host {
          display: flex;
          overflow: auto;
          scroll-snap-type: x mandatory;
          overflow-x: scroll;
        }
        slot[name] {
          display: flex;
          transition: 0.1s opacity ease-out;
        }
        slot:not([name]) {
          min-width: 100%;
          display: block;
          scroll-snap-align: start;
        }
      `]}render(){return be.c`
      <slot
        name="left"
        @slotchange="${Oe=>this.setSlotWidth(Oe.target)}"
      ></slot>
      <slot></slot>
      <slot
        name="right"
        @slotchange="${Oe=>this.setSlotWidth(Oe.target)}"
      ></slot>
    `}connectedCallback(){super.connectedCallback(),this.addEventListener("touchend",this.handleTouchEnd),this.addEventListener("scroll",this.setSlotOpacity)}setSlotWidth(Oe){Oe.assignedNodes().length>0?Oe.style.minWidth="100%":Oe.style.minWidth="unset"}handleTouchEnd(){const Oe=this.scrollLeft-this.clientWidth;Oe<this.clientWidth/3*-1?this.dispatchEvent(new Event("swipe-left")):Oe>this.clientWidth/3&&this.dispatchEvent(new Event("swipe-right"))}setSlotOpacity(){var Oe,Ye;const it=(Oe=this.shadowRoot)===null||Oe===void 0?void 0:Oe.querySelector('slot[name="left"]'),gt=(Ye=this.shadowRoot)===null||Ye===void 0?void 0:Ye.querySelector('slot[name="right"]'),Yt=this.scrollLeft-this.clientWidth;it&&(it.style.opacity=-1*Yt/this.clientWidth*3>1?1:.5),gt&&(gt.style.opacity=1*Yt/this.clientWidth*3>1?1:.5)}getSlotOpacity(Oe){const Ye=Oe==="left"?-1:1,it=(this.scrollLeft-this.clientWidth)*Ye/this.clientWidth*3;return it>1?1:it<0?0:it}}window.customElements.get("kor-swipe-actions")||window.customElements.define("kor-swipe-actions",$e);var Re=t(1),ge=function(ze,Oe,Ye,it){var gt,Yt=arguments.length,Kt=Yt<3?Oe:it===null?it=Object.getOwnPropertyDescriptor(Oe,Ye):it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Kt=Reflect.decorate(ze,Oe,Ye,it);else for(var ee=ze.length-1;ee>=0;ee--)(gt=ze[ee])&&(Kt=(Yt<3?gt(Kt):Yt>3?gt(Oe,Ye,Kt):gt(Oe,Ye))||Kt);return Yt>3&&Kt&&Object.defineProperty(Oe,Ye,Kt),Kt};class we extends be.a{static get styles(){return[Ne.a,be.b`
        :host {
          height: 100%;
          width: 100%;
          position: relative;
          display: flex;
          align-items: center;
          background-color: rgba(var(--neutral-1), 0.1);
        }
        :host([slot='left']) {
          justify-content: flex-start;
        }
        :host([slot='right']) {
          justify-content: flex-end;
        }
        kor-icon {
          position: sticky;
        }
        :host([slot='left']) kor-icon {
          left: var(--spacing-l);
        }
        :host([slot='right']) kor-icon {
          right: var(--spacing-l);
        }
      `]}render(){return be.c` <kor-icon .icon="${this.icon}"></kor-icon> `}attributeChangedCallback(Oe,Ye,it){super.attributeChangedCallback(Oe,Ye,it),this.dispatchEvent(new Event(Oe+"-changed")),Oe==="bg-color"&&it!==Ye&&(this.style.backgroundColor=it)}connectedCallback(){super.connectedCallback()}}ge([Object(Re.a)({reflect:!0})],we.prototype,"icon",void 0),ge([Object(Re.a)({reflect:!0,attribute:"bg-color"})],we.prototype,"bgColor",void 0),window.customElements.get("kor-swipe-action")||window.customElements.define("kor-swipe-action",we);var He=t(38),Je=t(39),ke=t(40),H=t(41),K=t(50),fe=t(51),xe=t(42),Ge=t(43),Ee=t(6),ue=t(44),Ue=t(45),Pe=t(46),ot=t(47)}]);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ku="157",Us={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Bs={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},v3=0,Pd=1,b3=2,kf=1,y3=2,vi=3,ss=0,Qn=1,Ar=2,Qi=0,ua=1,Ld=2,Dd=3,zd=4,x3=5,aa=100,w3=101,_3=102,Nd=103,Od=104,S3=200,M3=201,E3=202,T3=203,Cf=204,Rf=205,A3=206,k3=207,C3=208,R3=209,$3=210,P3=0,L3=1,D3=2,Xc=3,z3=4,N3=5,O3=6,I3=7,$f=0,U3=1,B3=2,es=0,F3=1,H3=2,G3=3,V3=4,W3=5,Pf=300,fa=301,ma=302,D0=303,Yc=304,Z0=306,z0=1e3,br=1001,Kc=1002,On=1003,Id=1004,ql=1005,In=1006,j3=1007,ga=1008,ts=1009,q3=1010,X3=1011,Cu=1012,Lf=1013,Zi=1014,Fr=1015,xi=1016,Df=1017,zf=1018,Ss=1020,Y3=1021,Br=1023,K3=1024,Z3=1025,Ms=1026,va=1027,J3=1028,Nf=1029,Q3=1030,Of=1031,If=1033,Xl=33776,Yl=33777,Kl=33778,Zl=33779,Ud=35840,Bd=35841,Fd=35842,Hd=35843,eg=36196,Gd=37492,Vd=37496,Wd=37808,jd=37809,qd=37810,Xd=37811,Yd=37812,Kd=37813,Zd=37814,Jd=37815,Qd=37816,ep=37817,tp=37818,np=37819,rp=37820,ip=37821,Jl=36492,sp=36494,ap=36495,tg=36283,op=36284,lp=36285,cp=36286,Uf=3e3,Es=3001,ng=3200,rg=3201,Bf=0,ig=1,yr="",Tn="srgb",ni="srgb-linear",Ru="display-p3",J0="display-p3-linear",N0="linear",ln="srgb",O0="rec709",I0="p3",Ql=7680,sg=519,ag=512,og=513,lg=514,cg=515,ug=516,hg=517,dg=518,pg=519,Zc=35044,up="300 es",Jc=1035,wi=2e3,U0=2001;class Ps{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,l=i.length;s<l;s++)i[s].call(this,e);e.target=null}}}const Fn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hp=1234567;const Wa=Math.PI/180,Ja=180/Math.PI;function Mi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Fn[n&255]+Fn[n>>8&255]+Fn[n>>16&255]+Fn[n>>24&255]+"-"+Fn[e&255]+Fn[e>>8&255]+"-"+Fn[e>>16&15|64]+Fn[e>>24&255]+"-"+Fn[t&63|128]+Fn[t>>8&255]+"-"+Fn[t>>16&255]+Fn[t>>24&255]+Fn[r&255]+Fn[r>>8&255]+Fn[r>>16&255]+Fn[r>>24&255]).toLowerCase()}function xn(n,e,t){return Math.max(e,Math.min(t,n))}function $u(n,e){return(n%e+e)%e}function fg(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function mg(n,e,t){return n!==e?(t-n)/(e-n):0}function ja(n,e,t){return(1-t)*n+t*e}function gg(n,e,t,r){return ja(n,e,1-Math.exp(-t*r))}function vg(n,e=1){return e-Math.abs($u(n,e*2)-e)}function bg(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function yg(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function xg(n,e){return n+Math.floor(Math.random()*(e-n+1))}function wg(n,e){return n+Math.random()*(e-n)}function _g(n){return n*(.5-Math.random())}function Sg(n){n!==void 0&&(hp=n);let e=hp+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Mg(n){return n*Wa}function Eg(n){return n*Ja}function Qc(n){return(n&n-1)===0&&n!==0}function Tg(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function B0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ag(n,e,t,r,i){const s=Math.cos,l=Math.sin,o=s(t/2),u=l(t/2),a=s((e+r)/2),h=l((e+r)/2),f=s((e-r)/2),v=l((e-r)/2),m=s((r-e)/2),b=l((r-e)/2);switch(i){case"XYX":n.set(o*h,u*f,u*v,o*a);break;case"YZY":n.set(u*v,o*h,u*f,o*a);break;case"ZXZ":n.set(u*f,u*v,o*h,o*a);break;case"XZX":n.set(o*h,u*b,u*m,o*a);break;case"YXY":n.set(u*m,o*h,u*b,o*a);break;case"ZYZ":n.set(u*b,u*m,o*h,o*a);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Jr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Jt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Ff={DEG2RAD:Wa,RAD2DEG:Ja,generateUUID:Mi,clamp:xn,euclideanModulo:$u,mapLinear:fg,inverseLerp:mg,lerp:ja,damp:gg,pingpong:vg,smoothstep:bg,smootherstep:yg,randInt:xg,randFloat:wg,randFloatSpread:_g,seededRandom:Sg,degToRad:Mg,radToDeg:Eg,isPowerOfTwo:Qc,ceilPowerOfTwo:Tg,floorPowerOfTwo:B0,setQuaternionFromProperEuler:Ag,normalize:Jt,denormalize:Jr};class St{constructor(e=0,t=0){St.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(xn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,l=this.y-e.y;return this.x=s*r-l*i+e.x,this.y=s*i+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ot{constructor(e,t,r,i,s,l,o,u,a){Ot.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,l,o,u,a)}set(e,t,r,i,s,l,o,u,a){const h=this.elements;return h[0]=e,h[1]=i,h[2]=o,h[3]=t,h[4]=s,h[5]=u,h[6]=r,h[7]=l,h[8]=a,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,l=r[0],o=r[3],u=r[6],a=r[1],h=r[4],f=r[7],v=r[2],m=r[5],b=r[8],_=i[0],E=i[3],S=i[6],N=i[1],D=i[4],F=i[7],X=i[2],j=i[5],Y=i[8];return s[0]=l*_+o*N+u*X,s[3]=l*E+o*D+u*j,s[6]=l*S+o*F+u*Y,s[1]=a*_+h*N+f*X,s[4]=a*E+h*D+f*j,s[7]=a*S+h*F+f*Y,s[2]=v*_+m*N+b*X,s[5]=v*E+m*D+b*j,s[8]=v*S+m*F+b*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],l=e[4],o=e[5],u=e[6],a=e[7],h=e[8];return t*l*h-t*o*a-r*s*h+r*o*u+i*s*a-i*l*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],l=e[4],o=e[5],u=e[6],a=e[7],h=e[8],f=h*l-o*a,v=o*u-h*s,m=a*s-l*u,b=t*f+r*v+i*m;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/b;return e[0]=f*_,e[1]=(i*a-h*r)*_,e[2]=(o*r-i*l)*_,e[3]=v*_,e[4]=(h*t-i*u)*_,e[5]=(i*s-o*t)*_,e[6]=m*_,e[7]=(r*u-a*t)*_,e[8]=(l*t-r*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,l,o){const u=Math.cos(s),a=Math.sin(s);return this.set(r*u,r*a,-r*(u*l+a*o)+l+e,-i*a,i*u,-i*(-a*l+u*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(ec.makeScale(e,t)),this}rotate(e){return this.premultiply(ec.makeRotation(-e)),this}translate(e,t){return this.premultiply(ec.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ec=new Ot;function Hf(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Qa(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function kg(){const n=Qa("canvas");return n.style.display="block",n}const dp={};function qa(n){n in dp||(dp[n]=!0,console.warn(n))}const pp=new Ot().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),fp=new Ot().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),jo={[ni]:{transfer:N0,primaries:O0,toReference:n=>n,fromReference:n=>n},[Tn]:{transfer:ln,primaries:O0,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[J0]:{transfer:N0,primaries:I0,toReference:n=>n.applyMatrix3(fp),fromReference:n=>n.applyMatrix3(pp)},[Ru]:{transfer:ln,primaries:I0,toReference:n=>n.convertSRGBToLinear().applyMatrix3(fp),fromReference:n=>n.applyMatrix3(pp).convertLinearToSRGB()}},Cg=new Set([ni,J0]),Qt={enabled:!0,_workingColorSpace:ni,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!Cg.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=jo[e].toReference,i=jo[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return jo[n].primaries},getTransfer:function(n){return n===yr?N0:jo[n].transfer}};function ha(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function tc(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Fs;class Gf{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Fs===void 0&&(Fs=Qa("canvas")),Fs.width=e.width,Fs.height=e.height;const r=Fs.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Fs}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Qa("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let l=0;l<s.length;l++)s[l]=ha(s[l]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ha(t[r]/255)*255):t[r]=ha(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Rg=0;class Vf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Rg++}),this.uuid=Mi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let l=0,o=i.length;l<o;l++)i[l].isDataTexture?s.push(nc(i[l].image)):s.push(nc(i[l]))}else s=nc(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function nc(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Gf.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $g=0;class er extends Ps{constructor(e=er.DEFAULT_IMAGE,t=er.DEFAULT_MAPPING,r=br,i=br,s=In,l=ga,o=Br,u=ts,a=er.DEFAULT_ANISOTROPY,h=yr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$g++}),this.uuid=Mi(),this.name="",this.source=new Vf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=l,this.anisotropy=a,this.format=o,this.internalFormat=null,this.type=u,this.offset=new St(0,0),this.repeat=new St(1,1),this.center=new St(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ot,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(qa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Es?Tn:yr),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Pf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case z0:e.x=e.x-Math.floor(e.x);break;case br:e.x=e.x<0?0:1;break;case Kc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case z0:e.y=e.y-Math.floor(e.y);break;case br:e.y=e.y<0?0:1;break;case Kc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return qa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Tn?Es:Uf}set encoding(e){qa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Es?Tn:yr}}er.DEFAULT_IMAGE=null;er.DEFAULT_MAPPING=Pf;er.DEFAULT_ANISOTROPY=1;class en{constructor(e=0,t=0,r=0,i=1){en.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,l=e.elements;return this.x=l[0]*t+l[4]*r+l[8]*i+l[12]*s,this.y=l[1]*t+l[5]*r+l[9]*i+l[13]*s,this.z=l[2]*t+l[6]*r+l[10]*i+l[14]*s,this.w=l[3]*t+l[7]*r+l[11]*i+l[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const u=e.elements,a=u[0],h=u[4],f=u[8],v=u[1],m=u[5],b=u[9],_=u[2],E=u[6],S=u[10];if(Math.abs(h-v)<.01&&Math.abs(f-_)<.01&&Math.abs(b-E)<.01){if(Math.abs(h+v)<.1&&Math.abs(f+_)<.1&&Math.abs(b+E)<.1&&Math.abs(a+m+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(a+1)/2,F=(m+1)/2,X=(S+1)/2,j=(h+v)/4,Y=(f+_)/4,ae=(b+E)/4;return D>F&&D>X?D<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(D),i=j/r,s=Y/r):F>X?F<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(F),r=j/i,s=ae/i):X<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(X),r=Y/s,i=ae/s),this.set(r,i,s,t),this}let N=Math.sqrt((E-b)*(E-b)+(f-_)*(f-_)+(v-h)*(v-h));return Math.abs(N)<.001&&(N=1),this.x=(E-b)/N,this.y=(f-_)/N,this.z=(v-h)/N,this.w=Math.acos((a+m+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Pg extends Ps{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new en(0,0,e,t),this.scissorTest=!1,this.viewport=new en(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(qa("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Es?Tn:yr),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:In,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new er(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Vf(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ks extends Pg{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Wf extends er{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=On,this.minFilter=On,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lg extends er{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=On,this.minFilter=On,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cs{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,l,o){let u=r[i+0],a=r[i+1],h=r[i+2],f=r[i+3];const v=s[l+0],m=s[l+1],b=s[l+2],_=s[l+3];if(o===0){e[t+0]=u,e[t+1]=a,e[t+2]=h,e[t+3]=f;return}if(o===1){e[t+0]=v,e[t+1]=m,e[t+2]=b,e[t+3]=_;return}if(f!==_||u!==v||a!==m||h!==b){let E=1-o;const S=u*v+a*m+h*b+f*_,N=S>=0?1:-1,D=1-S*S;if(D>Number.EPSILON){const X=Math.sqrt(D),j=Math.atan2(X,S*N);E=Math.sin(E*j)/X,o=Math.sin(o*j)/X}const F=o*N;if(u=u*E+v*F,a=a*E+m*F,h=h*E+b*F,f=f*E+_*F,E===1-o){const X=1/Math.sqrt(u*u+a*a+h*h+f*f);u*=X,a*=X,h*=X,f*=X}}e[t]=u,e[t+1]=a,e[t+2]=h,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,l){const o=r[i],u=r[i+1],a=r[i+2],h=r[i+3],f=s[l],v=s[l+1],m=s[l+2],b=s[l+3];return e[t]=o*b+h*f+u*m-a*v,e[t+1]=u*b+h*v+a*f-o*m,e[t+2]=a*b+h*m+o*v-u*f,e[t+3]=h*b-o*f-u*v-a*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,l=e._order,o=Math.cos,u=Math.sin,a=o(r/2),h=o(i/2),f=o(s/2),v=u(r/2),m=u(i/2),b=u(s/2);switch(l){case"XYZ":this._x=v*h*f+a*m*b,this._y=a*m*f-v*h*b,this._z=a*h*b+v*m*f,this._w=a*h*f-v*m*b;break;case"YXZ":this._x=v*h*f+a*m*b,this._y=a*m*f-v*h*b,this._z=a*h*b-v*m*f,this._w=a*h*f+v*m*b;break;case"ZXY":this._x=v*h*f-a*m*b,this._y=a*m*f+v*h*b,this._z=a*h*b+v*m*f,this._w=a*h*f-v*m*b;break;case"ZYX":this._x=v*h*f-a*m*b,this._y=a*m*f+v*h*b,this._z=a*h*b-v*m*f,this._w=a*h*f+v*m*b;break;case"YZX":this._x=v*h*f+a*m*b,this._y=a*m*f+v*h*b,this._z=a*h*b-v*m*f,this._w=a*h*f-v*m*b;break;case"XZY":this._x=v*h*f-a*m*b,this._y=a*m*f-v*h*b,this._z=a*h*b+v*m*f,this._w=a*h*f+v*m*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],l=t[1],o=t[5],u=t[9],a=t[2],h=t[6],f=t[10],v=r+o+f;if(v>0){const m=.5/Math.sqrt(v+1);this._w=.25/m,this._x=(h-u)*m,this._y=(s-a)*m,this._z=(l-i)*m}else if(r>o&&r>f){const m=2*Math.sqrt(1+r-o-f);this._w=(h-u)/m,this._x=.25*m,this._y=(i+l)/m,this._z=(s+a)/m}else if(o>f){const m=2*Math.sqrt(1+o-r-f);this._w=(s-a)/m,this._x=(i+l)/m,this._y=.25*m,this._z=(u+h)/m}else{const m=2*Math.sqrt(1+f-r-o);this._w=(l-i)/m,this._x=(s+a)/m,this._y=(u+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,l=e._w,o=t._x,u=t._y,a=t._z,h=t._w;return this._x=r*h+l*o+i*a-s*u,this._y=i*h+l*u+s*o-r*a,this._z=s*h+l*a+r*u-i*o,this._w=l*h-r*o-i*u-s*a,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,l=this._w;let o=l*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=l,this._x=r,this._y=i,this._z=s,this;const u=1-o*o;if(u<=Number.EPSILON){const m=1-t;return this._w=m*l+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const a=Math.sqrt(u),h=Math.atan2(a,o),f=Math.sin((1-t)*h)/a,v=Math.sin(t*h)/a;return this._w=l*f+this._w*v,this._x=r*f+this._x*v,this._y=i*f+this._y*v,this._z=s*f+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class de{constructor(e=0,t=0,r=0){de.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(mp.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(mp.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,l=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*l,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*l,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*l,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,l=e.y,o=e.z,u=e.w,a=u*t+l*i-o*r,h=u*r+o*t-s*i,f=u*i+s*r-l*t,v=-s*t-l*r-o*i;return this.x=a*u+v*-s+h*-o-f*-l,this.y=h*u+v*-l+f*-s-a*-o,this.z=f*u+v*-o+a*-l-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,l=t.x,o=t.y,u=t.z;return this.x=i*u-s*o,this.y=s*l-r*u,this.z=r*o-i*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return rc.copy(this).projectOnVector(e),this.sub(rc)}reflect(e){return this.sub(rc.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(xn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const rc=new de,mp=new Cs;class ls{constructor(e=new de(1/0,1/0,1/0),t=new de(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(hi.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(hi.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=hi.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Hs.copy(e.boundingBox),Hs.applyMatrix4(e.matrixWorld),this.union(Hs);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let l=0,o=s.count;l<o;l++)hi.fromBufferAttribute(s,l).applyMatrix4(e.matrixWorld),this.expandByPoint(hi)}else i.boundingBox===null&&i.computeBoundingBox(),Hs.copy(i.boundingBox),Hs.applyMatrix4(e.matrixWorld),this.union(Hs)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,hi),hi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Da),qo.subVectors(this.max,Da),Gs.subVectors(e.a,Da),Vs.subVectors(e.b,Da),Ws.subVectors(e.c,Da),Fi.subVectors(Vs,Gs),Hi.subVectors(Ws,Vs),ps.subVectors(Gs,Ws);let t=[0,-Fi.z,Fi.y,0,-Hi.z,Hi.y,0,-ps.z,ps.y,Fi.z,0,-Fi.x,Hi.z,0,-Hi.x,ps.z,0,-ps.x,-Fi.y,Fi.x,0,-Hi.y,Hi.x,0,-ps.y,ps.x,0];return!ic(t,Gs,Vs,Ws,qo)||(t=[1,0,0,0,1,0,0,0,1],!ic(t,Gs,Vs,Ws,qo))?!1:(Xo.crossVectors(Fi,Hi),t=[Xo.x,Xo.y,Xo.z],ic(t,Gs,Vs,Ws,qo))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hi).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(hi).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ui[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ui[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ui[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ui[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ui[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ui[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ui[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ui[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ui),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ui=[new de,new de,new de,new de,new de,new de,new de,new de],hi=new de,Hs=new ls,Gs=new de,Vs=new de,Ws=new de,Fi=new de,Hi=new de,ps=new de,Da=new de,qo=new de,Xo=new de,fs=new de;function ic(n,e,t,r,i){for(let s=0,l=n.length-3;s<=l;s+=3){fs.fromArray(n,s);const o=i.x*Math.abs(fs.x)+i.y*Math.abs(fs.y)+i.z*Math.abs(fs.z),u=e.dot(fs),a=t.dot(fs),h=r.dot(fs);if(Math.max(-Math.max(u,a,h),Math.min(u,a,h))>o)return!1}return!0}const Dg=new ls,za=new de,sc=new de;class co{constructor(e=new de,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Dg.setFromPoints(e).getCenter(r);let i=0;for(let s=0,l=e.length;s<l;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;za.subVectors(e,this.center);const t=za.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(za,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(sc.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(za.copy(e.center).add(sc)),this.expandByPoint(za.copy(e.center).sub(sc))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const di=new de,ac=new de,Yo=new de,Gi=new de,oc=new de,Ko=new de,lc=new de;class jf{constructor(e=new de,t=new de(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,di)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=di.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(di.copy(this.origin).addScaledVector(this.direction,t),di.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){ac.copy(e).add(t).multiplyScalar(.5),Yo.copy(t).sub(e).normalize(),Gi.copy(this.origin).sub(ac);const s=e.distanceTo(t)*.5,l=-this.direction.dot(Yo),o=Gi.dot(this.direction),u=-Gi.dot(Yo),a=Gi.lengthSq(),h=Math.abs(1-l*l);let f,v,m,b;if(h>0)if(f=l*u-o,v=l*o-u,b=s*h,f>=0)if(v>=-b)if(v<=b){const _=1/h;f*=_,v*=_,m=f*(f+l*v+2*o)+v*(l*f+v+2*u)+a}else v=s,f=Math.max(0,-(l*v+o)),m=-f*f+v*(v+2*u)+a;else v=-s,f=Math.max(0,-(l*v+o)),m=-f*f+v*(v+2*u)+a;else v<=-b?(f=Math.max(0,-(-l*s+o)),v=f>0?-s:Math.min(Math.max(-s,-u),s),m=-f*f+v*(v+2*u)+a):v<=b?(f=0,v=Math.min(Math.max(-s,-u),s),m=v*(v+2*u)+a):(f=Math.max(0,-(l*s+o)),v=f>0?s:Math.min(Math.max(-s,-u),s),m=-f*f+v*(v+2*u)+a);else v=l>0?-s:s,f=Math.max(0,-(l*v+o)),m=-f*f+v*(v+2*u)+a;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(ac).addScaledVector(Yo,v),m}intersectSphere(e,t){di.subVectors(e.center,this.origin);const r=di.dot(this.direction),i=di.dot(di)-r*r,s=e.radius*e.radius;if(i>s)return null;const l=Math.sqrt(s-i),o=r-l,u=r+l;return u<0?null:o<0?this.at(u,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,l,o,u;const a=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z,v=this.origin;return a>=0?(r=(e.min.x-v.x)*a,i=(e.max.x-v.x)*a):(r=(e.max.x-v.x)*a,i=(e.min.x-v.x)*a),h>=0?(s=(e.min.y-v.y)*h,l=(e.max.y-v.y)*h):(s=(e.max.y-v.y)*h,l=(e.min.y-v.y)*h),r>l||s>i||((s>r||isNaN(r))&&(r=s),(l<i||isNaN(i))&&(i=l),f>=0?(o=(e.min.z-v.z)*f,u=(e.max.z-v.z)*f):(o=(e.max.z-v.z)*f,u=(e.min.z-v.z)*f),r>u||o>i)||((o>r||r!==r)&&(r=o),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,di)!==null}intersectTriangle(e,t,r,i,s){oc.subVectors(t,e),Ko.subVectors(r,e),lc.crossVectors(oc,Ko);let l=this.direction.dot(lc),o;if(l>0){if(i)return null;o=1}else if(l<0)o=-1,l=-l;else return null;Gi.subVectors(this.origin,e);const u=o*this.direction.dot(Ko.crossVectors(Gi,Ko));if(u<0)return null;const a=o*this.direction.dot(oc.cross(Gi));if(a<0||u+a>l)return null;const h=-o*Gi.dot(lc);return h<0?null:this.at(h/l,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class hn{constructor(e,t,r,i,s,l,o,u,a,h,f,v,m,b,_,E){hn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,l,o,u,a,h,f,v,m,b,_,E)}set(e,t,r,i,s,l,o,u,a,h,f,v,m,b,_,E){const S=this.elements;return S[0]=e,S[4]=t,S[8]=r,S[12]=i,S[1]=s,S[5]=l,S[9]=o,S[13]=u,S[2]=a,S[6]=h,S[10]=f,S[14]=v,S[3]=m,S[7]=b,S[11]=_,S[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new hn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/js.setFromMatrixColumn(e,0).length(),s=1/js.setFromMatrixColumn(e,1).length(),l=1/js.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*l,t[9]=r[9]*l,t[10]=r[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,l=Math.cos(r),o=Math.sin(r),u=Math.cos(i),a=Math.sin(i),h=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const v=l*h,m=l*f,b=o*h,_=o*f;t[0]=u*h,t[4]=-u*f,t[8]=a,t[1]=m+b*a,t[5]=v-_*a,t[9]=-o*u,t[2]=_-v*a,t[6]=b+m*a,t[10]=l*u}else if(e.order==="YXZ"){const v=u*h,m=u*f,b=a*h,_=a*f;t[0]=v+_*o,t[4]=b*o-m,t[8]=l*a,t[1]=l*f,t[5]=l*h,t[9]=-o,t[2]=m*o-b,t[6]=_+v*o,t[10]=l*u}else if(e.order==="ZXY"){const v=u*h,m=u*f,b=a*h,_=a*f;t[0]=v-_*o,t[4]=-l*f,t[8]=b+m*o,t[1]=m+b*o,t[5]=l*h,t[9]=_-v*o,t[2]=-l*a,t[6]=o,t[10]=l*u}else if(e.order==="ZYX"){const v=l*h,m=l*f,b=o*h,_=o*f;t[0]=u*h,t[4]=b*a-m,t[8]=v*a+_,t[1]=u*f,t[5]=_*a+v,t[9]=m*a-b,t[2]=-a,t[6]=o*u,t[10]=l*u}else if(e.order==="YZX"){const v=l*u,m=l*a,b=o*u,_=o*a;t[0]=u*h,t[4]=_-v*f,t[8]=b*f+m,t[1]=f,t[5]=l*h,t[9]=-o*h,t[2]=-a*h,t[6]=m*f+b,t[10]=v-_*f}else if(e.order==="XZY"){const v=l*u,m=l*a,b=o*u,_=o*a;t[0]=u*h,t[4]=-f,t[8]=a*h,t[1]=v*f+_,t[5]=l*h,t[9]=m*f-b,t[2]=b*f-m,t[6]=o*h,t[10]=_*f+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zg,e,Ng)}lookAt(e,t,r){const i=this.elements;return fr.subVectors(e,t),fr.lengthSq()===0&&(fr.z=1),fr.normalize(),Vi.crossVectors(r,fr),Vi.lengthSq()===0&&(Math.abs(r.z)===1?fr.x+=1e-4:fr.z+=1e-4,fr.normalize(),Vi.crossVectors(r,fr)),Vi.normalize(),Zo.crossVectors(fr,Vi),i[0]=Vi.x,i[4]=Zo.x,i[8]=fr.x,i[1]=Vi.y,i[5]=Zo.y,i[9]=fr.y,i[2]=Vi.z,i[6]=Zo.z,i[10]=fr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,l=r[0],o=r[4],u=r[8],a=r[12],h=r[1],f=r[5],v=r[9],m=r[13],b=r[2],_=r[6],E=r[10],S=r[14],N=r[3],D=r[7],F=r[11],X=r[15],j=i[0],Y=i[4],ae=i[8],$=i[12],k=i[1],L=i[5],z=i[9],Q=i[13],G=i[2],oe=i[6],ce=i[10],be=i[14],Ne=i[3],$e=i[7],Re=i[11],ge=i[15];return s[0]=l*j+o*k+u*G+a*Ne,s[4]=l*Y+o*L+u*oe+a*$e,s[8]=l*ae+o*z+u*ce+a*Re,s[12]=l*$+o*Q+u*be+a*ge,s[1]=h*j+f*k+v*G+m*Ne,s[5]=h*Y+f*L+v*oe+m*$e,s[9]=h*ae+f*z+v*ce+m*Re,s[13]=h*$+f*Q+v*be+m*ge,s[2]=b*j+_*k+E*G+S*Ne,s[6]=b*Y+_*L+E*oe+S*$e,s[10]=b*ae+_*z+E*ce+S*Re,s[14]=b*$+_*Q+E*be+S*ge,s[3]=N*j+D*k+F*G+X*Ne,s[7]=N*Y+D*L+F*oe+X*$e,s[11]=N*ae+D*z+F*ce+X*Re,s[15]=N*$+D*Q+F*be+X*ge,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],l=e[1],o=e[5],u=e[9],a=e[13],h=e[2],f=e[6],v=e[10],m=e[14],b=e[3],_=e[7],E=e[11],S=e[15];return b*(+s*u*f-i*a*f-s*o*v+r*a*v+i*o*m-r*u*m)+_*(+t*u*m-t*a*v+s*l*v-i*l*m+i*a*h-s*u*h)+E*(+t*a*f-t*o*m-s*l*f+r*l*m+s*o*h-r*a*h)+S*(-i*o*h-t*u*f+t*o*v+i*l*f-r*l*v+r*u*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],l=e[4],o=e[5],u=e[6],a=e[7],h=e[8],f=e[9],v=e[10],m=e[11],b=e[12],_=e[13],E=e[14],S=e[15],N=f*E*a-_*v*a+_*u*m-o*E*m-f*u*S+o*v*S,D=b*v*a-h*E*a-b*u*m+l*E*m+h*u*S-l*v*S,F=h*_*a-b*f*a+b*o*m-l*_*m-h*o*S+l*f*S,X=b*f*u-h*_*u-b*o*v+l*_*v+h*o*E-l*f*E,j=t*N+r*D+i*F+s*X;if(j===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Y=1/j;return e[0]=N*Y,e[1]=(_*v*s-f*E*s-_*i*m+r*E*m+f*i*S-r*v*S)*Y,e[2]=(o*E*s-_*u*s+_*i*a-r*E*a-o*i*S+r*u*S)*Y,e[3]=(f*u*s-o*v*s-f*i*a+r*v*a+o*i*m-r*u*m)*Y,e[4]=D*Y,e[5]=(h*E*s-b*v*s+b*i*m-t*E*m-h*i*S+t*v*S)*Y,e[6]=(b*u*s-l*E*s-b*i*a+t*E*a+l*i*S-t*u*S)*Y,e[7]=(l*v*s-h*u*s+h*i*a-t*v*a-l*i*m+t*u*m)*Y,e[8]=F*Y,e[9]=(b*f*s-h*_*s-b*r*m+t*_*m+h*r*S-t*f*S)*Y,e[10]=(l*_*s-b*o*s+b*r*a-t*_*a-l*r*S+t*o*S)*Y,e[11]=(h*o*s-l*f*s-h*r*a+t*f*a+l*r*m-t*o*m)*Y,e[12]=X*Y,e[13]=(h*_*i-b*f*i+b*r*v-t*_*v-h*r*E+t*f*E)*Y,e[14]=(b*o*i-l*_*i-b*r*u+t*_*u+l*r*E-t*o*E)*Y,e[15]=(l*f*i-h*o*i+h*r*u-t*f*u-l*r*v+t*o*v)*Y,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,l=e.x,o=e.y,u=e.z,a=s*l,h=s*o;return this.set(a*l+r,a*o-i*u,a*u+i*o,0,a*o+i*u,h*o+r,h*u-i*l,0,a*u-i*o,h*u+i*l,s*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,l){return this.set(1,r,s,0,e,1,l,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,l=t._y,o=t._z,u=t._w,a=s+s,h=l+l,f=o+o,v=s*a,m=s*h,b=s*f,_=l*h,E=l*f,S=o*f,N=u*a,D=u*h,F=u*f,X=r.x,j=r.y,Y=r.z;return i[0]=(1-(_+S))*X,i[1]=(m+F)*X,i[2]=(b-D)*X,i[3]=0,i[4]=(m-F)*j,i[5]=(1-(v+S))*j,i[6]=(E+N)*j,i[7]=0,i[8]=(b+D)*Y,i[9]=(E-N)*Y,i[10]=(1-(v+_))*Y,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=js.set(i[0],i[1],i[2]).length();const l=js.set(i[4],i[5],i[6]).length(),o=js.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Nr.copy(this);const a=1/s,h=1/l,f=1/o;return Nr.elements[0]*=a,Nr.elements[1]*=a,Nr.elements[2]*=a,Nr.elements[4]*=h,Nr.elements[5]*=h,Nr.elements[6]*=h,Nr.elements[8]*=f,Nr.elements[9]*=f,Nr.elements[10]*=f,t.setFromRotationMatrix(Nr),r.x=s,r.y=l,r.z=o,this}makePerspective(e,t,r,i,s,l,o=wi){const u=this.elements,a=2*s/(t-e),h=2*s/(r-i),f=(t+e)/(t-e),v=(r+i)/(r-i);let m,b;if(o===wi)m=-(l+s)/(l-s),b=-2*l*s/(l-s);else if(o===U0)m=-l/(l-s),b=-l*s/(l-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return u[0]=a,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=h,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,s,l,o=wi){const u=this.elements,a=1/(t-e),h=1/(r-i),f=1/(l-s),v=(t+e)*a,m=(r+i)*h;let b,_;if(o===wi)b=(l+s)*f,_=-2*f;else if(o===U0)b=s*f,_=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return u[0]=2*a,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-m,u[2]=0,u[6]=0,u[10]=_,u[14]=-b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const js=new de,Nr=new hn,zg=new de(0,0,0),Ng=new de(1,1,1),Vi=new de,Zo=new de,fr=new de,gp=new hn,vp=new Cs;class Q0{constructor(e=0,t=0,r=0,i=Q0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],l=i[4],o=i[8],u=i[1],a=i[5],h=i[9],f=i[2],v=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-l,s)):(this._x=Math.atan2(v,a),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(u,a)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(xn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-l,a)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-xn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(v,m),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-l,a));break;case"YZX":this._z=Math.asin(xn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,a),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,a),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return gp.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gp,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return vp.setFromEuler(this),this.setFromQuaternion(vp,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Q0.DEFAULT_ORDER="XYZ";class qf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Og=0;const bp=new de,qs=new Cs,pi=new hn,Jo=new de,Na=new de,Ig=new de,Ug=new Cs,yp=new de(1,0,0),xp=new de(0,1,0),wp=new de(0,0,1),Bg={type:"added"},Fg={type:"removed"};class tr extends Ps{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Og++}),this.uuid=Mi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tr.DEFAULT_UP.clone();const e=new de,t=new Q0,r=new Cs,i=new de(1,1,1);function s(){r.setFromEuler(t,!1)}function l(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new hn},normalMatrix:{value:new Ot}}),this.matrix=new hn,this.matrixWorld=new hn,this.matrixAutoUpdate=tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new qf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return qs.setFromAxisAngle(e,t),this.quaternion.multiply(qs),this}rotateOnWorldAxis(e,t){return qs.setFromAxisAngle(e,t),this.quaternion.premultiply(qs),this}rotateX(e){return this.rotateOnAxis(yp,e)}rotateY(e){return this.rotateOnAxis(xp,e)}rotateZ(e){return this.rotateOnAxis(wp,e)}translateOnAxis(e,t){return bp.copy(e).applyQuaternion(this.quaternion),this.position.add(bp.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(yp,e)}translateY(e){return this.translateOnAxis(xp,e)}translateZ(e){return this.translateOnAxis(wp,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(pi.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Jo.copy(e):Jo.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Na.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pi.lookAt(Na,Jo,this.up):pi.lookAt(Jo,Na,this.up),this.quaternion.setFromRotationMatrix(pi),i&&(pi.extractRotation(i.matrixWorld),qs.setFromRotationMatrix(pi),this.quaternion.premultiply(qs.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Bg)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Fg)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),pi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),pi.multiply(e.parent.matrixWorld)),e.applyMatrix4(pi),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const l=this.children[r].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const l=this.children[i].getObjectsByProperty(e,t);l.length>0&&(r=r.concat(l))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Na,e,Ig),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Na,Ug,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,l=i.length;s<l;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(o,u){return o[u.uuid]===void 0&&(o[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const u=o.shapes;if(Array.isArray(u))for(let a=0,h=u.length;a<h;a++){const f=u[a];s(e.shapes,f)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let u=0,a=this.material.length;u<a;u++)o.push(s(e.materials,this.material[u]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const u=this.animations[o];i.animations.push(s(e.animations,u))}}if(t){const o=l(e.geometries),u=l(e.materials),a=l(e.textures),h=l(e.images),f=l(e.shapes),v=l(e.skeletons),m=l(e.animations),b=l(e.nodes);o.length>0&&(r.geometries=o),u.length>0&&(r.materials=u),a.length>0&&(r.textures=a),h.length>0&&(r.images=h),f.length>0&&(r.shapes=f),v.length>0&&(r.skeletons=v),m.length>0&&(r.animations=m),b.length>0&&(r.nodes=b)}return r.object=i,r;function l(o){const u=[];for(const a in o){const h=o[a];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}tr.DEFAULT_UP=new de(0,1,0);tr.DEFAULT_MATRIX_AUTO_UPDATE=!0;tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Or=new de,fi=new de,cc=new de,mi=new de,Xs=new de,Ys=new de,_p=new de,uc=new de,hc=new de,dc=new de;let Qo=!1;class Ur{constructor(e=new de,t=new de,r=new de){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Or.subVectors(e,t),i.cross(Or);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Or.subVectors(i,t),fi.subVectors(r,t),cc.subVectors(e,t);const l=Or.dot(Or),o=Or.dot(fi),u=Or.dot(cc),a=fi.dot(fi),h=fi.dot(cc),f=l*a-o*o;if(f===0)return s.set(-2,-1,-1);const v=1/f,m=(a*u-o*h)*v,b=(l*h-o*u)*v;return s.set(1-m-b,b,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,mi),mi.x>=0&&mi.y>=0&&mi.x+mi.y<=1}static getUV(e,t,r,i,s,l,o,u){return Qo===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Qo=!0),this.getInterpolation(e,t,r,i,s,l,o,u)}static getInterpolation(e,t,r,i,s,l,o,u){return this.getBarycoord(e,t,r,i,mi),u.setScalar(0),u.addScaledVector(s,mi.x),u.addScaledVector(l,mi.y),u.addScaledVector(o,mi.z),u}static isFrontFacing(e,t,r,i){return Or.subVectors(r,t),fi.subVectors(e,t),Or.cross(fi).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Or.subVectors(this.c,this.b),fi.subVectors(this.a,this.b),Or.cross(fi).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ur.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ur.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Qo===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Qo=!0),Ur.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Ur.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ur.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ur.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let l,o;Xs.subVectors(i,r),Ys.subVectors(s,r),uc.subVectors(e,r);const u=Xs.dot(uc),a=Ys.dot(uc);if(u<=0&&a<=0)return t.copy(r);hc.subVectors(e,i);const h=Xs.dot(hc),f=Ys.dot(hc);if(h>=0&&f<=h)return t.copy(i);const v=u*f-h*a;if(v<=0&&u>=0&&h<=0)return l=u/(u-h),t.copy(r).addScaledVector(Xs,l);dc.subVectors(e,s);const m=Xs.dot(dc),b=Ys.dot(dc);if(b>=0&&m<=b)return t.copy(s);const _=m*a-u*b;if(_<=0&&a>=0&&b<=0)return o=a/(a-b),t.copy(r).addScaledVector(Ys,o);const E=h*b-m*f;if(E<=0&&f-h>=0&&m-b>=0)return _p.subVectors(s,i),o=(f-h)/(f-h+(m-b)),t.copy(i).addScaledVector(_p,o);const S=1/(E+_+v);return l=_*S,o=v*S,t.copy(r).addScaledVector(Xs,l).addScaledVector(Ys,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Hg=0;class uo extends Ps{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Hg++}),this.uuid=Mi(),this.name="",this.type="Material",this.blending=ua,this.side=ss,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Cf,this.blendDst=Rf,this.blendEquation=aa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=sg,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ql,this.stencilZFail=Ql,this.stencilZPass=Ql,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ua&&(r.blending=this.blending),this.side!==ss&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const l=[];for(const o in s){const u=s[o];delete u.metadata,l.push(u)}return l}if(t){const s=i(e.textures),l=i(e.images);s.length>0&&(r.textures=s),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const Xf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wi={h:0,s:0,l:0},e0={h:0,s:0,l:0};function pc(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class jt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Tn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qt.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Qt.workingColorSpace){return this.r=e,this.g=t,this.b=r,Qt.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Qt.workingColorSpace){if(e=$u(e,1),t=xn(t,0,1),r=xn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,l=2*r-s;this.r=pc(l,s,e+1/3),this.g=pc(l,s,e),this.b=pc(l,s,e-1/3)}return Qt.toWorkingColorSpace(this,i),this}setStyle(e,t=Tn){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const l=i[1],o=i[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],l=s.length;if(l===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Tn){const r=Xf[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ha(e.r),this.g=ha(e.g),this.b=ha(e.b),this}copyLinearToSRGB(e){return this.r=tc(e.r),this.g=tc(e.g),this.b=tc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Tn){return Qt.fromWorkingColorSpace(Hn.copy(this),e),Math.round(xn(Hn.r*255,0,255))*65536+Math.round(xn(Hn.g*255,0,255))*256+Math.round(xn(Hn.b*255,0,255))}getHexString(e=Tn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Qt.workingColorSpace){Qt.fromWorkingColorSpace(Hn.copy(this),t);const r=Hn.r,i=Hn.g,s=Hn.b,l=Math.max(r,i,s),o=Math.min(r,i,s);let u,a;const h=(o+l)/2;if(o===l)u=0,a=0;else{const f=l-o;switch(a=h<=.5?f/(l+o):f/(2-l-o),l){case r:u=(i-s)/f+(i<s?6:0);break;case i:u=(s-r)/f+2;break;case s:u=(r-i)/f+4;break}u/=6}return e.h=u,e.s=a,e.l=h,e}getRGB(e,t=Qt.workingColorSpace){return Qt.fromWorkingColorSpace(Hn.copy(this),t),e.r=Hn.r,e.g=Hn.g,e.b=Hn.b,e}getStyle(e=Tn){Qt.fromWorkingColorSpace(Hn.copy(this),e);const t=Hn.r,r=Hn.g,i=Hn.b;return e!==Tn?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Wi),this.setHSL(Wi.h+e,Wi.s+t,Wi.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Wi),e.getHSL(e0);const r=ja(Wi.h,e0.h,t),i=ja(Wi.s,e0.s,t),s=ja(Wi.l,e0.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Hn=new jt;jt.NAMES=Xf;class el extends uo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yi=Gg();function Gg(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const a=u-127;a<-27?(r[u]=0,r[u|256]=32768,i[u]=24,i[u|256]=24):a<-14?(r[u]=1024>>-a-14,r[u|256]=1024>>-a-14|32768,i[u]=-a-1,i[u|256]=-a-1):a<=15?(r[u]=a+15<<10,r[u|256]=a+15<<10|32768,i[u]=13,i[u|256]=13):a<128?(r[u]=31744,r[u|256]=64512,i[u]=24,i[u|256]=24):(r[u]=31744,r[u|256]=64512,i[u]=13,i[u|256]=13)}const s=new Uint32Array(2048),l=new Uint32Array(64),o=new Uint32Array(64);for(let u=1;u<1024;++u){let a=u<<13,h=0;for(;!(a&8388608);)a<<=1,h-=8388608;a&=-8388609,h+=947912704,s[u]=a|h}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)l[u]=u<<23;l[31]=1199570944,l[32]=2147483648;for(let u=33;u<63;++u)l[u]=2147483648+(u-32<<23);l[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(o[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:o}}function Vg(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=xn(n,-65504,65504),yi.floatView[0]=n;const e=yi.uint32View[0],t=e>>23&511;return yi.baseTable[t]+((e&8388607)>>yi.shiftTable[t])}function Wg(n){const e=n>>10;return yi.uint32View[0]=yi.mantissaTable[yi.offsetTable[e]+(n&1023)]+yi.exponentTable[e],yi.floatView[0]}const t0={toHalfFloat:Vg,fromHalfFloat:Wg},Sn=new de,n0=new St;class Hr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Zc,this.updateRange={offset:0,count:-1},this.gpuType=Fr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)n0.fromBufferAttribute(this,t),n0.applyMatrix3(e),this.setXY(t,n0.x,n0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Sn.fromBufferAttribute(this,t),Sn.applyMatrix3(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Sn.fromBufferAttribute(this,t),Sn.applyMatrix4(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Sn.fromBufferAttribute(this,t),Sn.applyNormalMatrix(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Sn.fromBufferAttribute(this,t),Sn.transformDirection(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Jr(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Jt(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Jr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Jr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Jr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Jr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Jt(t,this.array),r=Jt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Jt(t,this.array),r=Jt(r,this.array),i=Jt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Jt(t,this.array),r=Jt(r,this.array),i=Jt(i,this.array),s=Jt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Zc&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Yf extends Hr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Kf extends Hr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Vn extends Hr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let jg=0;const Er=new hn,fc=new tr,Ks=new de,mr=new ls,Oa=new ls,$n=new de;class Gr extends Ps{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jg++}),this.uuid=Mi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Hf(e)?Kf:Yf)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Ot().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Er.makeRotationFromQuaternion(e),this.applyMatrix4(Er),this}rotateX(e){return Er.makeRotationX(e),this.applyMatrix4(Er),this}rotateY(e){return Er.makeRotationY(e),this.applyMatrix4(Er),this}rotateZ(e){return Er.makeRotationZ(e),this.applyMatrix4(Er),this}translate(e,t,r){return Er.makeTranslation(e,t,r),this.applyMatrix4(Er),this}scale(e,t,r){return Er.makeScale(e,t,r),this.applyMatrix4(Er),this}lookAt(e){return fc.lookAt(e),fc.updateMatrix(),this.applyMatrix4(fc.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ks).negate(),this.translate(Ks.x,Ks.y,Ks.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Vn(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ls);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new de(-1/0,-1/0,-1/0),new de(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];mr.setFromBufferAttribute(s),this.morphTargetsRelative?($n.addVectors(this.boundingBox.min,mr.min),this.boundingBox.expandByPoint($n),$n.addVectors(this.boundingBox.max,mr.max),this.boundingBox.expandByPoint($n)):(this.boundingBox.expandByPoint(mr.min),this.boundingBox.expandByPoint(mr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new co);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new de,1/0);return}if(e){const r=this.boundingSphere.center;if(mr.setFromBufferAttribute(e),t)for(let s=0,l=t.length;s<l;s++){const o=t[s];Oa.setFromBufferAttribute(o),this.morphTargetsRelative?($n.addVectors(mr.min,Oa.min),mr.expandByPoint($n),$n.addVectors(mr.max,Oa.max),mr.expandByPoint($n)):(mr.expandByPoint(Oa.min),mr.expandByPoint(Oa.max))}mr.getCenter(r);let i=0;for(let s=0,l=e.count;s<l;s++)$n.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared($n));if(t)for(let s=0,l=t.length;s<l;s++){const o=t[s],u=this.morphTargetsRelative;for(let a=0,h=o.count;a<h;a++)$n.fromBufferAttribute(o,a),u&&(Ks.fromBufferAttribute(e,a),$n.add(Ks)),i=Math.max(i,r.distanceToSquared($n))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,l=t.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hr(new Float32Array(4*o),4));const u=this.getAttribute("tangent").array,a=[],h=[];for(let k=0;k<o;k++)a[k]=new de,h[k]=new de;const f=new de,v=new de,m=new de,b=new St,_=new St,E=new St,S=new de,N=new de;function D(k,L,z){f.fromArray(i,k*3),v.fromArray(i,L*3),m.fromArray(i,z*3),b.fromArray(l,k*2),_.fromArray(l,L*2),E.fromArray(l,z*2),v.sub(f),m.sub(f),_.sub(b),E.sub(b);const Q=1/(_.x*E.y-E.x*_.y);isFinite(Q)&&(S.copy(v).multiplyScalar(E.y).addScaledVector(m,-_.y).multiplyScalar(Q),N.copy(m).multiplyScalar(_.x).addScaledVector(v,-E.x).multiplyScalar(Q),a[k].add(S),a[L].add(S),a[z].add(S),h[k].add(N),h[L].add(N),h[z].add(N))}let F=this.groups;F.length===0&&(F=[{start:0,count:r.length}]);for(let k=0,L=F.length;k<L;++k){const z=F[k],Q=z.start,G=z.count;for(let oe=Q,ce=Q+G;oe<ce;oe+=3)D(r[oe+0],r[oe+1],r[oe+2])}const X=new de,j=new de,Y=new de,ae=new de;function $(k){Y.fromArray(s,k*3),ae.copy(Y);const L=a[k];X.copy(L),X.sub(Y.multiplyScalar(Y.dot(L))).normalize(),j.crossVectors(ae,L);const Q=j.dot(h[k])<0?-1:1;u[k*4]=X.x,u[k*4+1]=X.y,u[k*4+2]=X.z,u[k*4+3]=Q}for(let k=0,L=F.length;k<L;++k){const z=F[k],Q=z.start,G=z.count;for(let oe=Q,ce=Q+G;oe<ce;oe+=3)$(r[oe+0]),$(r[oe+1]),$(r[oe+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Hr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let v=0,m=r.count;v<m;v++)r.setXYZ(v,0,0,0);const i=new de,s=new de,l=new de,o=new de,u=new de,a=new de,h=new de,f=new de;if(e)for(let v=0,m=e.count;v<m;v+=3){const b=e.getX(v+0),_=e.getX(v+1),E=e.getX(v+2);i.fromBufferAttribute(t,b),s.fromBufferAttribute(t,_),l.fromBufferAttribute(t,E),h.subVectors(l,s),f.subVectors(i,s),h.cross(f),o.fromBufferAttribute(r,b),u.fromBufferAttribute(r,_),a.fromBufferAttribute(r,E),o.add(h),u.add(h),a.add(h),r.setXYZ(b,o.x,o.y,o.z),r.setXYZ(_,u.x,u.y,u.z),r.setXYZ(E,a.x,a.y,a.z)}else for(let v=0,m=t.count;v<m;v+=3)i.fromBufferAttribute(t,v+0),s.fromBufferAttribute(t,v+1),l.fromBufferAttribute(t,v+2),h.subVectors(l,s),f.subVectors(i,s),h.cross(f),r.setXYZ(v+0,h.x,h.y,h.z),r.setXYZ(v+1,h.x,h.y,h.z),r.setXYZ(v+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)$n.fromBufferAttribute(e,t),$n.normalize(),e.setXYZ(t,$n.x,$n.y,$n.z)}toNonIndexed(){function e(o,u){const a=o.array,h=o.itemSize,f=o.normalized,v=new a.constructor(u.length*h);let m=0,b=0;for(let _=0,E=u.length;_<E;_++){o.isInterleavedBufferAttribute?m=u[_]*o.data.stride+o.offset:m=u[_]*h;for(let S=0;S<h;S++)v[b++]=a[m++]}return new Hr(v,h,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Gr,r=this.index.array,i=this.attributes;for(const o in i){const u=i[o],a=e(u,r);t.setAttribute(o,a)}const s=this.morphAttributes;for(const o in s){const u=[],a=s[o];for(let h=0,f=a.length;h<f;h++){const v=a[h],m=e(v,r);u.push(m)}t.morphAttributes[o]=u}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let o=0,u=l.length;o<u;o++){const a=l[o];t.addGroup(a.start,a.count,a.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const a in u)u[a]!==void 0&&(e[a]=u[a]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const a=r[u];e.data.attributes[u]=a.toJSON(e.data)}const i={};let s=!1;for(const u in this.morphAttributes){const a=this.morphAttributes[u],h=[];for(let f=0,v=a.length;f<v;f++){const m=a[f];h.push(m.toJSON(e.data))}h.length>0&&(i[u]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const a in i){const h=i[a];this.setAttribute(a,h.clone(t))}const s=e.morphAttributes;for(const a in s){const h=[],f=s[a];for(let v=0,m=f.length;v<m;v++)h.push(f[v].clone(t));this.morphAttributes[a]=h}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let a=0,h=l.length;a<h;a++){const f=l[a];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Sp=new hn,ms=new jf,r0=new co,Mp=new de,Zs=new de,Js=new de,Qs=new de,mc=new de,i0=new de,s0=new St,a0=new St,o0=new St,Ep=new de,Tp=new de,Ap=new de,l0=new de,c0=new de;class xr extends tr{constructor(e=new Gr,t=new el){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=i.length;s<l;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,l=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){i0.set(0,0,0);for(let u=0,a=s.length;u<a;u++){const h=o[u],f=s[u];h!==0&&(mc.fromBufferAttribute(f,e),l?i0.addScaledVector(mc,h):i0.addScaledVector(mc.sub(t),h))}t.add(i0)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),r0.copy(r.boundingSphere),r0.applyMatrix4(s),ms.copy(e.ray).recast(e.near),!(r0.containsPoint(ms.origin)===!1&&(ms.intersectSphere(r0,Mp)===null||ms.origin.distanceToSquared(Mp)>(e.far-e.near)**2))&&(Sp.copy(s).invert(),ms.copy(e.ray).applyMatrix4(Sp),!(r.boundingBox!==null&&ms.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ms)))}_computeIntersections(e,t,r){let i;const s=this.geometry,l=this.material,o=s.index,u=s.attributes.position,a=s.attributes.uv,h=s.attributes.uv1,f=s.attributes.normal,v=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(l))for(let b=0,_=v.length;b<_;b++){const E=v[b],S=l[E.materialIndex],N=Math.max(E.start,m.start),D=Math.min(o.count,Math.min(E.start+E.count,m.start+m.count));for(let F=N,X=D;F<X;F+=3){const j=o.getX(F),Y=o.getX(F+1),ae=o.getX(F+2);i=u0(this,S,e,r,a,h,f,j,Y,ae),i&&(i.faceIndex=Math.floor(F/3),i.face.materialIndex=E.materialIndex,t.push(i))}}else{const b=Math.max(0,m.start),_=Math.min(o.count,m.start+m.count);for(let E=b,S=_;E<S;E+=3){const N=o.getX(E),D=o.getX(E+1),F=o.getX(E+2);i=u0(this,l,e,r,a,h,f,N,D,F),i&&(i.faceIndex=Math.floor(E/3),t.push(i))}}else if(u!==void 0)if(Array.isArray(l))for(let b=0,_=v.length;b<_;b++){const E=v[b],S=l[E.materialIndex],N=Math.max(E.start,m.start),D=Math.min(u.count,Math.min(E.start+E.count,m.start+m.count));for(let F=N,X=D;F<X;F+=3){const j=F,Y=F+1,ae=F+2;i=u0(this,S,e,r,a,h,f,j,Y,ae),i&&(i.faceIndex=Math.floor(F/3),i.face.materialIndex=E.materialIndex,t.push(i))}}else{const b=Math.max(0,m.start),_=Math.min(u.count,m.start+m.count);for(let E=b,S=_;E<S;E+=3){const N=E,D=E+1,F=E+2;i=u0(this,l,e,r,a,h,f,N,D,F),i&&(i.faceIndex=Math.floor(E/3),t.push(i))}}}}function qg(n,e,t,r,i,s,l,o){let u;if(e.side===Qn?u=r.intersectTriangle(l,s,i,!0,o):u=r.intersectTriangle(i,s,l,e.side===ss,o),u===null)return null;c0.copy(o),c0.applyMatrix4(n.matrixWorld);const a=t.ray.origin.distanceTo(c0);return a<t.near||a>t.far?null:{distance:a,point:c0.clone(),object:n}}function u0(n,e,t,r,i,s,l,o,u,a){n.getVertexPosition(o,Zs),n.getVertexPosition(u,Js),n.getVertexPosition(a,Qs);const h=qg(n,e,t,r,Zs,Js,Qs,l0);if(h){i&&(s0.fromBufferAttribute(i,o),a0.fromBufferAttribute(i,u),o0.fromBufferAttribute(i,a),h.uv=Ur.getInterpolation(l0,Zs,Js,Qs,s0,a0,o0,new St)),s&&(s0.fromBufferAttribute(s,o),a0.fromBufferAttribute(s,u),o0.fromBufferAttribute(s,a),h.uv1=Ur.getInterpolation(l0,Zs,Js,Qs,s0,a0,o0,new St),h.uv2=h.uv1),l&&(Ep.fromBufferAttribute(l,o),Tp.fromBufferAttribute(l,u),Ap.fromBufferAttribute(l,a),h.normal=Ur.getInterpolation(l0,Zs,Js,Qs,Ep,Tp,Ap,new de),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const f={a:o,b:u,c:a,normal:new de,materialIndex:0};Ur.getNormal(Zs,Js,Qs,f.normal),h.face=f}return h}class ho extends Gr{constructor(e=1,t=1,r=1,i=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:l};const o=this;i=Math.floor(i),s=Math.floor(s),l=Math.floor(l);const u=[],a=[],h=[],f=[];let v=0,m=0;b("z","y","x",-1,-1,r,t,e,l,s,0),b("z","y","x",1,-1,r,t,-e,l,s,1),b("x","z","y",1,1,e,r,t,i,l,2),b("x","z","y",1,-1,e,r,-t,i,l,3),b("x","y","z",1,-1,e,t,r,i,s,4),b("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(u),this.setAttribute("position",new Vn(a,3)),this.setAttribute("normal",new Vn(h,3)),this.setAttribute("uv",new Vn(f,2));function b(_,E,S,N,D,F,X,j,Y,ae,$){const k=F/Y,L=X/ae,z=F/2,Q=X/2,G=j/2,oe=Y+1,ce=ae+1;let be=0,Ne=0;const $e=new de;for(let Re=0;Re<ce;Re++){const ge=Re*L-Q;for(let we=0;we<oe;we++){const He=we*k-z;$e[_]=He*N,$e[E]=ge*D,$e[S]=G,a.push($e.x,$e.y,$e.z),$e[_]=0,$e[E]=0,$e[S]=j>0?1:-1,h.push($e.x,$e.y,$e.z),f.push(we/Y),f.push(1-Re/ae),be+=1}}for(let Re=0;Re<ae;Re++)for(let ge=0;ge<Y;ge++){const we=v+ge+oe*Re,He=v+ge+oe*(Re+1),Je=v+(ge+1)+oe*(Re+1),ke=v+(ge+1)+oe*Re;u.push(we,He,ke),u.push(He,Je,ke),Ne+=6}o.addGroup(m,Ne,$),m+=Ne,v+=be}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ho(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ba(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Yn(n){const e={};for(let t=0;t<n.length;t++){const r=ba(n[t]);for(const i in r)e[i]=r[i]}return e}function Xg(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Zf(n){return n.getRenderTarget()===null?n.outputColorSpace:Qt.workingColorSpace}const Pu={clone:ba,merge:Yn};var Yg=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Kg=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class as extends uo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Yg,this.fragmentShader=Kg,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ba(e.uniforms),this.uniformsGroups=Xg(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const l=this.uniforms[i].value;l&&l.isTexture?t.uniforms[i]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[i]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[i]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[i]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[i]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[i]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[i]={type:"m4",value:l.toArray()}:t.uniforms[i]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Jf extends tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new hn,this.projectionMatrix=new hn,this.projectionMatrixInverse=new hn,this.coordinateSystem=wi}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class vr extends Jf{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ja*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Wa*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ja*2*Math.atan(Math.tan(Wa*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Wa*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const l=this.view;if(this.view!==null&&this.view.enabled){const u=l.fullWidth,a=l.fullHeight;s+=l.offsetX*i/u,t-=l.offsetY*r/a,i*=l.width/u,r*=l.height/a}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ea=-90,ta=1;class Zg extends tr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new vr(ea,ta,e,t);i.layers=this.layers,this.add(i);const s=new vr(ea,ta,e,t);s.layers=this.layers,this.add(s);const l=new vr(ea,ta,e,t);l.layers=this.layers,this.add(l);const o=new vr(ea,ta,e,t);o.layers=this.layers,this.add(o);const u=new vr(ea,ta,e,t);u.layers=this.layers,this.add(u);const a=new vr(ea,ta,e,t);a.layers=this.layers,this.add(a)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,l,o,u]=t;for(const a of t)this.remove(a);if(e===wi)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===U0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const a of t)this.add(a),a.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,l,o,u,a,h]=this.children,f=e.getRenderTarget(),v=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,l),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,u),e.setRenderTarget(r,4,i),e.render(t,a),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),e.render(t,h),e.setRenderTarget(f,v,m),e.xr.enabled=b,r.texture.needsPMREMUpdate=!0}}class Qf extends er{constructor(e,t,r,i,s,l,o,u,a,h){e=e!==void 0?e:[],t=t!==void 0?t:fa,super(e,t,r,i,s,l,o,u,a,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Jg extends ks{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(qa("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Es?Tn:yr),this.texture=new Qf(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:In}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ho(5,5,5),s=new as({name:"CubemapFromEquirect",uniforms:ba(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Qn,blending:Qi});s.uniforms.tEquirect.value=t;const l=new xr(i,s),o=t.minFilter;return t.minFilter===ga&&(t.minFilter=In),new Zg(1,10,this).update(e,l),t.minFilter=o,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,r,i);e.setRenderTarget(s)}}const gc=new de,Qg=new de,e5=new Ot;class Xi{constructor(e=new de(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=gc.subVectors(r,t).cross(Qg.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(gc),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||e5.getNormalMatrix(e),i=this.coplanarPoint(gc).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const gs=new co,h0=new de;class Lu{constructor(e=new Xi,t=new Xi,r=new Xi,i=new Xi,s=new Xi,l=new Xi){this.planes=[e,t,r,i,s,l]}set(e,t,r,i,s,l){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(l),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=wi){const r=this.planes,i=e.elements,s=i[0],l=i[1],o=i[2],u=i[3],a=i[4],h=i[5],f=i[6],v=i[7],m=i[8],b=i[9],_=i[10],E=i[11],S=i[12],N=i[13],D=i[14],F=i[15];if(r[0].setComponents(u-s,v-a,E-m,F-S).normalize(),r[1].setComponents(u+s,v+a,E+m,F+S).normalize(),r[2].setComponents(u+l,v+h,E+b,F+N).normalize(),r[3].setComponents(u-l,v-h,E-b,F-N).normalize(),r[4].setComponents(u-o,v-f,E-_,F-D).normalize(),t===wi)r[5].setComponents(u+o,v+f,E+_,F+D).normalize();else if(t===U0)r[5].setComponents(o,f,_,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),gs.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),gs.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(gs)}intersectsSprite(e){return gs.center.set(0,0,0),gs.radius=.7071067811865476,gs.applyMatrix4(e.matrixWorld),this.intersectsSphere(gs)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(h0.x=i.normal.x>0?e.max.x:e.min.x,h0.y=i.normal.y>0?e.max.y:e.min.y,h0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(h0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function em(){let n=null,e=!1,t=null,r=null;function i(s,l){t(s,l),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function t5(n,e){const t=e.isWebGL2,r=new WeakMap;function i(a,h){const f=a.array,v=a.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,f,v),a.onUploadCallback();let b;if(f instanceof Float32Array)b=n.FLOAT;else if(f instanceof Uint16Array)if(a.isFloat16BufferAttribute)if(t)b=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else b=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)b=n.SHORT;else if(f instanceof Uint32Array)b=n.UNSIGNED_INT;else if(f instanceof Int32Array)b=n.INT;else if(f instanceof Int8Array)b=n.BYTE;else if(f instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:b,bytesPerElement:f.BYTES_PER_ELEMENT,version:a.version}}function s(a,h,f){const v=h.array,m=h.updateRange;n.bindBuffer(f,a),m.count===-1?n.bufferSubData(f,0,v):(t?n.bufferSubData(f,m.offset*v.BYTES_PER_ELEMENT,v,m.offset,m.count):n.bufferSubData(f,m.offset*v.BYTES_PER_ELEMENT,v.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function l(a){return a.isInterleavedBufferAttribute&&(a=a.data),r.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const h=r.get(a);h&&(n.deleteBuffer(h.buffer),r.delete(a))}function u(a,h){if(a.isGLBufferAttribute){const v=r.get(a);(!v||v.version<a.version)&&r.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const f=r.get(a);f===void 0?r.set(a,i(a,h)):f.version<a.version&&(s(f.buffer,a,h),f.version=a.version)}return{get:l,remove:o,update:u}}class Du extends Gr{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,l=t/2,o=Math.floor(r),u=Math.floor(i),a=o+1,h=u+1,f=e/o,v=t/u,m=[],b=[],_=[],E=[];for(let S=0;S<h;S++){const N=S*v-l;for(let D=0;D<a;D++){const F=D*f-s;b.push(F,-N,0),_.push(0,0,1),E.push(D/o),E.push(1-S/u)}}for(let S=0;S<u;S++)for(let N=0;N<o;N++){const D=N+a*S,F=N+a*(S+1),X=N+1+a*(S+1),j=N+1+a*S;m.push(D,F,j),m.push(F,X,j)}this.setIndex(m),this.setAttribute("position",new Vn(b,3)),this.setAttribute("normal",new Vn(_,3)),this.setAttribute("uv",new Vn(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Du(e.width,e.height,e.widthSegments,e.heightSegments)}}var n5=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,r5=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,i5=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,s5=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,a5=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,o5=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,l5=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,c5=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,u5=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,h5=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,d5=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,p5=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,f5=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,m5=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,g5=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,v5=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,b5=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,y5=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,x5=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,w5=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,_5=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,S5=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,M5=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,E5=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,T5=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,A5=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,k5=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,C5=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,R5="gl_FragColor = linearToOutputTexel( gl_FragColor );",$5=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,P5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,L5=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,D5=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,z5=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,N5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,O5=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,I5=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,U5=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,B5=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,F5=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,H5=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,G5=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,V5=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,W5=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,j5=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,q5=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,X5=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Y5=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,K5=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Z5=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,J5=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Q5=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ev=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,tv=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,nv=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,rv=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iv=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sv=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,av=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ov=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,lv=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,cv=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uv=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hv=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dv=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,pv=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,fv=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,mv=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,gv=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,vv=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,bv=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yv=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xv=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wv=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_v=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Sv=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Mv=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ev=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Tv=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Av=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kv=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Cv=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Rv=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,$v=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Pv=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Lv=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Dv=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,zv=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Nv=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ov=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Iv=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Uv=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Bv=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Fv=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Hv=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Gv=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Vv=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Wv=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,jv=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qv=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Xv=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Yv=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Kv=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Zv=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Jv=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qv=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,eb=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tb=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nb=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rb=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ib=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sb=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ab=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ob=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lb=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,cb=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ub=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hb=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,db=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pb=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fb=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mb=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gb=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vb=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bb=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yb=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xb=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,wb=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_b=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sb=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Mb=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eb=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tb=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ab=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kb=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Cb=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Rb=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,$b=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pb=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dt={alphahash_fragment:n5,alphahash_pars_fragment:r5,alphamap_fragment:i5,alphamap_pars_fragment:s5,alphatest_fragment:a5,alphatest_pars_fragment:o5,aomap_fragment:l5,aomap_pars_fragment:c5,begin_vertex:u5,beginnormal_vertex:h5,bsdfs:d5,iridescence_fragment:p5,bumpmap_pars_fragment:f5,clipping_planes_fragment:m5,clipping_planes_pars_fragment:g5,clipping_planes_pars_vertex:v5,clipping_planes_vertex:b5,color_fragment:y5,color_pars_fragment:x5,color_pars_vertex:w5,color_vertex:_5,common:S5,cube_uv_reflection_fragment:M5,defaultnormal_vertex:E5,displacementmap_pars_vertex:T5,displacementmap_vertex:A5,emissivemap_fragment:k5,emissivemap_pars_fragment:C5,colorspace_fragment:R5,colorspace_pars_fragment:$5,envmap_fragment:P5,envmap_common_pars_fragment:L5,envmap_pars_fragment:D5,envmap_pars_vertex:z5,envmap_physical_pars_fragment:q5,envmap_vertex:N5,fog_vertex:O5,fog_pars_vertex:I5,fog_fragment:U5,fog_pars_fragment:B5,gradientmap_pars_fragment:F5,lightmap_fragment:H5,lightmap_pars_fragment:G5,lights_lambert_fragment:V5,lights_lambert_pars_fragment:W5,lights_pars_begin:j5,lights_toon_fragment:X5,lights_toon_pars_fragment:Y5,lights_phong_fragment:K5,lights_phong_pars_fragment:Z5,lights_physical_fragment:J5,lights_physical_pars_fragment:Q5,lights_fragment_begin:ev,lights_fragment_maps:tv,lights_fragment_end:nv,logdepthbuf_fragment:rv,logdepthbuf_pars_fragment:iv,logdepthbuf_pars_vertex:sv,logdepthbuf_vertex:av,map_fragment:ov,map_pars_fragment:lv,map_particle_fragment:cv,map_particle_pars_fragment:uv,metalnessmap_fragment:hv,metalnessmap_pars_fragment:dv,morphcolor_vertex:pv,morphnormal_vertex:fv,morphtarget_pars_vertex:mv,morphtarget_vertex:gv,normal_fragment_begin:vv,normal_fragment_maps:bv,normal_pars_fragment:yv,normal_pars_vertex:xv,normal_vertex:wv,normalmap_pars_fragment:_v,clearcoat_normal_fragment_begin:Sv,clearcoat_normal_fragment_maps:Mv,clearcoat_pars_fragment:Ev,iridescence_pars_fragment:Tv,opaque_fragment:Av,packing:kv,premultiplied_alpha_fragment:Cv,project_vertex:Rv,dithering_fragment:$v,dithering_pars_fragment:Pv,roughnessmap_fragment:Lv,roughnessmap_pars_fragment:Dv,shadowmap_pars_fragment:zv,shadowmap_pars_vertex:Nv,shadowmap_vertex:Ov,shadowmask_pars_fragment:Iv,skinbase_vertex:Uv,skinning_pars_vertex:Bv,skinning_vertex:Fv,skinnormal_vertex:Hv,specularmap_fragment:Gv,specularmap_pars_fragment:Vv,tonemapping_fragment:Wv,tonemapping_pars_fragment:jv,transmission_fragment:qv,transmission_pars_fragment:Xv,uv_pars_fragment:Yv,uv_pars_vertex:Kv,uv_vertex:Zv,worldpos_vertex:Jv,background_vert:Qv,background_frag:eb,backgroundCube_vert:tb,backgroundCube_frag:nb,cube_vert:rb,cube_frag:ib,depth_vert:sb,depth_frag:ab,distanceRGBA_vert:ob,distanceRGBA_frag:lb,equirect_vert:cb,equirect_frag:ub,linedashed_vert:hb,linedashed_frag:db,meshbasic_vert:pb,meshbasic_frag:fb,meshlambert_vert:mb,meshlambert_frag:gb,meshmatcap_vert:vb,meshmatcap_frag:bb,meshnormal_vert:yb,meshnormal_frag:xb,meshphong_vert:wb,meshphong_frag:_b,meshphysical_vert:Sb,meshphysical_frag:Mb,meshtoon_vert:Eb,meshtoon_frag:Tb,points_vert:Ab,points_frag:kb,shadow_vert:Cb,shadow_frag:Rb,sprite_vert:$b,sprite_frag:Pb},nt={common:{diffuse:{value:new jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ot}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ot}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ot}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ot},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ot},normalScale:{value:new St(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ot},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ot}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ot}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ot}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0},uvTransform:{value:new Ot}},sprite:{diffuse:{value:new jt(16777215)},opacity:{value:1},center:{value:new St(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}}},cr={basic:{uniforms:Yn([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.fog]),vertexShader:Dt.meshbasic_vert,fragmentShader:Dt.meshbasic_frag},lambert:{uniforms:Yn([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new jt(0)}}]),vertexShader:Dt.meshlambert_vert,fragmentShader:Dt.meshlambert_frag},phong:{uniforms:Yn([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new jt(0)},specular:{value:new jt(1118481)},shininess:{value:30}}]),vertexShader:Dt.meshphong_vert,fragmentShader:Dt.meshphong_frag},standard:{uniforms:Yn([nt.common,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.roughnessmap,nt.metalnessmap,nt.fog,nt.lights,{emissive:{value:new jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag},toon:{uniforms:Yn([nt.common,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.gradientmap,nt.fog,nt.lights,{emissive:{value:new jt(0)}}]),vertexShader:Dt.meshtoon_vert,fragmentShader:Dt.meshtoon_frag},matcap:{uniforms:Yn([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,{matcap:{value:null}}]),vertexShader:Dt.meshmatcap_vert,fragmentShader:Dt.meshmatcap_frag},points:{uniforms:Yn([nt.points,nt.fog]),vertexShader:Dt.points_vert,fragmentShader:Dt.points_frag},dashed:{uniforms:Yn([nt.common,nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dt.linedashed_vert,fragmentShader:Dt.linedashed_frag},depth:{uniforms:Yn([nt.common,nt.displacementmap]),vertexShader:Dt.depth_vert,fragmentShader:Dt.depth_frag},normal:{uniforms:Yn([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,{opacity:{value:1}}]),vertexShader:Dt.meshnormal_vert,fragmentShader:Dt.meshnormal_frag},sprite:{uniforms:Yn([nt.sprite,nt.fog]),vertexShader:Dt.sprite_vert,fragmentShader:Dt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ot},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dt.background_vert,fragmentShader:Dt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Dt.backgroundCube_vert,fragmentShader:Dt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dt.cube_vert,fragmentShader:Dt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dt.equirect_vert,fragmentShader:Dt.equirect_frag},distanceRGBA:{uniforms:Yn([nt.common,nt.displacementmap,{referencePosition:{value:new de},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dt.distanceRGBA_vert,fragmentShader:Dt.distanceRGBA_frag},shadow:{uniforms:Yn([nt.lights,nt.fog,{color:{value:new jt(0)},opacity:{value:1}}]),vertexShader:Dt.shadow_vert,fragmentShader:Dt.shadow_frag}};cr.physical={uniforms:Yn([cr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ot},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ot},clearcoatNormalScale:{value:new St(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ot},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ot},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ot},sheen:{value:0},sheenColor:{value:new jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ot},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ot},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ot},transmissionSamplerSize:{value:new St},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ot},attenuationDistance:{value:0},attenuationColor:{value:new jt(0)},specularColor:{value:new jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ot},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ot},anisotropyVector:{value:new St},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ot}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag};const d0={r:0,b:0,g:0};function Lb(n,e,t,r,i,s,l){const o=new jt(0);let u=s===!0?0:1,a,h,f=null,v=0,m=null;function b(E,S){let N=!1,D=S.isScene===!0?S.background:null;D&&D.isTexture&&(D=(S.backgroundBlurriness>0?t:e).get(D)),D===null?_(o,u):D&&D.isColor&&(_(D,1),N=!0);const F=n.xr.getEnvironmentBlendMode();F==="additive"?r.buffers.color.setClear(0,0,0,1,l):F==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,l),(n.autoClear||N)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),D&&(D.isCubeTexture||D.mapping===Z0)?(h===void 0&&(h=new xr(new ho(1,1,1),new as({name:"BackgroundCubeMaterial",uniforms:ba(cr.backgroundCube.uniforms),vertexShader:cr.backgroundCube.vertexShader,fragmentShader:cr.backgroundCube.fragmentShader,side:Qn,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(X,j,Y){this.matrixWorld.copyPosition(Y.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=D,h.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,h.material.toneMapped=Qt.getTransfer(D.colorSpace)!==ln,(f!==D||v!==D.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,f=D,v=D.version,m=n.toneMapping),h.layers.enableAll(),E.unshift(h,h.geometry,h.material,0,0,null)):D&&D.isTexture&&(a===void 0&&(a=new xr(new Du(2,2),new as({name:"BackgroundMaterial",uniforms:ba(cr.background.uniforms),vertexShader:cr.background.vertexShader,fragmentShader:cr.background.fragmentShader,side:ss,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=D,a.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,a.material.toneMapped=Qt.getTransfer(D.colorSpace)!==ln,D.matrixAutoUpdate===!0&&D.updateMatrix(),a.material.uniforms.uvTransform.value.copy(D.matrix),(f!==D||v!==D.version||m!==n.toneMapping)&&(a.material.needsUpdate=!0,f=D,v=D.version,m=n.toneMapping),a.layers.enableAll(),E.unshift(a,a.geometry,a.material,0,0,null))}function _(E,S){E.getRGB(d0,Zf(n)),r.buffers.color.setClear(d0.r,d0.g,d0.b,S,l)}return{getClearColor:function(){return o},setClearColor:function(E,S=1){o.set(E),u=S,_(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(E){u=E,_(o,u)},render:b}}function Db(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),l=r.isWebGL2||s!==null,o={},u=E(null);let a=u,h=!1;function f(G,oe,ce,be,Ne){let $e=!1;if(l){const Re=_(be,ce,oe);a!==Re&&(a=Re,m(a.object)),$e=S(G,be,ce,Ne),$e&&N(G,be,ce,Ne)}else{const Re=oe.wireframe===!0;(a.geometry!==be.id||a.program!==ce.id||a.wireframe!==Re)&&(a.geometry=be.id,a.program=ce.id,a.wireframe=Re,$e=!0)}Ne!==null&&t.update(Ne,n.ELEMENT_ARRAY_BUFFER),($e||h)&&(h=!1,ae(G,oe,ce,be),Ne!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(Ne).buffer))}function v(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(G){return r.isWebGL2?n.bindVertexArray(G):s.bindVertexArrayOES(G)}function b(G){return r.isWebGL2?n.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function _(G,oe,ce){const be=ce.wireframe===!0;let Ne=o[G.id];Ne===void 0&&(Ne={},o[G.id]=Ne);let $e=Ne[oe.id];$e===void 0&&($e={},Ne[oe.id]=$e);let Re=$e[be];return Re===void 0&&(Re=E(v()),$e[be]=Re),Re}function E(G){const oe=[],ce=[],be=[];for(let Ne=0;Ne<i;Ne++)oe[Ne]=0,ce[Ne]=0,be[Ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:oe,enabledAttributes:ce,attributeDivisors:be,object:G,attributes:{},index:null}}function S(G,oe,ce,be){const Ne=a.attributes,$e=oe.attributes;let Re=0;const ge=ce.getAttributes();for(const we in ge)if(ge[we].location>=0){const Je=Ne[we];let ke=$e[we];if(ke===void 0&&(we==="instanceMatrix"&&G.instanceMatrix&&(ke=G.instanceMatrix),we==="instanceColor"&&G.instanceColor&&(ke=G.instanceColor)),Je===void 0||Je.attribute!==ke||ke&&Je.data!==ke.data)return!0;Re++}return a.attributesNum!==Re||a.index!==be}function N(G,oe,ce,be){const Ne={},$e=oe.attributes;let Re=0;const ge=ce.getAttributes();for(const we in ge)if(ge[we].location>=0){let Je=$e[we];Je===void 0&&(we==="instanceMatrix"&&G.instanceMatrix&&(Je=G.instanceMatrix),we==="instanceColor"&&G.instanceColor&&(Je=G.instanceColor));const ke={};ke.attribute=Je,Je&&Je.data&&(ke.data=Je.data),Ne[we]=ke,Re++}a.attributes=Ne,a.attributesNum=Re,a.index=be}function D(){const G=a.newAttributes;for(let oe=0,ce=G.length;oe<ce;oe++)G[oe]=0}function F(G){X(G,0)}function X(G,oe){const ce=a.newAttributes,be=a.enabledAttributes,Ne=a.attributeDivisors;ce[G]=1,be[G]===0&&(n.enableVertexAttribArray(G),be[G]=1),Ne[G]!==oe&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,oe),Ne[G]=oe)}function j(){const G=a.newAttributes,oe=a.enabledAttributes;for(let ce=0,be=oe.length;ce<be;ce++)oe[ce]!==G[ce]&&(n.disableVertexAttribArray(ce),oe[ce]=0)}function Y(G,oe,ce,be,Ne,$e,Re){Re===!0?n.vertexAttribIPointer(G,oe,ce,Ne,$e):n.vertexAttribPointer(G,oe,ce,be,Ne,$e)}function ae(G,oe,ce,be){if(r.isWebGL2===!1&&(G.isInstancedMesh||be.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;D();const Ne=be.attributes,$e=ce.getAttributes(),Re=oe.defaultAttributeValues;for(const ge in $e){const we=$e[ge];if(we.location>=0){let He=Ne[ge];if(He===void 0&&(ge==="instanceMatrix"&&G.instanceMatrix&&(He=G.instanceMatrix),ge==="instanceColor"&&G.instanceColor&&(He=G.instanceColor)),He!==void 0){const Je=He.normalized,ke=He.itemSize,H=t.get(He);if(H===void 0)continue;const K=H.buffer,fe=H.type,xe=H.bytesPerElement,Ge=r.isWebGL2===!0&&(fe===n.INT||fe===n.UNSIGNED_INT||He.gpuType===Lf);if(He.isInterleavedBufferAttribute){const Ee=He.data,ue=Ee.stride,Ue=He.offset;if(Ee.isInstancedInterleavedBuffer){for(let Pe=0;Pe<we.locationSize;Pe++)X(we.location+Pe,Ee.meshPerAttribute);G.isInstancedMesh!==!0&&be._maxInstanceCount===void 0&&(be._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let Pe=0;Pe<we.locationSize;Pe++)F(we.location+Pe);n.bindBuffer(n.ARRAY_BUFFER,K);for(let Pe=0;Pe<we.locationSize;Pe++)Y(we.location+Pe,ke/we.locationSize,fe,Je,ue*xe,(Ue+ke/we.locationSize*Pe)*xe,Ge)}else{if(He.isInstancedBufferAttribute){for(let Ee=0;Ee<we.locationSize;Ee++)X(we.location+Ee,He.meshPerAttribute);G.isInstancedMesh!==!0&&be._maxInstanceCount===void 0&&(be._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let Ee=0;Ee<we.locationSize;Ee++)F(we.location+Ee);n.bindBuffer(n.ARRAY_BUFFER,K);for(let Ee=0;Ee<we.locationSize;Ee++)Y(we.location+Ee,ke/we.locationSize,fe,Je,ke*xe,ke/we.locationSize*Ee*xe,Ge)}}else if(Re!==void 0){const Je=Re[ge];if(Je!==void 0)switch(Je.length){case 2:n.vertexAttrib2fv(we.location,Je);break;case 3:n.vertexAttrib3fv(we.location,Je);break;case 4:n.vertexAttrib4fv(we.location,Je);break;default:n.vertexAttrib1fv(we.location,Je)}}}}j()}function $(){z();for(const G in o){const oe=o[G];for(const ce in oe){const be=oe[ce];for(const Ne in be)b(be[Ne].object),delete be[Ne];delete oe[ce]}delete o[G]}}function k(G){if(o[G.id]===void 0)return;const oe=o[G.id];for(const ce in oe){const be=oe[ce];for(const Ne in be)b(be[Ne].object),delete be[Ne];delete oe[ce]}delete o[G.id]}function L(G){for(const oe in o){const ce=o[oe];if(ce[G.id]===void 0)continue;const be=ce[G.id];for(const Ne in be)b(be[Ne].object),delete be[Ne];delete ce[G.id]}}function z(){Q(),h=!0,a!==u&&(a=u,m(a.object))}function Q(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:f,reset:z,resetDefaultState:Q,dispose:$,releaseStatesOfGeometry:k,releaseStatesOfProgram:L,initAttributes:D,enableAttribute:F,disableUnusedAttributes:j}}function zb(n,e,t,r){const i=r.isWebGL2;let s;function l(a){s=a}function o(a,h){n.drawArrays(s,a,h),t.update(h,s,1)}function u(a,h,f){if(f===0)return;let v,m;if(i)v=n,m="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[m](s,a,h,f),t.update(h,s,f)}this.setMode=l,this.render=o,this.renderInstances=u}function Nb(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const Y=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(Y.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(Y){if(Y==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";Y="mediump"}return Y==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let o=t.precision!==void 0?t.precision:"highp";const u=s(o);u!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",u,"instead."),o=u);const a=l||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),b=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),E=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),N=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=v>0,F=l||e.has("OES_texture_float"),X=D&&F,j=l?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:a,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:h,maxTextures:f,maxVertexTextures:v,maxTextureSize:m,maxCubemapSize:b,maxAttributes:_,maxVertexUniforms:E,maxVaryings:S,maxFragmentUniforms:N,vertexTextures:D,floatFragmentTextures:F,floatVertexTextures:X,maxSamples:j}}function Ob(n){const e=this;let t=null,r=0,i=!1,s=!1;const l=new Xi,o=new Ot,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,v){const m=f.length!==0||v||r!==0||i;return i=v,r=f.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,v){t=h(f,v,0)},this.setState=function(f,v,m){const b=f.clippingPlanes,_=f.clipIntersection,E=f.clipShadows,S=n.get(f);if(!i||b===null||b.length===0||s&&!E)s?h(null):a();else{const N=s?0:r,D=N*4;let F=S.clippingState||null;u.value=F,F=h(b,v,D,m);for(let X=0;X!==D;++X)F[X]=t[X];S.clippingState=F,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=N}};function a(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(f,v,m,b){const _=f!==null?f.length:0;let E=null;if(_!==0){if(E=u.value,b!==!0||E===null){const S=m+_*4,N=v.matrixWorldInverse;o.getNormalMatrix(N),(E===null||E.length<S)&&(E=new Float32Array(S));for(let D=0,F=m;D!==_;++D,F+=4)l.copy(f[D]).applyMatrix4(N,o),l.normal.toArray(E,F),E[F+3]=l.constant}u.value=E,u.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,E}}function Ib(n){let e=new WeakMap;function t(l,o){return o===D0?l.mapping=fa:o===Yc&&(l.mapping=ma),l}function r(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const o=l.mapping;if(o===D0||o===Yc)if(e.has(l)){const u=e.get(l).texture;return t(u,l.mapping)}else{const u=l.image;if(u&&u.height>0){const a=new Jg(u.height/2);return a.fromEquirectangularTexture(n,l),e.set(l,a),l.addEventListener("dispose",i),t(a.texture,l.mapping)}else return null}}return l}function i(l){const o=l.target;o.removeEventListener("dispose",i);const u=e.get(o);u!==void 0&&(e.delete(o),u.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ub extends Jf{constructor(e=-1,t=1,r=1,i=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,l=r+e,o=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const a=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=a*this.view.offsetX,l=s+a*this.view.width,o-=h*this.view.offsetY,u=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,l,o,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const la=4,kp=[.125,.215,.35,.446,.526,.582],xs=20,vc=new Ub,Cp=new jt;let bc=null;const ys=(1+Math.sqrt(5))/2,na=1/ys,Rp=[new de(1,1,1),new de(-1,1,1),new de(1,1,-1),new de(-1,1,-1),new de(0,ys,na),new de(0,ys,-na),new de(na,0,ys),new de(-na,0,ys),new de(ys,na,0),new de(-ys,na,0)];class $p{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){bc=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Dp(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Lp(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(bc),e.scissorTest=!1,p0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===fa||e.mapping===ma?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),bc=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:In,minFilter:In,generateMipmaps:!1,type:xi,format:Br,colorSpace:ni,depthBuffer:!1},i=Pp(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Pp(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Bb(s)),this._blurMaterial=Fb(s,e,t)}return i}_compileMaterial(e){const t=new xr(this._lodPlanes[0],e);this._renderer.compile(t,vc)}_sceneToCubeUV(e,t,r,i){const o=new vr(90,1,t,r),u=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,v=h.toneMapping;h.getClearColor(Cp),h.toneMapping=es,h.autoClear=!1;const m=new el({name:"PMREM.Background",side:Qn,depthWrite:!1,depthTest:!1}),b=new xr(new ho,m);let _=!1;const E=e.background;E?E.isColor&&(m.color.copy(E),e.background=null,_=!0):(m.color.copy(Cp),_=!0);for(let S=0;S<6;S++){const N=S%3;N===0?(o.up.set(0,u[S],0),o.lookAt(a[S],0,0)):N===1?(o.up.set(0,0,u[S]),o.lookAt(0,a[S],0)):(o.up.set(0,u[S],0),o.lookAt(0,0,a[S]));const D=this._cubeSize;p0(i,N*D,S>2?D:0,D,D),h.setRenderTarget(i),_&&h.render(b,o),h.render(e,o)}b.geometry.dispose(),b.material.dispose(),h.toneMapping=v,h.autoClear=f,e.background=E}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===fa||e.mapping===ma;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Dp()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Lp());const s=i?this._cubemapMaterial:this._equirectMaterial,l=new xr(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const u=this._cubeSize;p0(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(l,vc)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),l=Rp[(i-1)%Rp.length];this._blur(e,i-1,i,s,l)}t.autoClear=r}_blur(e,t,r,i,s){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,r,i,"latitudinal",s),this._halfBlur(l,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,l,o){const u=this._renderer,a=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,f=new xr(this._lodPlanes[i],a),v=a.uniforms,m=this._sizeLods[r]-1,b=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*xs-1),_=s/b,E=isFinite(s)?1+Math.floor(h*_):xs;E>xs&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${xs}`);const S=[];let N=0;for(let Y=0;Y<xs;++Y){const ae=Y/_,$=Math.exp(-ae*ae/2);S.push($),Y===0?N+=$:Y<E&&(N+=2*$)}for(let Y=0;Y<S.length;Y++)S[Y]=S[Y]/N;v.envMap.value=e.texture,v.samples.value=E,v.weights.value=S,v.latitudinal.value=l==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:D}=this;v.dTheta.value=b,v.mipInt.value=D-r;const F=this._sizeLods[i],X=3*F*(i>D-la?i-D+la:0),j=4*(this._cubeSize-F);p0(t,X,j,3*F,2*F),u.setRenderTarget(t),u.render(f,vc)}}function Bb(n){const e=[],t=[],r=[];let i=n;const s=n-la+1+kp.length;for(let l=0;l<s;l++){const o=Math.pow(2,i);t.push(o);let u=1/o;l>n-la?u=kp[l-n+la-1]:l===0&&(u=0),r.push(u);const a=1/(o-2),h=-a,f=1+a,v=[h,h,f,h,f,f,h,h,f,f,h,f],m=6,b=6,_=3,E=2,S=1,N=new Float32Array(_*b*m),D=new Float32Array(E*b*m),F=new Float32Array(S*b*m);for(let j=0;j<m;j++){const Y=j%3*2/3-1,ae=j>2?0:-1,$=[Y,ae,0,Y+2/3,ae,0,Y+2/3,ae+1,0,Y,ae,0,Y+2/3,ae+1,0,Y,ae+1,0];N.set($,_*b*j),D.set(v,E*b*j);const k=[j,j,j,j,j,j];F.set(k,S*b*j)}const X=new Gr;X.setAttribute("position",new Hr(N,_)),X.setAttribute("uv",new Hr(D,E)),X.setAttribute("faceIndex",new Hr(F,S)),e.push(X),i>la&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function Pp(n,e,t){const r=new ks(n,e,t);return r.texture.mapping=Z0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function p0(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Fb(n,e,t){const r=new Float32Array(xs),i=new de(0,1,0);return new as({name:"SphericalGaussianBlur",defines:{n:xs,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:zu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qi,depthTest:!1,depthWrite:!1})}function Lp(){return new as({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:zu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qi,depthTest:!1,depthWrite:!1})}function Dp(){return new as({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:zu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qi,depthTest:!1,depthWrite:!1})}function zu(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Hb(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const u=o.mapping,a=u===D0||u===Yc,h=u===fa||u===ma;if(a||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let f=e.get(o);return t===null&&(t=new $p(n)),f=a?t.fromEquirectangular(o,f):t.fromCubemap(o,f),e.set(o,f),f.texture}else{if(e.has(o))return e.get(o).texture;{const f=o.image;if(a&&f&&f.height>0||h&&f&&i(f)){t===null&&(t=new $p(n));const v=a?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,v),o.addEventListener("dispose",s),v.texture}else return null}}}return o}function i(o){let u=0;const a=6;for(let h=0;h<a;h++)o[h]!==void 0&&u++;return u===a}function s(o){const u=o.target;u.removeEventListener("dispose",s);const a=e.get(u);a!==void 0&&(e.delete(u),a.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:l}}function Gb(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Vb(n,e,t,r){const i={},s=new WeakMap;function l(f){const v=f.target;v.index!==null&&e.remove(v.index);for(const b in v.attributes)e.remove(v.attributes[b]);for(const b in v.morphAttributes){const _=v.morphAttributes[b];for(let E=0,S=_.length;E<S;E++)e.remove(_[E])}v.removeEventListener("dispose",l),delete i[v.id];const m=s.get(v);m&&(e.remove(m),s.delete(v)),r.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function o(f,v){return i[v.id]===!0||(v.addEventListener("dispose",l),i[v.id]=!0,t.memory.geometries++),v}function u(f){const v=f.attributes;for(const b in v)e.update(v[b],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const b in m){const _=m[b];for(let E=0,S=_.length;E<S;E++)e.update(_[E],n.ARRAY_BUFFER)}}function a(f){const v=[],m=f.index,b=f.attributes.position;let _=0;if(m!==null){const N=m.array;_=m.version;for(let D=0,F=N.length;D<F;D+=3){const X=N[D+0],j=N[D+1],Y=N[D+2];v.push(X,j,j,Y,Y,X)}}else if(b!==void 0){const N=b.array;_=b.version;for(let D=0,F=N.length/3-1;D<F;D+=3){const X=D+0,j=D+1,Y=D+2;v.push(X,j,j,Y,Y,X)}}else return;const E=new(Hf(v)?Kf:Yf)(v,1);E.version=_;const S=s.get(f);S&&e.remove(S),s.set(f,E)}function h(f){const v=s.get(f);if(v){const m=f.index;m!==null&&v.version<m.version&&a(f)}else a(f);return s.get(f)}return{get:o,update:u,getWireframeAttribute:h}}function Wb(n,e,t,r){const i=r.isWebGL2;let s;function l(v){s=v}let o,u;function a(v){o=v.type,u=v.bytesPerElement}function h(v,m){n.drawElements(s,m,o,v*u),t.update(m,s,1)}function f(v,m,b){if(b===0)return;let _,E;if(i)_=n,E="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[E](s,m,o,v*u,b),t.update(m,s,b)}this.setMode=l,this.setIndex=a,this.render=h,this.renderInstances=f}function jb(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,l,o){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function qb(n,e){return n[0]-e[0]}function Xb(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Yb(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,l=new en,o=[];for(let a=0;a<8;a++)o[a]=[a,0];function u(a,h,f){const v=a.morphTargetInfluences;if(e.isWebGL2===!0){const b=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,_=b!==void 0?b.length:0;let E=s.get(h);if(E===void 0||E.count!==_){let oe=function(){Q.dispose(),s.delete(h),h.removeEventListener("dispose",oe)};var m=oe;E!==void 0&&E.texture.dispose();const D=h.morphAttributes.position!==void 0,F=h.morphAttributes.normal!==void 0,X=h.morphAttributes.color!==void 0,j=h.morphAttributes.position||[],Y=h.morphAttributes.normal||[],ae=h.morphAttributes.color||[];let $=0;D===!0&&($=1),F===!0&&($=2),X===!0&&($=3);let k=h.attributes.position.count*$,L=1;k>e.maxTextureSize&&(L=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const z=new Float32Array(k*L*4*_),Q=new Wf(z,k,L,_);Q.type=Fr,Q.needsUpdate=!0;const G=$*4;for(let ce=0;ce<_;ce++){const be=j[ce],Ne=Y[ce],$e=ae[ce],Re=k*L*4*ce;for(let ge=0;ge<be.count;ge++){const we=ge*G;D===!0&&(l.fromBufferAttribute(be,ge),z[Re+we+0]=l.x,z[Re+we+1]=l.y,z[Re+we+2]=l.z,z[Re+we+3]=0),F===!0&&(l.fromBufferAttribute(Ne,ge),z[Re+we+4]=l.x,z[Re+we+5]=l.y,z[Re+we+6]=l.z,z[Re+we+7]=0),X===!0&&(l.fromBufferAttribute($e,ge),z[Re+we+8]=l.x,z[Re+we+9]=l.y,z[Re+we+10]=l.z,z[Re+we+11]=$e.itemSize===4?l.w:1)}}E={count:_,texture:Q,size:new St(k,L)},s.set(h,E),h.addEventListener("dispose",oe)}let S=0;for(let D=0;D<v.length;D++)S+=v[D];const N=h.morphTargetsRelative?1:1-S;f.getUniforms().setValue(n,"morphTargetBaseInfluence",N),f.getUniforms().setValue(n,"morphTargetInfluences",v),f.getUniforms().setValue(n,"morphTargetsTexture",E.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",E.size)}else{const b=v===void 0?0:v.length;let _=r[h.id];if(_===void 0||_.length!==b){_=[];for(let F=0;F<b;F++)_[F]=[F,0];r[h.id]=_}for(let F=0;F<b;F++){const X=_[F];X[0]=F,X[1]=v[F]}_.sort(Xb);for(let F=0;F<8;F++)F<b&&_[F][1]?(o[F][0]=_[F][0],o[F][1]=_[F][1]):(o[F][0]=Number.MAX_SAFE_INTEGER,o[F][1]=0);o.sort(qb);const E=h.morphAttributes.position,S=h.morphAttributes.normal;let N=0;for(let F=0;F<8;F++){const X=o[F],j=X[0],Y=X[1];j!==Number.MAX_SAFE_INTEGER&&Y?(E&&h.getAttribute("morphTarget"+F)!==E[j]&&h.setAttribute("morphTarget"+F,E[j]),S&&h.getAttribute("morphNormal"+F)!==S[j]&&h.setAttribute("morphNormal"+F,S[j]),i[F]=Y,N+=Y):(E&&h.hasAttribute("morphTarget"+F)===!0&&h.deleteAttribute("morphTarget"+F),S&&h.hasAttribute("morphNormal"+F)===!0&&h.deleteAttribute("morphNormal"+F),i[F]=0)}const D=h.morphTargetsRelative?1:1-N;f.getUniforms().setValue(n,"morphTargetBaseInfluence",D),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:u}}function Kb(n,e,t,r){let i=new WeakMap;function s(u){const a=r.render.frame,h=u.geometry,f=e.get(u,h);if(i.get(f)!==a&&(e.update(f),i.set(f,a)),u.isInstancedMesh&&(u.hasEventListener("dispose",o)===!1&&u.addEventListener("dispose",o),i.get(u)!==a&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),i.set(u,a))),u.isSkinnedMesh){const v=u.skeleton;i.get(v)!==a&&(v.update(),i.set(v,a))}return f}function l(){i=new WeakMap}function o(u){const a=u.target;a.removeEventListener("dispose",o),t.remove(a.instanceMatrix),a.instanceColor!==null&&t.remove(a.instanceColor)}return{update:s,dispose:l}}const tm=new er,nm=new Wf,rm=new Lg,im=new Qf,zp=[],Np=[],Op=new Float32Array(16),Ip=new Float32Array(9),Up=new Float32Array(4);function Ea(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=zp[i];if(s===void 0&&(s=new Float32Array(i),zp[i]=s),e!==0){r.toArray(s,0);for(let l=1,o=0;l!==e;++l)o+=t,n[l].toArray(s,o)}return s}function kn(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Cn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function tl(n,e){let t=Np[e];t===void 0&&(t=new Int32Array(e),Np[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Zb(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Jb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2fv(this.addr,e),Cn(t,e)}}function Qb(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(kn(t,e))return;n.uniform3fv(this.addr,e),Cn(t,e)}}function e6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4fv(this.addr,e),Cn(t,e)}}function t6(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Cn(t,e)}else{if(kn(t,r))return;Up.set(r),n.uniformMatrix2fv(this.addr,!1,Up),Cn(t,r)}}function n6(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Cn(t,e)}else{if(kn(t,r))return;Ip.set(r),n.uniformMatrix3fv(this.addr,!1,Ip),Cn(t,r)}}function r6(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Cn(t,e)}else{if(kn(t,r))return;Op.set(r),n.uniformMatrix4fv(this.addr,!1,Op),Cn(t,r)}}function i6(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function s6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2iv(this.addr,e),Cn(t,e)}}function a6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kn(t,e))return;n.uniform3iv(this.addr,e),Cn(t,e)}}function o6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4iv(this.addr,e),Cn(t,e)}}function l6(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function c6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;n.uniform2uiv(this.addr,e),Cn(t,e)}}function u6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kn(t,e))return;n.uniform3uiv(this.addr,e),Cn(t,e)}}function h6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;n.uniform4uiv(this.addr,e),Cn(t,e)}}function d6(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||tm,i)}function p6(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||rm,i)}function f6(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||im,i)}function m6(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||nm,i)}function g6(n){switch(n){case 5126:return Zb;case 35664:return Jb;case 35665:return Qb;case 35666:return e6;case 35674:return t6;case 35675:return n6;case 35676:return r6;case 5124:case 35670:return i6;case 35667:case 35671:return s6;case 35668:case 35672:return a6;case 35669:case 35673:return o6;case 5125:return l6;case 36294:return c6;case 36295:return u6;case 36296:return h6;case 35678:case 36198:case 36298:case 36306:case 35682:return d6;case 35679:case 36299:case 36307:return p6;case 35680:case 36300:case 36308:case 36293:return f6;case 36289:case 36303:case 36311:case 36292:return m6}}function v6(n,e){n.uniform1fv(this.addr,e)}function b6(n,e){const t=Ea(e,this.size,2);n.uniform2fv(this.addr,t)}function y6(n,e){const t=Ea(e,this.size,3);n.uniform3fv(this.addr,t)}function x6(n,e){const t=Ea(e,this.size,4);n.uniform4fv(this.addr,t)}function w6(n,e){const t=Ea(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function _6(n,e){const t=Ea(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function S6(n,e){const t=Ea(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function M6(n,e){n.uniform1iv(this.addr,e)}function E6(n,e){n.uniform2iv(this.addr,e)}function T6(n,e){n.uniform3iv(this.addr,e)}function A6(n,e){n.uniform4iv(this.addr,e)}function k6(n,e){n.uniform1uiv(this.addr,e)}function C6(n,e){n.uniform2uiv(this.addr,e)}function R6(n,e){n.uniform3uiv(this.addr,e)}function $6(n,e){n.uniform4uiv(this.addr,e)}function P6(n,e,t){const r=this.cache,i=e.length,s=tl(t,i);kn(r,s)||(n.uniform1iv(this.addr,s),Cn(r,s));for(let l=0;l!==i;++l)t.setTexture2D(e[l]||tm,s[l])}function L6(n,e,t){const r=this.cache,i=e.length,s=tl(t,i);kn(r,s)||(n.uniform1iv(this.addr,s),Cn(r,s));for(let l=0;l!==i;++l)t.setTexture3D(e[l]||rm,s[l])}function D6(n,e,t){const r=this.cache,i=e.length,s=tl(t,i);kn(r,s)||(n.uniform1iv(this.addr,s),Cn(r,s));for(let l=0;l!==i;++l)t.setTextureCube(e[l]||im,s[l])}function z6(n,e,t){const r=this.cache,i=e.length,s=tl(t,i);kn(r,s)||(n.uniform1iv(this.addr,s),Cn(r,s));for(let l=0;l!==i;++l)t.setTexture2DArray(e[l]||nm,s[l])}function N6(n){switch(n){case 5126:return v6;case 35664:return b6;case 35665:return y6;case 35666:return x6;case 35674:return w6;case 35675:return _6;case 35676:return S6;case 5124:case 35670:return M6;case 35667:case 35671:return E6;case 35668:case 35672:return T6;case 35669:case 35673:return A6;case 5125:return k6;case 36294:return C6;case 36295:return R6;case 36296:return $6;case 35678:case 36198:case 36298:case 36306:case 35682:return P6;case 35679:case 36299:case 36307:return L6;case 35680:case 36300:case 36308:case 36293:return D6;case 36289:case 36303:case 36311:case 36292:return z6}}class O6{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=g6(t.type)}}class I6{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=N6(t.type)}}class U6{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,l=i.length;s!==l;++s){const o=i[s];o.setValue(e,t[o.id],r)}}}const yc=/(\w+)(\])?(\[|\.)?/g;function Bp(n,e){n.seq.push(e),n.map[e.id]=e}function B6(n,e,t){const r=n.name,i=r.length;for(yc.lastIndex=0;;){const s=yc.exec(r),l=yc.lastIndex;let o=s[1];const u=s[2]==="]",a=s[3];if(u&&(o=o|0),a===void 0||a==="["&&l+2===i){Bp(t,a===void 0?new O6(o,n,e):new I6(o,n,e));break}else{let f=t.map[o];f===void 0&&(f=new U6(o),Bp(t,f)),t=f}}}class A0{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),l=e.getUniformLocation(t,s.name);B6(s,l,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,l=t.length;s!==l;++s){const o=t[s],u=r[o.id];u.needsUpdate!==!1&&o.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const l=e[i];l.id in t&&r.push(l)}return r}}function Fp(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let F6=0;function H6(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let l=i;l<s;l++){const o=l+1;r.push(`${o===e?">":" "} ${o}: ${t[l]}`)}return r.join(`
`)}function G6(n){const e=Qt.getPrimaries(Qt.workingColorSpace),t=Qt.getPrimaries(n);let r;switch(e===t?r="":e===I0&&t===O0?r="LinearDisplayP3ToLinearSRGB":e===O0&&t===I0&&(r="LinearSRGBToLinearDisplayP3"),n){case ni:case J0:return[r,"LinearTransferOETF"];case Tn:case Ru:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function Hp(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const l=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+H6(n.getShaderSource(e),l)}else return i}function V6(n,e){const t=G6(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function W6(n,e){let t;switch(e){case F3:t="Linear";break;case H3:t="Reinhard";break;case G3:t="OptimizedCineon";break;case V3:t="ACESFilmic";break;case W3:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function j6(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Fa).join(`
`)}function q6(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function X6(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),l=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[l]={type:s.type,location:n.getAttribLocation(e,l),locationSize:o}}return t}function Fa(n){return n!==""}function Gp(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Vp(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Y6=/^[ \t]*#include +<([\w\d./]+)>/gm;function eu(n){return n.replace(Y6,Z6)}const K6=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Z6(n,e){let t=Dt[e];if(t===void 0){const r=K6.get(e);if(r!==void 0)t=Dt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return eu(t)}const J6=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wp(n){return n.replace(J6,Q6)}function Q6(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function jp(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function e7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===kf?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===y3?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===vi&&(e="SHADOWMAP_TYPE_VSM"),e}function t7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case fa:case ma:e="ENVMAP_TYPE_CUBE";break;case Z0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function n7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ma:e="ENVMAP_MODE_REFRACTION";break}return e}function r7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case $f:e="ENVMAP_BLENDING_MULTIPLY";break;case U3:e="ENVMAP_BLENDING_MIX";break;case B3:e="ENVMAP_BLENDING_ADD";break}return e}function i7(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function s7(n,e,t,r){const i=n.getContext(),s=t.defines;let l=t.vertexShader,o=t.fragmentShader;const u=e7(t),a=t7(t),h=n7(t),f=r7(t),v=i7(t),m=t.isWebGL2?"":j6(t),b=q6(s),_=i.createProgram();let E,S,N=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(Fa).join(`
`),E.length>0&&(E+=`
`),S=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(Fa).join(`
`),S.length>0&&(S+=`
`)):(E=[jp(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fa).join(`
`),S=[m,jp(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+a:"",t.envMap?"#define "+h:"",t.envMap?"#define "+f:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==es?"#define TONE_MAPPING":"",t.toneMapping!==es?Dt.tonemapping_pars_fragment:"",t.toneMapping!==es?W6("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Dt.colorspace_pars_fragment,V6("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Fa).join(`
`)),l=eu(l),l=Gp(l,t),l=Vp(l,t),o=eu(o),o=Gp(o,t),o=Vp(o,t),l=Wp(l),o=Wp(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(N=`#version 300 es
`,E=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,S=["#define varying in",t.glslVersion===up?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===up?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const D=N+E+l,F=N+S+o,X=Fp(i,i.VERTEX_SHADER,D),j=Fp(i,i.FRAGMENT_SHADER,F);if(i.attachShader(_,X),i.attachShader(_,j),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_),n.debug.checkShaderErrors){const $=i.getProgramInfoLog(_).trim(),k=i.getShaderInfoLog(X).trim(),L=i.getShaderInfoLog(j).trim();let z=!0,Q=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,_,X,j);else{const G=Hp(i,X,"vertex"),oe=Hp(i,j,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+$+`
`+G+`
`+oe)}else $!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$):(k===""||L==="")&&(Q=!1);Q&&(this.diagnostics={runnable:z,programLog:$,vertexShader:{log:k,prefix:E},fragmentShader:{log:L,prefix:S}})}i.deleteShader(X),i.deleteShader(j);let Y;this.getUniforms=function(){return Y===void 0&&(Y=new A0(i,_)),Y};let ae;return this.getAttributes=function(){return ae===void 0&&(ae=X6(i,_)),ae},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=F6++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=X,this.fragmentShader=j,this}let a7=0;class o7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),l=this._getShaderCacheForMaterial(e);return l.has(i)===!1&&(l.add(i),i.usedTimes++),l.has(s)===!1&&(l.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new l7(e),t.set(e,r)),r}}class l7{constructor(e){this.id=a7++,this.code=e,this.usedTimes=0}}function c7(n,e,t,r,i,s,l){const o=new qf,u=new o7,a=[],h=i.isWebGL2,f=i.logarithmicDepthBuffer,v=i.vertexTextures;let m=i.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _($){return $===0?"uv":`uv${$}`}function E($,k,L,z,Q){const G=z.fog,oe=Q.geometry,ce=$.isMeshStandardMaterial?z.environment:null,be=($.isMeshStandardMaterial?t:e).get($.envMap||ce),Ne=be&&be.mapping===Z0?be.image.height:null,$e=b[$.type];$.precision!==null&&(m=i.getMaxPrecision($.precision),m!==$.precision&&console.warn("THREE.WebGLProgram.getParameters:",$.precision,"not supported, using",m,"instead."));const Re=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,ge=Re!==void 0?Re.length:0;let we=0;oe.morphAttributes.position!==void 0&&(we=1),oe.morphAttributes.normal!==void 0&&(we=2),oe.morphAttributes.color!==void 0&&(we=3);let He,Je,ke,H;if($e){const qt=cr[$e];He=qt.vertexShader,Je=qt.fragmentShader}else He=$.vertexShader,Je=$.fragmentShader,u.update($),ke=u.getVertexShaderID($),H=u.getFragmentShaderID($);const K=n.getRenderTarget(),fe=Q.isInstancedMesh===!0,xe=!!$.map,Ge=!!$.matcap,Ee=!!be,ue=!!$.aoMap,Ue=!!$.lightMap,Pe=!!$.bumpMap,ot=!!$.normalMap,ze=!!$.displacementMap,Oe=!!$.emissiveMap,Ye=!!$.metalnessMap,it=!!$.roughnessMap,gt=$.anisotropy>0,Yt=$.clearcoat>0,Kt=$.iridescence>0,ee=$.sheen>0,O=$.transmission>0,y=gt&&!!$.anisotropyMap,M=Yt&&!!$.clearcoatMap,he=Yt&&!!$.clearcoatNormalMap,C=Yt&&!!$.clearcoatRoughnessMap,W=Kt&&!!$.iridescenceMap,Ie=Kt&&!!$.iridescenceThicknessMap,Ae=ee&&!!$.sheenColorMap,ie=ee&&!!$.sheenRoughnessMap,qe=!!$.specularMap,_e=!!$.specularColorMap,ct=!!$.specularIntensityMap,lt=O&&!!$.transmissionMap,mt=O&&!!$.thicknessMap,q=!!$.gradientMap,re=!!$.alphaMap,Z=$.alphaTest>0,Ke=!!$.alphaHash,rt=!!$.extensions,Ze=!!oe.attributes.uv1,Be=!!oe.attributes.uv2,ft=!!oe.attributes.uv3;let wt=es;return $.toneMapped&&(K===null||K.isXRRenderTarget===!0)&&(wt=n.toneMapping),{isWebGL2:h,shaderID:$e,shaderType:$.type,shaderName:$.name,vertexShader:He,fragmentShader:Je,defines:$.defines,customVertexShaderID:ke,customFragmentShaderID:H,isRawShaderMaterial:$.isRawShaderMaterial===!0,glslVersion:$.glslVersion,precision:m,instancing:fe,instancingColor:fe&&Q.instanceColor!==null,supportsVertexTextures:v,outputColorSpace:K===null?n.outputColorSpace:K.isXRRenderTarget===!0?K.texture.colorSpace:ni,map:xe,matcap:Ge,envMap:Ee,envMapMode:Ee&&be.mapping,envMapCubeUVHeight:Ne,aoMap:ue,lightMap:Ue,bumpMap:Pe,normalMap:ot,displacementMap:v&&ze,emissiveMap:Oe,normalMapObjectSpace:ot&&$.normalMapType===ig,normalMapTangentSpace:ot&&$.normalMapType===Bf,metalnessMap:Ye,roughnessMap:it,anisotropy:gt,anisotropyMap:y,clearcoat:Yt,clearcoatMap:M,clearcoatNormalMap:he,clearcoatRoughnessMap:C,iridescence:Kt,iridescenceMap:W,iridescenceThicknessMap:Ie,sheen:ee,sheenColorMap:Ae,sheenRoughnessMap:ie,specularMap:qe,specularColorMap:_e,specularIntensityMap:ct,transmission:O,transmissionMap:lt,thicknessMap:mt,gradientMap:q,opaque:$.transparent===!1&&$.blending===ua,alphaMap:re,alphaTest:Z,alphaHash:Ke,combine:$.combine,mapUv:xe&&_($.map.channel),aoMapUv:ue&&_($.aoMap.channel),lightMapUv:Ue&&_($.lightMap.channel),bumpMapUv:Pe&&_($.bumpMap.channel),normalMapUv:ot&&_($.normalMap.channel),displacementMapUv:ze&&_($.displacementMap.channel),emissiveMapUv:Oe&&_($.emissiveMap.channel),metalnessMapUv:Ye&&_($.metalnessMap.channel),roughnessMapUv:it&&_($.roughnessMap.channel),anisotropyMapUv:y&&_($.anisotropyMap.channel),clearcoatMapUv:M&&_($.clearcoatMap.channel),clearcoatNormalMapUv:he&&_($.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:C&&_($.clearcoatRoughnessMap.channel),iridescenceMapUv:W&&_($.iridescenceMap.channel),iridescenceThicknessMapUv:Ie&&_($.iridescenceThicknessMap.channel),sheenColorMapUv:Ae&&_($.sheenColorMap.channel),sheenRoughnessMapUv:ie&&_($.sheenRoughnessMap.channel),specularMapUv:qe&&_($.specularMap.channel),specularColorMapUv:_e&&_($.specularColorMap.channel),specularIntensityMapUv:ct&&_($.specularIntensityMap.channel),transmissionMapUv:lt&&_($.transmissionMap.channel),thicknessMapUv:mt&&_($.thicknessMap.channel),alphaMapUv:re&&_($.alphaMap.channel),vertexTangents:!!oe.attributes.tangent&&(ot||gt),vertexColors:$.vertexColors,vertexAlphas:$.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,vertexUv1s:Ze,vertexUv2s:Be,vertexUv3s:ft,pointsUvs:Q.isPoints===!0&&!!oe.attributes.uv&&(xe||re),fog:!!G,useFog:$.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:$.flatShading===!0,sizeAttenuation:$.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:Q.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:ge,morphTextureStride:we,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:$.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:wt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:xe&&$.map.isVideoTexture===!0&&Qt.getTransfer($.map.colorSpace)===ln,premultipliedAlpha:$.premultipliedAlpha,doubleSided:$.side===Ar,flipSided:$.side===Qn,useDepthPacking:$.depthPacking>=0,depthPacking:$.depthPacking||0,index0AttributeName:$.index0AttributeName,extensionDerivatives:rt&&$.extensions.derivatives===!0,extensionFragDepth:rt&&$.extensions.fragDepth===!0,extensionDrawBuffers:rt&&$.extensions.drawBuffers===!0,extensionShaderTextureLOD:rt&&$.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:$.customProgramCacheKey()}}function S($){const k=[];if($.shaderID?k.push($.shaderID):(k.push($.customVertexShaderID),k.push($.customFragmentShaderID)),$.defines!==void 0)for(const L in $.defines)k.push(L),k.push($.defines[L]);return $.isRawShaderMaterial===!1&&(N(k,$),D(k,$),k.push(n.outputColorSpace)),k.push($.customProgramCacheKey),k.join()}function N($,k){$.push(k.precision),$.push(k.outputColorSpace),$.push(k.envMapMode),$.push(k.envMapCubeUVHeight),$.push(k.mapUv),$.push(k.alphaMapUv),$.push(k.lightMapUv),$.push(k.aoMapUv),$.push(k.bumpMapUv),$.push(k.normalMapUv),$.push(k.displacementMapUv),$.push(k.emissiveMapUv),$.push(k.metalnessMapUv),$.push(k.roughnessMapUv),$.push(k.anisotropyMapUv),$.push(k.clearcoatMapUv),$.push(k.clearcoatNormalMapUv),$.push(k.clearcoatRoughnessMapUv),$.push(k.iridescenceMapUv),$.push(k.iridescenceThicknessMapUv),$.push(k.sheenColorMapUv),$.push(k.sheenRoughnessMapUv),$.push(k.specularMapUv),$.push(k.specularColorMapUv),$.push(k.specularIntensityMapUv),$.push(k.transmissionMapUv),$.push(k.thicknessMapUv),$.push(k.combine),$.push(k.fogExp2),$.push(k.sizeAttenuation),$.push(k.morphTargetsCount),$.push(k.morphAttributeCount),$.push(k.numDirLights),$.push(k.numPointLights),$.push(k.numSpotLights),$.push(k.numSpotLightMaps),$.push(k.numHemiLights),$.push(k.numRectAreaLights),$.push(k.numDirLightShadows),$.push(k.numPointLightShadows),$.push(k.numSpotLightShadows),$.push(k.numSpotLightShadowsWithMaps),$.push(k.numLightProbes),$.push(k.shadowMapType),$.push(k.toneMapping),$.push(k.numClippingPlanes),$.push(k.numClipIntersection),$.push(k.depthPacking)}function D($,k){o.disableAll(),k.isWebGL2&&o.enable(0),k.supportsVertexTextures&&o.enable(1),k.instancing&&o.enable(2),k.instancingColor&&o.enable(3),k.matcap&&o.enable(4),k.envMap&&o.enable(5),k.normalMapObjectSpace&&o.enable(6),k.normalMapTangentSpace&&o.enable(7),k.clearcoat&&o.enable(8),k.iridescence&&o.enable(9),k.alphaTest&&o.enable(10),k.vertexColors&&o.enable(11),k.vertexAlphas&&o.enable(12),k.vertexUv1s&&o.enable(13),k.vertexUv2s&&o.enable(14),k.vertexUv3s&&o.enable(15),k.vertexTangents&&o.enable(16),k.anisotropy&&o.enable(17),$.push(o.mask),o.disableAll(),k.fog&&o.enable(0),k.useFog&&o.enable(1),k.flatShading&&o.enable(2),k.logarithmicDepthBuffer&&o.enable(3),k.skinning&&o.enable(4),k.morphTargets&&o.enable(5),k.morphNormals&&o.enable(6),k.morphColors&&o.enable(7),k.premultipliedAlpha&&o.enable(8),k.shadowMapEnabled&&o.enable(9),k.useLegacyLights&&o.enable(10),k.doubleSided&&o.enable(11),k.flipSided&&o.enable(12),k.useDepthPacking&&o.enable(13),k.dithering&&o.enable(14),k.transmission&&o.enable(15),k.sheen&&o.enable(16),k.opaque&&o.enable(17),k.pointsUvs&&o.enable(18),k.decodeVideoTexture&&o.enable(19),$.push(o.mask)}function F($){const k=b[$.type];let L;if(k){const z=cr[k];L=Pu.clone(z.uniforms)}else L=$.uniforms;return L}function X($,k){let L;for(let z=0,Q=a.length;z<Q;z++){const G=a[z];if(G.cacheKey===k){L=G,++L.usedTimes;break}}return L===void 0&&(L=new s7(n,k,$,s),a.push(L)),L}function j($){if(--$.usedTimes===0){const k=a.indexOf($);a[k]=a[a.length-1],a.pop(),$.destroy()}}function Y($){u.remove($)}function ae(){u.dispose()}return{getParameters:E,getProgramCacheKey:S,getUniforms:F,acquireProgram:X,releaseProgram:j,releaseShaderCache:Y,programs:a,dispose:ae}}function u7(){let n=new WeakMap;function e(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function t(s){n.delete(s)}function r(s,l,o){n.get(s)[l]=o}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function h7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function qp(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Xp(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function l(f,v,m,b,_,E){let S=n[e];return S===void 0?(S={id:f.id,object:f,geometry:v,material:m,groupOrder:b,renderOrder:f.renderOrder,z:_,group:E},n[e]=S):(S.id=f.id,S.object=f,S.geometry=v,S.material=m,S.groupOrder=b,S.renderOrder=f.renderOrder,S.z=_,S.group=E),e++,S}function o(f,v,m,b,_,E){const S=l(f,v,m,b,_,E);m.transmission>0?r.push(S):m.transparent===!0?i.push(S):t.push(S)}function u(f,v,m,b,_,E){const S=l(f,v,m,b,_,E);m.transmission>0?r.unshift(S):m.transparent===!0?i.unshift(S):t.unshift(S)}function a(f,v){t.length>1&&t.sort(f||h7),r.length>1&&r.sort(v||qp),i.length>1&&i.sort(v||qp)}function h(){for(let f=e,v=n.length;f<v;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:o,unshift:u,finish:h,sort:a}}function d7(){let n=new WeakMap;function e(r,i){const s=n.get(r);let l;return s===void 0?(l=new Xp,n.set(r,[l])):i>=s.length?(l=new Xp,s.push(l)):l=s[i],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function p7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new de,color:new jt};break;case"SpotLight":t={position:new de,direction:new de,color:new jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new de,color:new jt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new de,skyColor:new jt,groundColor:new jt};break;case"RectAreaLight":t={color:new jt,position:new de,halfWidth:new de,halfHeight:new de};break}return n[e.id]=t,t}}}function f7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let m7=0;function g7(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function v7(n,e){const t=new p7,r=f7(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new de);const s=new de,l=new hn,o=new hn;function u(h,f){let v=0,m=0,b=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let _=0,E=0,S=0,N=0,D=0,F=0,X=0,j=0,Y=0,ae=0,$=0;h.sort(g7);const k=f===!0?Math.PI:1;for(let z=0,Q=h.length;z<Q;z++){const G=h[z],oe=G.color,ce=G.intensity,be=G.distance,Ne=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)v+=oe.r*ce*k,m+=oe.g*ce*k,b+=oe.b*ce*k;else if(G.isLightProbe){for(let $e=0;$e<9;$e++)i.probe[$e].addScaledVector(G.sh.coefficients[$e],ce);$++}else if(G.isDirectionalLight){const $e=t.get(G);if($e.color.copy(G.color).multiplyScalar(G.intensity*k),G.castShadow){const Re=G.shadow,ge=r.get(G);ge.shadowBias=Re.bias,ge.shadowNormalBias=Re.normalBias,ge.shadowRadius=Re.radius,ge.shadowMapSize=Re.mapSize,i.directionalShadow[_]=ge,i.directionalShadowMap[_]=Ne,i.directionalShadowMatrix[_]=G.shadow.matrix,F++}i.directional[_]=$e,_++}else if(G.isSpotLight){const $e=t.get(G);$e.position.setFromMatrixPosition(G.matrixWorld),$e.color.copy(oe).multiplyScalar(ce*k),$e.distance=be,$e.coneCos=Math.cos(G.angle),$e.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),$e.decay=G.decay,i.spot[S]=$e;const Re=G.shadow;if(G.map&&(i.spotLightMap[Y]=G.map,Y++,Re.updateMatrices(G),G.castShadow&&ae++),i.spotLightMatrix[S]=Re.matrix,G.castShadow){const ge=r.get(G);ge.shadowBias=Re.bias,ge.shadowNormalBias=Re.normalBias,ge.shadowRadius=Re.radius,ge.shadowMapSize=Re.mapSize,i.spotShadow[S]=ge,i.spotShadowMap[S]=Ne,j++}S++}else if(G.isRectAreaLight){const $e=t.get(G);$e.color.copy(oe).multiplyScalar(ce),$e.halfWidth.set(G.width*.5,0,0),$e.halfHeight.set(0,G.height*.5,0),i.rectArea[N]=$e,N++}else if(G.isPointLight){const $e=t.get(G);if($e.color.copy(G.color).multiplyScalar(G.intensity*k),$e.distance=G.distance,$e.decay=G.decay,G.castShadow){const Re=G.shadow,ge=r.get(G);ge.shadowBias=Re.bias,ge.shadowNormalBias=Re.normalBias,ge.shadowRadius=Re.radius,ge.shadowMapSize=Re.mapSize,ge.shadowCameraNear=Re.camera.near,ge.shadowCameraFar=Re.camera.far,i.pointShadow[E]=ge,i.pointShadowMap[E]=Ne,i.pointShadowMatrix[E]=G.shadow.matrix,X++}i.point[E]=$e,E++}else if(G.isHemisphereLight){const $e=t.get(G);$e.skyColor.copy(G.color).multiplyScalar(ce*k),$e.groundColor.copy(G.groundColor).multiplyScalar(ce*k),i.hemi[D]=$e,D++}}N>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=v,i.ambient[1]=m,i.ambient[2]=b;const L=i.hash;(L.directionalLength!==_||L.pointLength!==E||L.spotLength!==S||L.rectAreaLength!==N||L.hemiLength!==D||L.numDirectionalShadows!==F||L.numPointShadows!==X||L.numSpotShadows!==j||L.numSpotMaps!==Y||L.numLightProbes!==$)&&(i.directional.length=_,i.spot.length=S,i.rectArea.length=N,i.point.length=E,i.hemi.length=D,i.directionalShadow.length=F,i.directionalShadowMap.length=F,i.pointShadow.length=X,i.pointShadowMap.length=X,i.spotShadow.length=j,i.spotShadowMap.length=j,i.directionalShadowMatrix.length=F,i.pointShadowMatrix.length=X,i.spotLightMatrix.length=j+Y-ae,i.spotLightMap.length=Y,i.numSpotLightShadowsWithMaps=ae,i.numLightProbes=$,L.directionalLength=_,L.pointLength=E,L.spotLength=S,L.rectAreaLength=N,L.hemiLength=D,L.numDirectionalShadows=F,L.numPointShadows=X,L.numSpotShadows=j,L.numSpotMaps=Y,L.numLightProbes=$,i.version=m7++)}function a(h,f){let v=0,m=0,b=0,_=0,E=0;const S=f.matrixWorldInverse;for(let N=0,D=h.length;N<D;N++){const F=h[N];if(F.isDirectionalLight){const X=i.directional[v];X.direction.setFromMatrixPosition(F.matrixWorld),s.setFromMatrixPosition(F.target.matrixWorld),X.direction.sub(s),X.direction.transformDirection(S),v++}else if(F.isSpotLight){const X=i.spot[b];X.position.setFromMatrixPosition(F.matrixWorld),X.position.applyMatrix4(S),X.direction.setFromMatrixPosition(F.matrixWorld),s.setFromMatrixPosition(F.target.matrixWorld),X.direction.sub(s),X.direction.transformDirection(S),b++}else if(F.isRectAreaLight){const X=i.rectArea[_];X.position.setFromMatrixPosition(F.matrixWorld),X.position.applyMatrix4(S),o.identity(),l.copy(F.matrixWorld),l.premultiply(S),o.extractRotation(l),X.halfWidth.set(F.width*.5,0,0),X.halfHeight.set(0,F.height*.5,0),X.halfWidth.applyMatrix4(o),X.halfHeight.applyMatrix4(o),_++}else if(F.isPointLight){const X=i.point[m];X.position.setFromMatrixPosition(F.matrixWorld),X.position.applyMatrix4(S),m++}else if(F.isHemisphereLight){const X=i.hemi[E];X.direction.setFromMatrixPosition(F.matrixWorld),X.direction.transformDirection(S),E++}}}return{setup:u,setupView:a,state:i}}function Yp(n,e){const t=new v7(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function l(f){r.push(f)}function o(f){i.push(f)}function u(f){t.setup(r,f)}function a(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:u,setupLightsView:a,pushLight:l,pushShadow:o}}function b7(n,e){let t=new WeakMap;function r(s,l=0){const o=t.get(s);let u;return o===void 0?(u=new Yp(n,e),t.set(s,[u])):l>=o.length?(u=new Yp(n,e),o.push(u)):u=o[l],u}function i(){t=new WeakMap}return{get:r,dispose:i}}class y7 extends uo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ng,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class x7 extends uo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const w7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function S7(n,e,t){let r=new Lu;const i=new St,s=new St,l=new en,o=new y7({depthPacking:rg}),u=new x7,a={},h=t.maxTextureSize,f={[ss]:Qn,[Qn]:ss,[Ar]:Ar},v=new as({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new St},radius:{value:4}},vertexShader:w7,fragmentShader:_7}),m=v.clone();m.defines.HORIZONTAL_PASS=1;const b=new Gr;b.setAttribute("position",new Hr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new xr(b,v),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kf;let S=this.type;this.render=function(X,j,Y){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||X.length===0)return;const ae=n.getRenderTarget(),$=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Qi),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const z=S!==vi&&this.type===vi,Q=S===vi&&this.type!==vi;for(let G=0,oe=X.length;G<oe;G++){const ce=X[G],be=ce.shadow;if(be===void 0){console.warn("THREE.WebGLShadowMap:",ce,"has no shadow.");continue}if(be.autoUpdate===!1&&be.needsUpdate===!1)continue;i.copy(be.mapSize);const Ne=be.getFrameExtents();if(i.multiply(Ne),s.copy(be.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/Ne.x),i.x=s.x*Ne.x,be.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/Ne.y),i.y=s.y*Ne.y,be.mapSize.y=s.y)),be.map===null||z===!0||Q===!0){const Re=this.type!==vi?{minFilter:On,magFilter:On}:{};be.map!==null&&be.map.dispose(),be.map=new ks(i.x,i.y,Re),be.map.texture.name=ce.name+".shadowMap",be.camera.updateProjectionMatrix()}n.setRenderTarget(be.map),n.clear();const $e=be.getViewportCount();for(let Re=0;Re<$e;Re++){const ge=be.getViewport(Re);l.set(s.x*ge.x,s.y*ge.y,s.x*ge.z,s.y*ge.w),L.viewport(l),be.updateMatrices(ce,Re),r=be.getFrustum(),F(j,Y,be.camera,ce,this.type)}be.isPointLightShadow!==!0&&this.type===vi&&N(be,Y),be.needsUpdate=!1}S=this.type,E.needsUpdate=!1,n.setRenderTarget(ae,$,k)};function N(X,j){const Y=e.update(_);v.defines.VSM_SAMPLES!==X.blurSamples&&(v.defines.VSM_SAMPLES=X.blurSamples,m.defines.VSM_SAMPLES=X.blurSamples,v.needsUpdate=!0,m.needsUpdate=!0),X.mapPass===null&&(X.mapPass=new ks(i.x,i.y)),v.uniforms.shadow_pass.value=X.map.texture,v.uniforms.resolution.value=X.mapSize,v.uniforms.radius.value=X.radius,n.setRenderTarget(X.mapPass),n.clear(),n.renderBufferDirect(j,null,Y,v,_,null),m.uniforms.shadow_pass.value=X.mapPass.texture,m.uniforms.resolution.value=X.mapSize,m.uniforms.radius.value=X.radius,n.setRenderTarget(X.map),n.clear(),n.renderBufferDirect(j,null,Y,m,_,null)}function D(X,j,Y,ae){let $=null;const k=Y.isPointLight===!0?X.customDistanceMaterial:X.customDepthMaterial;if(k!==void 0)$=k;else if($=Y.isPointLight===!0?u:o,n.localClippingEnabled&&j.clipShadows===!0&&Array.isArray(j.clippingPlanes)&&j.clippingPlanes.length!==0||j.displacementMap&&j.displacementScale!==0||j.alphaMap&&j.alphaTest>0||j.map&&j.alphaTest>0){const L=$.uuid,z=j.uuid;let Q=a[L];Q===void 0&&(Q={},a[L]=Q);let G=Q[z];G===void 0&&(G=$.clone(),Q[z]=G),$=G}if($.visible=j.visible,$.wireframe=j.wireframe,ae===vi?$.side=j.shadowSide!==null?j.shadowSide:j.side:$.side=j.shadowSide!==null?j.shadowSide:f[j.side],$.alphaMap=j.alphaMap,$.alphaTest=j.alphaTest,$.map=j.map,$.clipShadows=j.clipShadows,$.clippingPlanes=j.clippingPlanes,$.clipIntersection=j.clipIntersection,$.displacementMap=j.displacementMap,$.displacementScale=j.displacementScale,$.displacementBias=j.displacementBias,$.wireframeLinewidth=j.wireframeLinewidth,$.linewidth=j.linewidth,Y.isPointLight===!0&&$.isMeshDistanceMaterial===!0){const L=n.properties.get($);L.light=Y}return $}function F(X,j,Y,ae,$){if(X.visible===!1)return;if(X.layers.test(j.layers)&&(X.isMesh||X.isLine||X.isPoints)&&(X.castShadow||X.receiveShadow&&$===vi)&&(!X.frustumCulled||r.intersectsObject(X))){X.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,X.matrixWorld);const z=e.update(X),Q=X.material;if(Array.isArray(Q)){const G=z.groups;for(let oe=0,ce=G.length;oe<ce;oe++){const be=G[oe],Ne=Q[be.materialIndex];if(Ne&&Ne.visible){const $e=D(X,Ne,ae,$);n.renderBufferDirect(Y,null,z,$e,X,be)}}}else if(Q.visible){const G=D(X,Q,ae,$);n.renderBufferDirect(Y,null,z,G,X,null)}}const L=X.children;for(let z=0,Q=L.length;z<Q;z++)F(L[z],j,Y,ae,$)}}function M7(n,e,t){const r=t.isWebGL2;function i(){let re=!1;const Z=new en;let Ke=null;const rt=new en(0,0,0,0);return{setMask:function(Ze){Ke!==Ze&&!re&&(n.colorMask(Ze,Ze,Ze,Ze),Ke=Ze)},setLocked:function(Ze){re=Ze},setClear:function(Ze,Be,ft,wt,pn){pn===!0&&(Ze*=wt,Be*=wt,ft*=wt),Z.set(Ze,Be,ft,wt),rt.equals(Z)===!1&&(n.clearColor(Ze,Be,ft,wt),rt.copy(Z))},reset:function(){re=!1,Ke=null,rt.set(-1,0,0,0)}}}function s(){let re=!1,Z=null,Ke=null,rt=null;return{setTest:function(Ze){Ze?K(n.DEPTH_TEST):fe(n.DEPTH_TEST)},setMask:function(Ze){Z!==Ze&&!re&&(n.depthMask(Ze),Z=Ze)},setFunc:function(Ze){if(Ke!==Ze){switch(Ze){case P3:n.depthFunc(n.NEVER);break;case L3:n.depthFunc(n.ALWAYS);break;case D3:n.depthFunc(n.LESS);break;case Xc:n.depthFunc(n.LEQUAL);break;case z3:n.depthFunc(n.EQUAL);break;case N3:n.depthFunc(n.GEQUAL);break;case O3:n.depthFunc(n.GREATER);break;case I3:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ke=Ze}},setLocked:function(Ze){re=Ze},setClear:function(Ze){rt!==Ze&&(n.clearDepth(Ze),rt=Ze)},reset:function(){re=!1,Z=null,Ke=null,rt=null}}}function l(){let re=!1,Z=null,Ke=null,rt=null,Ze=null,Be=null,ft=null,wt=null,pn=null;return{setTest:function(qt){re||(qt?K(n.STENCIL_TEST):fe(n.STENCIL_TEST))},setMask:function(qt){Z!==qt&&!re&&(n.stencilMask(qt),Z=qt)},setFunc:function(qt,rr,_n){(Ke!==qt||rt!==rr||Ze!==_n)&&(n.stencilFunc(qt,rr,_n),Ke=qt,rt=rr,Ze=_n)},setOp:function(qt,rr,_n){(Be!==qt||ft!==rr||wt!==_n)&&(n.stencilOp(qt,rr,_n),Be=qt,ft=rr,wt=_n)},setLocked:function(qt){re=qt},setClear:function(qt){pn!==qt&&(n.clearStencil(qt),pn=qt)},reset:function(){re=!1,Z=null,Ke=null,rt=null,Ze=null,Be=null,ft=null,wt=null,pn=null}}}const o=new i,u=new s,a=new l,h=new WeakMap,f=new WeakMap;let v={},m={},b=new WeakMap,_=[],E=null,S=!1,N=null,D=null,F=null,X=null,j=null,Y=null,ae=null,$=!1,k=null,L=null,z=null,Q=null,G=null;const oe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ce=!1,be=0;const Ne=n.getParameter(n.VERSION);Ne.indexOf("WebGL")!==-1?(be=parseFloat(/^WebGL (\d)/.exec(Ne)[1]),ce=be>=1):Ne.indexOf("OpenGL ES")!==-1&&(be=parseFloat(/^OpenGL ES (\d)/.exec(Ne)[1]),ce=be>=2);let $e=null,Re={};const ge=n.getParameter(n.SCISSOR_BOX),we=n.getParameter(n.VIEWPORT),He=new en().fromArray(ge),Je=new en().fromArray(we);function ke(re,Z,Ke,rt){const Ze=new Uint8Array(4),Be=n.createTexture();n.bindTexture(re,Be),n.texParameteri(re,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(re,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let ft=0;ft<Ke;ft++)r&&(re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY)?n.texImage3D(Z,0,n.RGBA,1,1,rt,0,n.RGBA,n.UNSIGNED_BYTE,Ze):n.texImage2D(Z+ft,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ze);return Be}const H={};H[n.TEXTURE_2D]=ke(n.TEXTURE_2D,n.TEXTURE_2D,1),H[n.TEXTURE_CUBE_MAP]=ke(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(H[n.TEXTURE_2D_ARRAY]=ke(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),H[n.TEXTURE_3D]=ke(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),u.setClear(1),a.setClear(0),K(n.DEPTH_TEST),u.setFunc(Xc),ze(!1),Oe(Pd),K(n.CULL_FACE),Pe(Qi);function K(re){v[re]!==!0&&(n.enable(re),v[re]=!0)}function fe(re){v[re]!==!1&&(n.disable(re),v[re]=!1)}function xe(re,Z){return m[re]!==Z?(n.bindFramebuffer(re,Z),m[re]=Z,r&&(re===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Z),re===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Z)),!0):!1}function Ge(re,Z){let Ke=_,rt=!1;if(re)if(Ke=b.get(Z),Ke===void 0&&(Ke=[],b.set(Z,Ke)),re.isWebGLMultipleRenderTargets){const Ze=re.texture;if(Ke.length!==Ze.length||Ke[0]!==n.COLOR_ATTACHMENT0){for(let Be=0,ft=Ze.length;Be<ft;Be++)Ke[Be]=n.COLOR_ATTACHMENT0+Be;Ke.length=Ze.length,rt=!0}}else Ke[0]!==n.COLOR_ATTACHMENT0&&(Ke[0]=n.COLOR_ATTACHMENT0,rt=!0);else Ke[0]!==n.BACK&&(Ke[0]=n.BACK,rt=!0);rt&&(t.isWebGL2?n.drawBuffers(Ke):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ke))}function Ee(re){return E!==re?(n.useProgram(re),E=re,!0):!1}const ue={[aa]:n.FUNC_ADD,[w3]:n.FUNC_SUBTRACT,[_3]:n.FUNC_REVERSE_SUBTRACT};if(r)ue[Nd]=n.MIN,ue[Od]=n.MAX;else{const re=e.get("EXT_blend_minmax");re!==null&&(ue[Nd]=re.MIN_EXT,ue[Od]=re.MAX_EXT)}const Ue={[S3]:n.ZERO,[M3]:n.ONE,[E3]:n.SRC_COLOR,[Cf]:n.SRC_ALPHA,[$3]:n.SRC_ALPHA_SATURATE,[C3]:n.DST_COLOR,[A3]:n.DST_ALPHA,[T3]:n.ONE_MINUS_SRC_COLOR,[Rf]:n.ONE_MINUS_SRC_ALPHA,[R3]:n.ONE_MINUS_DST_COLOR,[k3]:n.ONE_MINUS_DST_ALPHA};function Pe(re,Z,Ke,rt,Ze,Be,ft,wt){if(re===Qi){S===!0&&(fe(n.BLEND),S=!1);return}if(S===!1&&(K(n.BLEND),S=!0),re!==x3){if(re!==N||wt!==$){if((D!==aa||j!==aa)&&(n.blendEquation(n.FUNC_ADD),D=aa,j=aa),wt)switch(re){case ua:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ld:n.blendFunc(n.ONE,n.ONE);break;case Dd:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zd:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case ua:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ld:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Dd:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zd:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}F=null,X=null,Y=null,ae=null,N=re,$=wt}return}Ze=Ze||Z,Be=Be||Ke,ft=ft||rt,(Z!==D||Ze!==j)&&(n.blendEquationSeparate(ue[Z],ue[Ze]),D=Z,j=Ze),(Ke!==F||rt!==X||Be!==Y||ft!==ae)&&(n.blendFuncSeparate(Ue[Ke],Ue[rt],Ue[Be],Ue[ft]),F=Ke,X=rt,Y=Be,ae=ft),N=re,$=!1}function ot(re,Z){re.side===Ar?fe(n.CULL_FACE):K(n.CULL_FACE);let Ke=re.side===Qn;Z&&(Ke=!Ke),ze(Ke),re.blending===ua&&re.transparent===!1?Pe(Qi):Pe(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.premultipliedAlpha),u.setFunc(re.depthFunc),u.setTest(re.depthTest),u.setMask(re.depthWrite),o.setMask(re.colorWrite);const rt=re.stencilWrite;a.setTest(rt),rt&&(a.setMask(re.stencilWriteMask),a.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),a.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),it(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?K(n.SAMPLE_ALPHA_TO_COVERAGE):fe(n.SAMPLE_ALPHA_TO_COVERAGE)}function ze(re){k!==re&&(re?n.frontFace(n.CW):n.frontFace(n.CCW),k=re)}function Oe(re){re!==v3?(K(n.CULL_FACE),re!==L&&(re===Pd?n.cullFace(n.BACK):re===b3?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):fe(n.CULL_FACE),L=re}function Ye(re){re!==z&&(ce&&n.lineWidth(re),z=re)}function it(re,Z,Ke){re?(K(n.POLYGON_OFFSET_FILL),(Q!==Z||G!==Ke)&&(n.polygonOffset(Z,Ke),Q=Z,G=Ke)):fe(n.POLYGON_OFFSET_FILL)}function gt(re){re?K(n.SCISSOR_TEST):fe(n.SCISSOR_TEST)}function Yt(re){re===void 0&&(re=n.TEXTURE0+oe-1),$e!==re&&(n.activeTexture(re),$e=re)}function Kt(re,Z,Ke){Ke===void 0&&($e===null?Ke=n.TEXTURE0+oe-1:Ke=$e);let rt=Re[Ke];rt===void 0&&(rt={type:void 0,texture:void 0},Re[Ke]=rt),(rt.type!==re||rt.texture!==Z)&&($e!==Ke&&(n.activeTexture(Ke),$e=Ke),n.bindTexture(re,Z||H[re]),rt.type=re,rt.texture=Z)}function ee(){const re=Re[$e];re!==void 0&&re.type!==void 0&&(n.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function O(){try{n.compressedTexImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function y(){try{n.compressedTexImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function M(){try{n.texSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function he(){try{n.texSubImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function C(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function W(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ie(){try{n.texStorage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ae(){try{n.texStorage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ie(){try{n.texImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function qe(){try{n.texImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function _e(re){He.equals(re)===!1&&(n.scissor(re.x,re.y,re.z,re.w),He.copy(re))}function ct(re){Je.equals(re)===!1&&(n.viewport(re.x,re.y,re.z,re.w),Je.copy(re))}function lt(re,Z){let Ke=f.get(Z);Ke===void 0&&(Ke=new WeakMap,f.set(Z,Ke));let rt=Ke.get(re);rt===void 0&&(rt=n.getUniformBlockIndex(Z,re.name),Ke.set(re,rt))}function mt(re,Z){const rt=f.get(Z).get(re);h.get(Z)!==rt&&(n.uniformBlockBinding(Z,rt,re.__bindingPointIndex),h.set(Z,rt))}function q(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),v={},$e=null,Re={},m={},b=new WeakMap,_=[],E=null,S=!1,N=null,D=null,F=null,X=null,j=null,Y=null,ae=null,$=!1,k=null,L=null,z=null,Q=null,G=null,He.set(0,0,n.canvas.width,n.canvas.height),Je.set(0,0,n.canvas.width,n.canvas.height),o.reset(),u.reset(),a.reset()}return{buffers:{color:o,depth:u,stencil:a},enable:K,disable:fe,bindFramebuffer:xe,drawBuffers:Ge,useProgram:Ee,setBlending:Pe,setMaterial:ot,setFlipSided:ze,setCullFace:Oe,setLineWidth:Ye,setPolygonOffset:it,setScissorTest:gt,activeTexture:Yt,bindTexture:Kt,unbindTexture:ee,compressedTexImage2D:O,compressedTexImage3D:y,texImage2D:ie,texImage3D:qe,updateUBOMapping:lt,uniformBlockBinding:mt,texStorage2D:Ie,texStorage3D:Ae,texSubImage2D:M,texSubImage3D:he,compressedTexSubImage2D:C,compressedTexSubImage3D:W,scissor:_e,viewport:ct,reset:q}}function E7(n,e,t,r,i,s,l){const o=i.isWebGL2,u=i.maxTextures,a=i.maxCubemapSize,h=i.maxTextureSize,f=i.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),b=new WeakMap;let _;const E=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function N(ee,O){return S?new OffscreenCanvas(ee,O):Qa("canvas")}function D(ee,O,y,M){let he=1;if((ee.width>M||ee.height>M)&&(he=M/Math.max(ee.width,ee.height)),he<1||O===!0)if(typeof HTMLImageElement<"u"&&ee instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ee instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ee instanceof ImageBitmap){const C=O?B0:Math.floor,W=C(he*ee.width),Ie=C(he*ee.height);_===void 0&&(_=N(W,Ie));const Ae=y?N(W,Ie):_;return Ae.width=W,Ae.height=Ie,Ae.getContext("2d").drawImage(ee,0,0,W,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ee.width+"x"+ee.height+") to ("+W+"x"+Ie+")."),Ae}else return"data"in ee&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ee.width+"x"+ee.height+")."),ee;return ee}function F(ee){return Qc(ee.width)&&Qc(ee.height)}function X(ee){return o?!1:ee.wrapS!==br||ee.wrapT!==br||ee.minFilter!==On&&ee.minFilter!==In}function j(ee,O){return ee.generateMipmaps&&O&&ee.minFilter!==On&&ee.minFilter!==In}function Y(ee){n.generateMipmap(ee)}function ae(ee,O,y,M,he=!1){if(o===!1)return O;if(ee!==null){if(n[ee]!==void 0)return n[ee];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ee+"'")}let C=O;if(O===n.RED&&(y===n.FLOAT&&(C=n.R32F),y===n.HALF_FLOAT&&(C=n.R16F),y===n.UNSIGNED_BYTE&&(C=n.R8)),O===n.RED_INTEGER&&(y===n.UNSIGNED_BYTE&&(C=n.R8UI),y===n.UNSIGNED_SHORT&&(C=n.R16UI),y===n.UNSIGNED_INT&&(C=n.R32UI),y===n.BYTE&&(C=n.R8I),y===n.SHORT&&(C=n.R16I),y===n.INT&&(C=n.R32I)),O===n.RG&&(y===n.FLOAT&&(C=n.RG32F),y===n.HALF_FLOAT&&(C=n.RG16F),y===n.UNSIGNED_BYTE&&(C=n.RG8)),O===n.RGBA){const W=he?N0:Qt.getTransfer(M);y===n.FLOAT&&(C=n.RGBA32F),y===n.HALF_FLOAT&&(C=n.RGBA16F),y===n.UNSIGNED_BYTE&&(C=W===ln?n.SRGB8_ALPHA8:n.RGBA8),y===n.UNSIGNED_SHORT_4_4_4_4&&(C=n.RGBA4),y===n.UNSIGNED_SHORT_5_5_5_1&&(C=n.RGB5_A1)}return(C===n.R16F||C===n.R32F||C===n.RG16F||C===n.RG32F||C===n.RGBA16F||C===n.RGBA32F)&&e.get("EXT_color_buffer_float"),C}function $(ee,O,y){return j(ee,y)===!0||ee.isFramebufferTexture&&ee.minFilter!==On&&ee.minFilter!==In?Math.log2(Math.max(O.width,O.height))+1:ee.mipmaps!==void 0&&ee.mipmaps.length>0?ee.mipmaps.length:ee.isCompressedTexture&&Array.isArray(ee.image)?O.mipmaps.length:1}function k(ee){return ee===On||ee===Id||ee===ql?n.NEAREST:n.LINEAR}function L(ee){const O=ee.target;O.removeEventListener("dispose",L),Q(O),O.isVideoTexture&&b.delete(O)}function z(ee){const O=ee.target;O.removeEventListener("dispose",z),oe(O)}function Q(ee){const O=r.get(ee);if(O.__webglInit===void 0)return;const y=ee.source,M=E.get(y);if(M){const he=M[O.__cacheKey];he.usedTimes--,he.usedTimes===0&&G(ee),Object.keys(M).length===0&&E.delete(y)}r.remove(ee)}function G(ee){const O=r.get(ee);n.deleteTexture(O.__webglTexture);const y=ee.source,M=E.get(y);delete M[O.__cacheKey],l.memory.textures--}function oe(ee){const O=ee.texture,y=r.get(ee),M=r.get(O);if(M.__webglTexture!==void 0&&(n.deleteTexture(M.__webglTexture),l.memory.textures--),ee.depthTexture&&ee.depthTexture.dispose(),ee.isWebGLCubeRenderTarget)for(let he=0;he<6;he++){if(Array.isArray(y.__webglFramebuffer[he]))for(let C=0;C<y.__webglFramebuffer[he].length;C++)n.deleteFramebuffer(y.__webglFramebuffer[he][C]);else n.deleteFramebuffer(y.__webglFramebuffer[he]);y.__webglDepthbuffer&&n.deleteRenderbuffer(y.__webglDepthbuffer[he])}else{if(Array.isArray(y.__webglFramebuffer))for(let he=0;he<y.__webglFramebuffer.length;he++)n.deleteFramebuffer(y.__webglFramebuffer[he]);else n.deleteFramebuffer(y.__webglFramebuffer);if(y.__webglDepthbuffer&&n.deleteRenderbuffer(y.__webglDepthbuffer),y.__webglMultisampledFramebuffer&&n.deleteFramebuffer(y.__webglMultisampledFramebuffer),y.__webglColorRenderbuffer)for(let he=0;he<y.__webglColorRenderbuffer.length;he++)y.__webglColorRenderbuffer[he]&&n.deleteRenderbuffer(y.__webglColorRenderbuffer[he]);y.__webglDepthRenderbuffer&&n.deleteRenderbuffer(y.__webglDepthRenderbuffer)}if(ee.isWebGLMultipleRenderTargets)for(let he=0,C=O.length;he<C;he++){const W=r.get(O[he]);W.__webglTexture&&(n.deleteTexture(W.__webglTexture),l.memory.textures--),r.remove(O[he])}r.remove(O),r.remove(ee)}let ce=0;function be(){ce=0}function Ne(){const ee=ce;return ee>=u&&console.warn("THREE.WebGLTextures: Trying to use "+ee+" texture units while this GPU supports only "+u),ce+=1,ee}function $e(ee){const O=[];return O.push(ee.wrapS),O.push(ee.wrapT),O.push(ee.wrapR||0),O.push(ee.magFilter),O.push(ee.minFilter),O.push(ee.anisotropy),O.push(ee.internalFormat),O.push(ee.format),O.push(ee.type),O.push(ee.generateMipmaps),O.push(ee.premultiplyAlpha),O.push(ee.flipY),O.push(ee.unpackAlignment),O.push(ee.colorSpace),O.join()}function Re(ee,O){const y=r.get(ee);if(ee.isVideoTexture&&Yt(ee),ee.isRenderTargetTexture===!1&&ee.version>0&&y.__version!==ee.version){const M=ee.image;if(M===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(M.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{xe(y,ee,O);return}}t.bindTexture(n.TEXTURE_2D,y.__webglTexture,n.TEXTURE0+O)}function ge(ee,O){const y=r.get(ee);if(ee.version>0&&y.__version!==ee.version){xe(y,ee,O);return}t.bindTexture(n.TEXTURE_2D_ARRAY,y.__webglTexture,n.TEXTURE0+O)}function we(ee,O){const y=r.get(ee);if(ee.version>0&&y.__version!==ee.version){xe(y,ee,O);return}t.bindTexture(n.TEXTURE_3D,y.__webglTexture,n.TEXTURE0+O)}function He(ee,O){const y=r.get(ee);if(ee.version>0&&y.__version!==ee.version){Ge(y,ee,O);return}t.bindTexture(n.TEXTURE_CUBE_MAP,y.__webglTexture,n.TEXTURE0+O)}const Je={[z0]:n.REPEAT,[br]:n.CLAMP_TO_EDGE,[Kc]:n.MIRRORED_REPEAT},ke={[On]:n.NEAREST,[Id]:n.NEAREST_MIPMAP_NEAREST,[ql]:n.NEAREST_MIPMAP_LINEAR,[In]:n.LINEAR,[j3]:n.LINEAR_MIPMAP_NEAREST,[ga]:n.LINEAR_MIPMAP_LINEAR},H={[ag]:n.NEVER,[pg]:n.ALWAYS,[og]:n.LESS,[cg]:n.LEQUAL,[lg]:n.EQUAL,[dg]:n.GEQUAL,[ug]:n.GREATER,[hg]:n.NOTEQUAL};function K(ee,O,y){if(y?(n.texParameteri(ee,n.TEXTURE_WRAP_S,Je[O.wrapS]),n.texParameteri(ee,n.TEXTURE_WRAP_T,Je[O.wrapT]),(ee===n.TEXTURE_3D||ee===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ee,n.TEXTURE_WRAP_R,Je[O.wrapR]),n.texParameteri(ee,n.TEXTURE_MAG_FILTER,ke[O.magFilter]),n.texParameteri(ee,n.TEXTURE_MIN_FILTER,ke[O.minFilter])):(n.texParameteri(ee,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(ee,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(ee===n.TEXTURE_3D||ee===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ee,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(O.wrapS!==br||O.wrapT!==br)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(ee,n.TEXTURE_MAG_FILTER,k(O.magFilter)),n.texParameteri(ee,n.TEXTURE_MIN_FILTER,k(O.minFilter)),O.minFilter!==On&&O.minFilter!==In&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),O.compareFunction&&(n.texParameteri(ee,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ee,n.TEXTURE_COMPARE_FUNC,H[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===On||O.minFilter!==ql&&O.minFilter!==ga||O.type===Fr&&e.has("OES_texture_float_linear")===!1||o===!1&&O.type===xi&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(n.texParameterf(ee,M.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function fe(ee,O){let y=!1;ee.__webglInit===void 0&&(ee.__webglInit=!0,O.addEventListener("dispose",L));const M=O.source;let he=E.get(M);he===void 0&&(he={},E.set(M,he));const C=$e(O);if(C!==ee.__cacheKey){he[C]===void 0&&(he[C]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,y=!0),he[C].usedTimes++;const W=he[ee.__cacheKey];W!==void 0&&(he[ee.__cacheKey].usedTimes--,W.usedTimes===0&&G(O)),ee.__cacheKey=C,ee.__webglTexture=he[C].texture}return y}function xe(ee,O,y){let M=n.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(M=n.TEXTURE_2D_ARRAY),O.isData3DTexture&&(M=n.TEXTURE_3D);const he=fe(ee,O),C=O.source;t.bindTexture(M,ee.__webglTexture,n.TEXTURE0+y);const W=r.get(C);if(C.version!==W.__version||he===!0){t.activeTexture(n.TEXTURE0+y);const Ie=Qt.getPrimaries(Qt.workingColorSpace),Ae=O.colorSpace===yr?null:Qt.getPrimaries(O.colorSpace),ie=O.colorSpace===yr||Ie===Ae?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ie);const qe=X(O)&&F(O.image)===!1;let _e=D(O.image,qe,!1,h);_e=Kt(O,_e);const ct=F(_e)||o,lt=s.convert(O.format,O.colorSpace);let mt=s.convert(O.type),q=ae(O.internalFormat,lt,mt,O.colorSpace,O.isVideoTexture);K(M,O,ct);let re;const Z=O.mipmaps,Ke=o&&O.isVideoTexture!==!0,rt=W.__version===void 0||he===!0,Ze=$(O,_e,ct);if(O.isDepthTexture)q=n.DEPTH_COMPONENT,o?O.type===Fr?q=n.DEPTH_COMPONENT32F:O.type===Zi?q=n.DEPTH_COMPONENT24:O.type===Ss?q=n.DEPTH24_STENCIL8:q=n.DEPTH_COMPONENT16:O.type===Fr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===Ms&&q===n.DEPTH_COMPONENT&&O.type!==Cu&&O.type!==Zi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=Zi,mt=s.convert(O.type)),O.format===va&&q===n.DEPTH_COMPONENT&&(q=n.DEPTH_STENCIL,O.type!==Ss&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Ss,mt=s.convert(O.type))),rt&&(Ke?t.texStorage2D(n.TEXTURE_2D,1,q,_e.width,_e.height):t.texImage2D(n.TEXTURE_2D,0,q,_e.width,_e.height,0,lt,mt,null));else if(O.isDataTexture)if(Z.length>0&&ct){Ke&&rt&&t.texStorage2D(n.TEXTURE_2D,Ze,q,Z[0].width,Z[0].height);for(let Be=0,ft=Z.length;Be<ft;Be++)re=Z[Be],Ke?t.texSubImage2D(n.TEXTURE_2D,Be,0,0,re.width,re.height,lt,mt,re.data):t.texImage2D(n.TEXTURE_2D,Be,q,re.width,re.height,0,lt,mt,re.data);O.generateMipmaps=!1}else Ke?(rt&&t.texStorage2D(n.TEXTURE_2D,Ze,q,_e.width,_e.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,_e.width,_e.height,lt,mt,_e.data)):t.texImage2D(n.TEXTURE_2D,0,q,_e.width,_e.height,0,lt,mt,_e.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Ke&&rt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,q,Z[0].width,Z[0].height,_e.depth);for(let Be=0,ft=Z.length;Be<ft;Be++)re=Z[Be],O.format!==Br?lt!==null?Ke?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,0,re.width,re.height,_e.depth,lt,re.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Be,q,re.width,re.height,_e.depth,0,re.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,0,re.width,re.height,_e.depth,lt,mt,re.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Be,q,re.width,re.height,_e.depth,0,lt,mt,re.data)}else{Ke&&rt&&t.texStorage2D(n.TEXTURE_2D,Ze,q,Z[0].width,Z[0].height);for(let Be=0,ft=Z.length;Be<ft;Be++)re=Z[Be],O.format!==Br?lt!==null?Ke?t.compressedTexSubImage2D(n.TEXTURE_2D,Be,0,0,re.width,re.height,lt,re.data):t.compressedTexImage2D(n.TEXTURE_2D,Be,q,re.width,re.height,0,re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?t.texSubImage2D(n.TEXTURE_2D,Be,0,0,re.width,re.height,lt,mt,re.data):t.texImage2D(n.TEXTURE_2D,Be,q,re.width,re.height,0,lt,mt,re.data)}else if(O.isDataArrayTexture)Ke?(rt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,q,_e.width,_e.height,_e.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,_e.width,_e.height,_e.depth,lt,mt,_e.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,q,_e.width,_e.height,_e.depth,0,lt,mt,_e.data);else if(O.isData3DTexture)Ke?(rt&&t.texStorage3D(n.TEXTURE_3D,Ze,q,_e.width,_e.height,_e.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,_e.width,_e.height,_e.depth,lt,mt,_e.data)):t.texImage3D(n.TEXTURE_3D,0,q,_e.width,_e.height,_e.depth,0,lt,mt,_e.data);else if(O.isFramebufferTexture){if(rt)if(Ke)t.texStorage2D(n.TEXTURE_2D,Ze,q,_e.width,_e.height);else{let Be=_e.width,ft=_e.height;for(let wt=0;wt<Ze;wt++)t.texImage2D(n.TEXTURE_2D,wt,q,Be,ft,0,lt,mt,null),Be>>=1,ft>>=1}}else if(Z.length>0&&ct){Ke&&rt&&t.texStorage2D(n.TEXTURE_2D,Ze,q,Z[0].width,Z[0].height);for(let Be=0,ft=Z.length;Be<ft;Be++)re=Z[Be],Ke?t.texSubImage2D(n.TEXTURE_2D,Be,0,0,lt,mt,re):t.texImage2D(n.TEXTURE_2D,Be,q,lt,mt,re);O.generateMipmaps=!1}else Ke?(rt&&t.texStorage2D(n.TEXTURE_2D,Ze,q,_e.width,_e.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,lt,mt,_e)):t.texImage2D(n.TEXTURE_2D,0,q,lt,mt,_e);j(O,ct)&&Y(M),W.__version=C.version,O.onUpdate&&O.onUpdate(O)}ee.__version=O.version}function Ge(ee,O,y){if(O.image.length!==6)return;const M=fe(ee,O),he=O.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+y);const C=r.get(he);if(he.version!==C.__version||M===!0){t.activeTexture(n.TEXTURE0+y);const W=Qt.getPrimaries(Qt.workingColorSpace),Ie=O.colorSpace===yr?null:Qt.getPrimaries(O.colorSpace),Ae=O.colorSpace===yr||W===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ae);const ie=O.isCompressedTexture||O.image[0].isCompressedTexture,qe=O.image[0]&&O.image[0].isDataTexture,_e=[];for(let Be=0;Be<6;Be++)!ie&&!qe?_e[Be]=D(O.image[Be],!1,!0,a):_e[Be]=qe?O.image[Be].image:O.image[Be],_e[Be]=Kt(O,_e[Be]);const ct=_e[0],lt=F(ct)||o,mt=s.convert(O.format,O.colorSpace),q=s.convert(O.type),re=ae(O.internalFormat,mt,q,O.colorSpace),Z=o&&O.isVideoTexture!==!0,Ke=C.__version===void 0||M===!0;let rt=$(O,ct,lt);K(n.TEXTURE_CUBE_MAP,O,lt);let Ze;if(ie){Z&&Ke&&t.texStorage2D(n.TEXTURE_CUBE_MAP,rt,re,ct.width,ct.height);for(let Be=0;Be<6;Be++){Ze=_e[Be].mipmaps;for(let ft=0;ft<Ze.length;ft++){const wt=Ze[ft];O.format!==Br?mt!==null?Z?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft,0,0,wt.width,wt.height,mt,wt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft,re,wt.width,wt.height,0,wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft,0,0,wt.width,wt.height,mt,q,wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft,re,wt.width,wt.height,0,mt,q,wt.data)}}}else{Ze=O.mipmaps,Z&&Ke&&(Ze.length>0&&rt++,t.texStorage2D(n.TEXTURE_CUBE_MAP,rt,re,_e[0].width,_e[0].height));for(let Be=0;Be<6;Be++)if(qe){Z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,0,0,_e[Be].width,_e[Be].height,mt,q,_e[Be].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,re,_e[Be].width,_e[Be].height,0,mt,q,_e[Be].data);for(let ft=0;ft<Ze.length;ft++){const pn=Ze[ft].image[Be].image;Z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft+1,0,0,pn.width,pn.height,mt,q,pn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft+1,re,pn.width,pn.height,0,mt,q,pn.data)}}else{Z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,0,0,mt,q,_e[Be]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,re,mt,q,_e[Be]);for(let ft=0;ft<Ze.length;ft++){const wt=Ze[ft];Z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft+1,0,0,mt,q,wt.image[Be]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ft+1,re,mt,q,wt.image[Be])}}}j(O,lt)&&Y(n.TEXTURE_CUBE_MAP),C.__version=he.version,O.onUpdate&&O.onUpdate(O)}ee.__version=O.version}function Ee(ee,O,y,M,he,C){const W=s.convert(y.format,y.colorSpace),Ie=s.convert(y.type),Ae=ae(y.internalFormat,W,Ie,y.colorSpace);if(!r.get(O).__hasExternalTextures){const qe=Math.max(1,O.width>>C),_e=Math.max(1,O.height>>C);he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY?t.texImage3D(he,C,Ae,qe,_e,O.depth,0,W,Ie,null):t.texImage2D(he,C,Ae,qe,_e,0,W,Ie,null)}t.bindFramebuffer(n.FRAMEBUFFER,ee),gt(O)?v.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,M,he,r.get(y).__webglTexture,0,it(O)):(he===n.TEXTURE_2D||he>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&he<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,M,he,r.get(y).__webglTexture,C),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ue(ee,O,y){if(n.bindRenderbuffer(n.RENDERBUFFER,ee),O.depthBuffer&&!O.stencilBuffer){let M=o===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(y||gt(O)){const he=O.depthTexture;he&&he.isDepthTexture&&(he.type===Fr?M=n.DEPTH_COMPONENT32F:he.type===Zi&&(M=n.DEPTH_COMPONENT24));const C=it(O);gt(O)?v.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,C,M,O.width,O.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,C,M,O.width,O.height)}else n.renderbufferStorage(n.RENDERBUFFER,M,O.width,O.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,ee)}else if(O.depthBuffer&&O.stencilBuffer){const M=it(O);y&&gt(O)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,M,n.DEPTH24_STENCIL8,O.width,O.height):gt(O)?v.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,M,n.DEPTH24_STENCIL8,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,O.width,O.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,ee)}else{const M=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let he=0;he<M.length;he++){const C=M[he],W=s.convert(C.format,C.colorSpace),Ie=s.convert(C.type),Ae=ae(C.internalFormat,W,Ie,C.colorSpace),ie=it(O);y&&gt(O)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ie,Ae,O.width,O.height):gt(O)?v.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ie,Ae,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,Ae,O.width,O.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ue(ee,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ee),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),Re(O.depthTexture,0);const M=r.get(O.depthTexture).__webglTexture,he=it(O);if(O.depthTexture.format===Ms)gt(O)?v.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,M,0,he):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,M,0);else if(O.depthTexture.format===va)gt(O)?v.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,M,0,he):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,M,0);else throw new Error("Unknown depthTexture format")}function Pe(ee){const O=r.get(ee),y=ee.isWebGLCubeRenderTarget===!0;if(ee.depthTexture&&!O.__autoAllocateDepthBuffer){if(y)throw new Error("target.depthTexture not supported in Cube render targets");Ue(O.__webglFramebuffer,ee)}else if(y){O.__webglDepthbuffer=[];for(let M=0;M<6;M++)t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer[M]),O.__webglDepthbuffer[M]=n.createRenderbuffer(),ue(O.__webglDepthbuffer[M],ee,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer=n.createRenderbuffer(),ue(O.__webglDepthbuffer,ee,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function ot(ee,O,y){const M=r.get(ee);O!==void 0&&Ee(M.__webglFramebuffer,ee,ee.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),y!==void 0&&Pe(ee)}function ze(ee){const O=ee.texture,y=r.get(ee),M=r.get(O);ee.addEventListener("dispose",z),ee.isWebGLMultipleRenderTargets!==!0&&(M.__webglTexture===void 0&&(M.__webglTexture=n.createTexture()),M.__version=O.version,l.memory.textures++);const he=ee.isWebGLCubeRenderTarget===!0,C=ee.isWebGLMultipleRenderTargets===!0,W=F(ee)||o;if(he){y.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(o&&O.mipmaps&&O.mipmaps.length>0){y.__webglFramebuffer[Ie]=[];for(let Ae=0;Ae<O.mipmaps.length;Ae++)y.__webglFramebuffer[Ie][Ae]=n.createFramebuffer()}else y.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(o&&O.mipmaps&&O.mipmaps.length>0){y.__webglFramebuffer=[];for(let Ie=0;Ie<O.mipmaps.length;Ie++)y.__webglFramebuffer[Ie]=n.createFramebuffer()}else y.__webglFramebuffer=n.createFramebuffer();if(C)if(i.drawBuffers){const Ie=ee.texture;for(let Ae=0,ie=Ie.length;Ae<ie;Ae++){const qe=r.get(Ie[Ae]);qe.__webglTexture===void 0&&(qe.__webglTexture=n.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&ee.samples>0&&gt(ee)===!1){const Ie=C?O:[O];y.__webglMultisampledFramebuffer=n.createFramebuffer(),y.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,y.__webglMultisampledFramebuffer);for(let Ae=0;Ae<Ie.length;Ae++){const ie=Ie[Ae];y.__webglColorRenderbuffer[Ae]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,y.__webglColorRenderbuffer[Ae]);const qe=s.convert(ie.format,ie.colorSpace),_e=s.convert(ie.type),ct=ae(ie.internalFormat,qe,_e,ie.colorSpace,ee.isXRRenderTarget===!0),lt=it(ee);n.renderbufferStorageMultisample(n.RENDERBUFFER,lt,ct,ee.width,ee.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ae,n.RENDERBUFFER,y.__webglColorRenderbuffer[Ae])}n.bindRenderbuffer(n.RENDERBUFFER,null),ee.depthBuffer&&(y.__webglDepthRenderbuffer=n.createRenderbuffer(),ue(y.__webglDepthRenderbuffer,ee,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(he){t.bindTexture(n.TEXTURE_CUBE_MAP,M.__webglTexture),K(n.TEXTURE_CUBE_MAP,O,W);for(let Ie=0;Ie<6;Ie++)if(o&&O.mipmaps&&O.mipmaps.length>0)for(let Ae=0;Ae<O.mipmaps.length;Ae++)Ee(y.__webglFramebuffer[Ie][Ae],ee,O,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ae);else Ee(y.__webglFramebuffer[Ie],ee,O,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);j(O,W)&&Y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(C){const Ie=ee.texture;for(let Ae=0,ie=Ie.length;Ae<ie;Ae++){const qe=Ie[Ae],_e=r.get(qe);t.bindTexture(n.TEXTURE_2D,_e.__webglTexture),K(n.TEXTURE_2D,qe,W),Ee(y.__webglFramebuffer,ee,qe,n.COLOR_ATTACHMENT0+Ae,n.TEXTURE_2D,0),j(qe,W)&&Y(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;if((ee.isWebGL3DRenderTarget||ee.isWebGLArrayRenderTarget)&&(o?Ie=ee.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,M.__webglTexture),K(Ie,O,W),o&&O.mipmaps&&O.mipmaps.length>0)for(let Ae=0;Ae<O.mipmaps.length;Ae++)Ee(y.__webglFramebuffer[Ae],ee,O,n.COLOR_ATTACHMENT0,Ie,Ae);else Ee(y.__webglFramebuffer,ee,O,n.COLOR_ATTACHMENT0,Ie,0);j(O,W)&&Y(Ie),t.unbindTexture()}ee.depthBuffer&&Pe(ee)}function Oe(ee){const O=F(ee)||o,y=ee.isWebGLMultipleRenderTargets===!0?ee.texture:[ee.texture];for(let M=0,he=y.length;M<he;M++){const C=y[M];if(j(C,O)){const W=ee.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ie=r.get(C).__webglTexture;t.bindTexture(W,Ie),Y(W),t.unbindTexture()}}}function Ye(ee){if(o&&ee.samples>0&&gt(ee)===!1){const O=ee.isWebGLMultipleRenderTargets?ee.texture:[ee.texture],y=ee.width,M=ee.height;let he=n.COLOR_BUFFER_BIT;const C=[],W=ee.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=r.get(ee),Ae=ee.isWebGLMultipleRenderTargets===!0;if(Ae)for(let ie=0;ie<O.length;ie++)t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ie,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ie,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let ie=0;ie<O.length;ie++){C.push(n.COLOR_ATTACHMENT0+ie),ee.depthBuffer&&C.push(W);const qe=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(qe===!1&&(ee.depthBuffer&&(he|=n.DEPTH_BUFFER_BIT),ee.stencilBuffer&&(he|=n.STENCIL_BUFFER_BIT)),Ae&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ie]),qe===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[W]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[W])),Ae){const _e=r.get(O[ie]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,_e,0)}n.blitFramebuffer(0,0,y,M,0,0,y,M,he,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,C)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ae)for(let ie=0;ie<O.length;ie++){t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ie,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ie]);const qe=r.get(O[ie]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ie,n.TEXTURE_2D,qe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}}function it(ee){return Math.min(f,ee.samples)}function gt(ee){const O=r.get(ee);return o&&ee.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function Yt(ee){const O=l.render.frame;b.get(ee)!==O&&(b.set(ee,O),ee.update())}function Kt(ee,O){const y=ee.colorSpace,M=ee.format,he=ee.type;return ee.isCompressedTexture===!0||ee.isVideoTexture===!0||ee.format===Jc||y!==ni&&y!==yr&&(Qt.getTransfer(y)===ln?o===!1?e.has("EXT_sRGB")===!0&&M===Br?(ee.format=Jc,ee.minFilter=In,ee.generateMipmaps=!1):O=Gf.sRGBToLinear(O):(M!==Br||he!==ts)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",y)),O}this.allocateTextureUnit=Ne,this.resetTextureUnits=be,this.setTexture2D=Re,this.setTexture2DArray=ge,this.setTexture3D=we,this.setTextureCube=He,this.rebindTextures=ot,this.setupRenderTarget=ze,this.updateRenderTargetMipmap=Oe,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=Pe,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=gt}function T7(n,e,t){const r=t.isWebGL2;function i(s,l=yr){let o;const u=Qt.getTransfer(l);if(s===ts)return n.UNSIGNED_BYTE;if(s===Df)return n.UNSIGNED_SHORT_4_4_4_4;if(s===zf)return n.UNSIGNED_SHORT_5_5_5_1;if(s===q3)return n.BYTE;if(s===X3)return n.SHORT;if(s===Cu)return n.UNSIGNED_SHORT;if(s===Lf)return n.INT;if(s===Zi)return n.UNSIGNED_INT;if(s===Fr)return n.FLOAT;if(s===xi)return r?n.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===Y3)return n.ALPHA;if(s===Br)return n.RGBA;if(s===K3)return n.LUMINANCE;if(s===Z3)return n.LUMINANCE_ALPHA;if(s===Ms)return n.DEPTH_COMPONENT;if(s===va)return n.DEPTH_STENCIL;if(s===Jc)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===J3)return n.RED;if(s===Nf)return n.RED_INTEGER;if(s===Q3)return n.RG;if(s===Of)return n.RG_INTEGER;if(s===If)return n.RGBA_INTEGER;if(s===Xl||s===Yl||s===Kl||s===Zl)if(u===ln)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===Xl)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Yl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Kl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Zl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Xl)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Yl)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Kl)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Zl)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Ud||s===Bd||s===Fd||s===Hd)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===Ud)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Bd)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Fd)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Hd)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===eg)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Gd||s===Vd)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===Gd)return u===ln?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===Vd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Wd||s===jd||s===qd||s===Xd||s===Yd||s===Kd||s===Zd||s===Jd||s===Qd||s===ep||s===tp||s===np||s===rp||s===ip)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===Wd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===jd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===qd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Xd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Yd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Kd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Zd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Jd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Qd)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===ep)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===tp)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===np)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===rp)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ip)return u===ln?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Jl||s===sp||s===ap)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===Jl)return u===ln?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===sp)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===ap)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===tg||s===op||s===lp||s===cp)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===Jl)return o.COMPRESSED_RED_RGTC1_EXT;if(s===op)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===lp)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===cp)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ss?r?n.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class A7 extends vr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ha extends tr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const k7={type:"move"};class xc{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ha,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ha,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new de,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new de),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ha,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new de,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new de),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,l=null;const o=this._targetRay,u=this._grip,a=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(a&&e.hand){l=!0;for(const _ of e.hand.values()){const E=t.getJointPose(_,r),S=this._getHandJoint(a,_);E!==null&&(S.matrix.fromArray(E.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=E.radius),S.visible=E!==null}const h=a.joints["index-finger-tip"],f=a.joints["thumb-tip"],v=h.position.distanceTo(f.position),m=.02,b=.005;a.inputState.pinching&&v>m+b?(a.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!a.inputState.pinching&&v<=m-b&&(a.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(k7)))}return o!==null&&(o.visible=i!==null),u!==null&&(u.visible=s!==null),a!==null&&(a.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Ha;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class C7 extends er{constructor(e,t,r,i,s,l,o,u,a,h){if(h=h!==void 0?h:Ms,h!==Ms&&h!==va)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===Ms&&(r=Zi),r===void 0&&h===va&&(r=Ss),super(null,i,s,l,o,u,h,r,a),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:On,this.minFilter=u!==void 0?u:On,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class R7 extends Ps{constructor(e,t){super();const r=this;let i=null,s=1,l=null,o="local-floor",u=1,a=null,h=null,f=null,v=null,m=null,b=null;const _=t.getContextAttributes();let E=null,S=null;const N=[],D=[],F=new vr;F.layers.enable(1),F.viewport=new en;const X=new vr;X.layers.enable(2),X.viewport=new en;const j=[F,X],Y=new A7;Y.layers.enable(1),Y.layers.enable(2);let ae=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let we=N[ge];return we===void 0&&(we=new xc,N[ge]=we),we.getTargetRaySpace()},this.getControllerGrip=function(ge){let we=N[ge];return we===void 0&&(we=new xc,N[ge]=we),we.getGripSpace()},this.getHand=function(ge){let we=N[ge];return we===void 0&&(we=new xc,N[ge]=we),we.getHandSpace()};function k(ge){const we=D.indexOf(ge.inputSource);if(we===-1)return;const He=N[we];He!==void 0&&(He.update(ge.inputSource,ge.frame,a||l),He.dispatchEvent({type:ge.type,data:ge.inputSource}))}function L(){i.removeEventListener("select",k),i.removeEventListener("selectstart",k),i.removeEventListener("selectend",k),i.removeEventListener("squeeze",k),i.removeEventListener("squeezestart",k),i.removeEventListener("squeezeend",k),i.removeEventListener("end",L),i.removeEventListener("inputsourceschange",z);for(let ge=0;ge<N.length;ge++){const we=D[ge];we!==null&&(D[ge]=null,N[ge].disconnect(we))}ae=null,$=null,e.setRenderTarget(E),m=null,v=null,f=null,i=null,S=null,Re.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){s=ge,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){o=ge,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a||l},this.setReferenceSpace=function(ge){a=ge},this.getBaseLayer=function(){return v!==null?v:m},this.getBinding=function(){return f},this.getFrame=function(){return b},this.getSession=function(){return i},this.setSession=async function(ge){if(i=ge,i!==null){if(E=e.getRenderTarget(),i.addEventListener("select",k),i.addEventListener("selectstart",k),i.addEventListener("selectend",k),i.addEventListener("squeeze",k),i.addEventListener("squeezestart",k),i.addEventListener("squeezeend",k),i.addEventListener("end",L),i.addEventListener("inputsourceschange",z),_.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const we={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,we),i.updateRenderState({baseLayer:m}),S=new ks(m.framebufferWidth,m.framebufferHeight,{format:Br,type:ts,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let we=null,He=null,Je=null;_.depth&&(Je=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,we=_.stencil?va:Ms,He=_.stencil?Ss:Zi);const ke={colorFormat:t.RGBA8,depthFormat:Je,scaleFactor:s};f=new XRWebGLBinding(i,t),v=f.createProjectionLayer(ke),i.updateRenderState({layers:[v]}),S=new ks(v.textureWidth,v.textureHeight,{format:Br,type:ts,depthTexture:new C7(v.textureWidth,v.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,we),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const H=e.properties.get(S);H.__ignoreDepthValues=v.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(u),a=null,l=await i.requestReferenceSpace(o),Re.setContext(i),Re.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function z(ge){for(let we=0;we<ge.removed.length;we++){const He=ge.removed[we],Je=D.indexOf(He);Je>=0&&(D[Je]=null,N[Je].disconnect(He))}for(let we=0;we<ge.added.length;we++){const He=ge.added[we];let Je=D.indexOf(He);if(Je===-1){for(let H=0;H<N.length;H++)if(H>=D.length){D.push(He),Je=H;break}else if(D[H]===null){D[H]=He,Je=H;break}if(Je===-1)break}const ke=N[Je];ke&&ke.connect(He)}}const Q=new de,G=new de;function oe(ge,we,He){Q.setFromMatrixPosition(we.matrixWorld),G.setFromMatrixPosition(He.matrixWorld);const Je=Q.distanceTo(G),ke=we.projectionMatrix.elements,H=He.projectionMatrix.elements,K=ke[14]/(ke[10]-1),fe=ke[14]/(ke[10]+1),xe=(ke[9]+1)/ke[5],Ge=(ke[9]-1)/ke[5],Ee=(ke[8]-1)/ke[0],ue=(H[8]+1)/H[0],Ue=K*Ee,Pe=K*ue,ot=Je/(-Ee+ue),ze=ot*-Ee;we.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(ze),ge.translateZ(ot),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert();const Oe=K+ot,Ye=fe+ot,it=Ue-ze,gt=Pe+(Je-ze),Yt=xe*fe/Ye*Oe,Kt=Ge*fe/Ye*Oe;ge.projectionMatrix.makePerspective(it,gt,Yt,Kt,Oe,Ye),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}function ce(ge,we){we===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(we.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(i===null)return;Y.near=X.near=F.near=ge.near,Y.far=X.far=F.far=ge.far,(ae!==Y.near||$!==Y.far)&&(i.updateRenderState({depthNear:Y.near,depthFar:Y.far}),ae=Y.near,$=Y.far);const we=ge.parent,He=Y.cameras;ce(Y,we);for(let Je=0;Je<He.length;Je++)ce(He[Je],we);He.length===2?oe(Y,F,X):Y.projectionMatrix.copy(F.projectionMatrix),be(ge,Y,we)};function be(ge,we,He){He===null?ge.matrix.copy(we.matrixWorld):(ge.matrix.copy(He.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(we.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(we.projectionMatrix),ge.projectionMatrixInverse.copy(we.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=Ja*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return Y},this.getFoveation=function(){if(!(v===null&&m===null))return u},this.setFoveation=function(ge){u=ge,v!==null&&(v.fixedFoveation=ge),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ge)};let Ne=null;function $e(ge,we){if(h=we.getViewerPose(a||l),b=we,h!==null){const He=h.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let Je=!1;He.length!==Y.cameras.length&&(Y.cameras.length=0,Je=!0);for(let ke=0;ke<He.length;ke++){const H=He[ke];let K=null;if(m!==null)K=m.getViewport(H);else{const xe=f.getViewSubImage(v,H);K=xe.viewport,ke===0&&(e.setRenderTargetTextures(S,xe.colorTexture,v.ignoreDepthValues?void 0:xe.depthStencilTexture),e.setRenderTarget(S))}let fe=j[ke];fe===void 0&&(fe=new vr,fe.layers.enable(ke),fe.viewport=new en,j[ke]=fe),fe.matrix.fromArray(H.transform.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.projectionMatrix.fromArray(H.projectionMatrix),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert(),fe.viewport.set(K.x,K.y,K.width,K.height),ke===0&&(Y.matrix.copy(fe.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale)),Je===!0&&Y.cameras.push(fe)}}for(let He=0;He<N.length;He++){const Je=D[He],ke=N[He];Je!==null&&ke!==void 0&&ke.update(Je,we,a||l)}Ne&&Ne(ge,we),we.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:we}),b=null}const Re=new em;Re.setAnimationLoop($e),this.setAnimationLoop=function(ge){Ne=ge},this.dispose=function(){}}}function $7(n,e){function t(E,S){E.matrixAutoUpdate===!0&&E.updateMatrix(),S.value.copy(E.matrix)}function r(E,S){S.color.getRGB(E.fogColor.value,Zf(n)),S.isFog?(E.fogNear.value=S.near,E.fogFar.value=S.far):S.isFogExp2&&(E.fogDensity.value=S.density)}function i(E,S,N,D,F){S.isMeshBasicMaterial||S.isMeshLambertMaterial?s(E,S):S.isMeshToonMaterial?(s(E,S),f(E,S)):S.isMeshPhongMaterial?(s(E,S),h(E,S)):S.isMeshStandardMaterial?(s(E,S),v(E,S),S.isMeshPhysicalMaterial&&m(E,S,F)):S.isMeshMatcapMaterial?(s(E,S),b(E,S)):S.isMeshDepthMaterial?s(E,S):S.isMeshDistanceMaterial?(s(E,S),_(E,S)):S.isMeshNormalMaterial?s(E,S):S.isLineBasicMaterial?(l(E,S),S.isLineDashedMaterial&&o(E,S)):S.isPointsMaterial?u(E,S,N,D):S.isSpriteMaterial?a(E,S):S.isShadowMaterial?(E.color.value.copy(S.color),E.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(E,S){E.opacity.value=S.opacity,S.color&&E.diffuse.value.copy(S.color),S.emissive&&E.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.bumpMap&&(E.bumpMap.value=S.bumpMap,t(S.bumpMap,E.bumpMapTransform),E.bumpScale.value=S.bumpScale,S.side===Qn&&(E.bumpScale.value*=-1)),S.normalMap&&(E.normalMap.value=S.normalMap,t(S.normalMap,E.normalMapTransform),E.normalScale.value.copy(S.normalScale),S.side===Qn&&E.normalScale.value.negate()),S.displacementMap&&(E.displacementMap.value=S.displacementMap,t(S.displacementMap,E.displacementMapTransform),E.displacementScale.value=S.displacementScale,E.displacementBias.value=S.displacementBias),S.emissiveMap&&(E.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,E.emissiveMapTransform)),S.specularMap&&(E.specularMap.value=S.specularMap,t(S.specularMap,E.specularMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest);const N=e.get(S).envMap;if(N&&(E.envMap.value=N,E.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=S.reflectivity,E.ior.value=S.ior,E.refractionRatio.value=S.refractionRatio),S.lightMap){E.lightMap.value=S.lightMap;const D=n._useLegacyLights===!0?Math.PI:1;E.lightMapIntensity.value=S.lightMapIntensity*D,t(S.lightMap,E.lightMapTransform)}S.aoMap&&(E.aoMap.value=S.aoMap,E.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,E.aoMapTransform))}function l(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform))}function o(E,S){E.dashSize.value=S.dashSize,E.totalSize.value=S.dashSize+S.gapSize,E.scale.value=S.scale}function u(E,S,N,D){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.size.value=S.size*N,E.scale.value=D*.5,S.map&&(E.map.value=S.map,t(S.map,E.uvTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function a(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.rotation.value=S.rotation,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function h(E,S){E.specular.value.copy(S.specular),E.shininess.value=Math.max(S.shininess,1e-4)}function f(E,S){S.gradientMap&&(E.gradientMap.value=S.gradientMap)}function v(E,S){E.metalness.value=S.metalness,S.metalnessMap&&(E.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,E.metalnessMapTransform)),E.roughness.value=S.roughness,S.roughnessMap&&(E.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,E.roughnessMapTransform)),e.get(S).envMap&&(E.envMapIntensity.value=S.envMapIntensity)}function m(E,S,N){E.ior.value=S.ior,S.sheen>0&&(E.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),E.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(E.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,E.sheenColorMapTransform)),S.sheenRoughnessMap&&(E.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,E.sheenRoughnessMapTransform))),S.clearcoat>0&&(E.clearcoat.value=S.clearcoat,E.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(E.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,E.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(E.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Qn&&E.clearcoatNormalScale.value.negate())),S.iridescence>0&&(E.iridescence.value=S.iridescence,E.iridescenceIOR.value=S.iridescenceIOR,E.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(E.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,E.iridescenceMapTransform)),S.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),S.transmission>0&&(E.transmission.value=S.transmission,E.transmissionSamplerMap.value=N.texture,E.transmissionSamplerSize.value.set(N.width,N.height),S.transmissionMap&&(E.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,E.transmissionMapTransform)),E.thickness.value=S.thickness,S.thicknessMap&&(E.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=S.attenuationDistance,E.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(E.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(E.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=S.specularIntensity,E.specularColor.value.copy(S.specularColor),S.specularColorMap&&(E.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,E.specularColorMapTransform)),S.specularIntensityMap&&(E.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,E.specularIntensityMapTransform))}function b(E,S){S.matcap&&(E.matcap.value=S.matcap)}function _(E,S){const N=e.get(S).light;E.referencePosition.value.setFromMatrixPosition(N.matrixWorld),E.nearDistance.value=N.shadow.camera.near,E.farDistance.value=N.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function P7(n,e,t,r){let i={},s={},l=[];const o=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(N,D){const F=D.program;r.uniformBlockBinding(N,F)}function a(N,D){let F=i[N.id];F===void 0&&(b(N),F=h(N),i[N.id]=F,N.addEventListener("dispose",E));const X=D.program;r.updateUBOMapping(N,X);const j=e.render.frame;s[N.id]!==j&&(v(N),s[N.id]=j)}function h(N){const D=f();N.__bindingPointIndex=D;const F=n.createBuffer(),X=N.__size,j=N.usage;return n.bindBuffer(n.UNIFORM_BUFFER,F),n.bufferData(n.UNIFORM_BUFFER,X,j),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,F),F}function f(){for(let N=0;N<o;N++)if(l.indexOf(N)===-1)return l.push(N),N;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(N){const D=i[N.id],F=N.uniforms,X=N.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let j=0,Y=F.length;j<Y;j++){const ae=F[j];if(m(ae,j,X)===!0){const $=ae.__offset,k=Array.isArray(ae.value)?ae.value:[ae.value];let L=0;for(let z=0;z<k.length;z++){const Q=k[z],G=_(Q);typeof Q=="number"?(ae.__data[0]=Q,n.bufferSubData(n.UNIFORM_BUFFER,$+L,ae.__data)):Q.isMatrix3?(ae.__data[0]=Q.elements[0],ae.__data[1]=Q.elements[1],ae.__data[2]=Q.elements[2],ae.__data[3]=Q.elements[0],ae.__data[4]=Q.elements[3],ae.__data[5]=Q.elements[4],ae.__data[6]=Q.elements[5],ae.__data[7]=Q.elements[0],ae.__data[8]=Q.elements[6],ae.__data[9]=Q.elements[7],ae.__data[10]=Q.elements[8],ae.__data[11]=Q.elements[0]):(Q.toArray(ae.__data,L),L+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,$,ae.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(N,D,F){const X=N.value;if(F[D]===void 0){if(typeof X=="number")F[D]=X;else{const j=Array.isArray(X)?X:[X],Y=[];for(let ae=0;ae<j.length;ae++)Y.push(j[ae].clone());F[D]=Y}return!0}else if(typeof X=="number"){if(F[D]!==X)return F[D]=X,!0}else{const j=Array.isArray(F[D])?F[D]:[F[D]],Y=Array.isArray(X)?X:[X];for(let ae=0;ae<j.length;ae++){const $=j[ae];if($.equals(Y[ae])===!1)return $.copy(Y[ae]),!0}}return!1}function b(N){const D=N.uniforms;let F=0;const X=16;let j=0;for(let Y=0,ae=D.length;Y<ae;Y++){const $=D[Y],k={boundary:0,storage:0},L=Array.isArray($.value)?$.value:[$.value];for(let z=0,Q=L.length;z<Q;z++){const G=L[z],oe=_(G);k.boundary+=oe.boundary,k.storage+=oe.storage}if($.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=F,Y>0){j=F%X;const z=X-j;j!==0&&z-k.boundary<0&&(F+=X-j,$.__offset=F)}F+=k.storage}return j=F%X,j>0&&(F+=X-j),N.__size=F,N.__cache={},this}function _(N){const D={boundary:0,storage:0};return typeof N=="number"?(D.boundary=4,D.storage=4):N.isVector2?(D.boundary=8,D.storage=8):N.isVector3||N.isColor?(D.boundary=16,D.storage=12):N.isVector4?(D.boundary=16,D.storage=16):N.isMatrix3?(D.boundary=48,D.storage=48):N.isMatrix4?(D.boundary=64,D.storage=64):N.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",N),D}function E(N){const D=N.target;D.removeEventListener("dispose",E);const F=l.indexOf(D.__bindingPointIndex);l.splice(F,1),n.deleteBuffer(i[D.id]),delete i[D.id],delete s[D.id]}function S(){for(const N in i)n.deleteBuffer(i[N]);l=[],i={},s={}}return{bind:u,update:a,dispose:S}}class sm{constructor(e={}){const{canvas:t=kg(),context:r=null,depth:i=!0,stencil:s=!0,alpha:l=!1,antialias:o=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:a=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let v;r!==null?v=r.getContextAttributes().alpha:v=l;const m=new Uint32Array(4),b=new Int32Array(4);let _=null,E=null;const S=[],N=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Tn,this._useLegacyLights=!1,this.toneMapping=es,this.toneMappingExposure=1;const D=this;let F=!1,X=0,j=0,Y=null,ae=-1,$=null;const k=new en,L=new en;let z=null;const Q=new jt(0);let G=0,oe=t.width,ce=t.height,be=1,Ne=null,$e=null;const Re=new en(0,0,oe,ce),ge=new en(0,0,oe,ce);let we=!1;const He=new Lu;let Je=!1,ke=!1,H=null;const K=new hn,fe=new St,xe=new de,Ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ee(){return Y===null?be:1}let ue=r;function Ue(J,ye){for(let Le=0;Le<J.length;Le++){const Me=J[Le],Ce=t.getContext(Me,ye);if(Ce!==null)return Ce}return null}try{const J={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:a,powerPreference:h,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ku}`),t.addEventListener("webglcontextlost",Z,!1),t.addEventListener("webglcontextrestored",Ke,!1),t.addEventListener("webglcontextcreationerror",rt,!1),ue===null){const ye=["webgl2","webgl","experimental-webgl"];if(D.isWebGL1Renderer===!0&&ye.shift(),ue=Ue(ye,J),ue===null)throw Ue(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ue instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ue.getShaderPrecisionFormat===void 0&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let Pe,ot,ze,Oe,Ye,it,gt,Yt,Kt,ee,O,y,M,he,C,W,Ie,Ae,ie,qe,_e,ct,lt,mt;function q(){Pe=new Gb(ue),ot=new Nb(ue,Pe,e),Pe.init(ot),ct=new T7(ue,Pe,ot),ze=new M7(ue,Pe,ot),Oe=new jb(ue),Ye=new u7,it=new E7(ue,Pe,ze,Ye,ot,ct,Oe),gt=new Ib(D),Yt=new Hb(D),Kt=new t5(ue,ot),lt=new Db(ue,Pe,Kt,ot),ee=new Vb(ue,Kt,Oe,lt),O=new Kb(ue,ee,Kt,Oe),ie=new Yb(ue,ot,it),W=new Ob(Ye),y=new c7(D,gt,Yt,Pe,ot,lt,W),M=new $7(D,Ye),he=new d7,C=new b7(Pe,ot),Ae=new Lb(D,gt,Yt,ze,O,v,u),Ie=new S7(D,O,ot),mt=new P7(ue,Oe,ot,ze),qe=new zb(ue,Pe,Oe,ot),_e=new Wb(ue,Pe,Oe,ot),Oe.programs=y.programs,D.capabilities=ot,D.extensions=Pe,D.properties=Ye,D.renderLists=he,D.shadowMap=Ie,D.state=ze,D.info=Oe}q();const re=new R7(D,ue);this.xr=re,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){const J=Pe.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=Pe.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return be},this.setPixelRatio=function(J){J!==void 0&&(be=J,this.setSize(oe,ce,!1))},this.getSize=function(J){return J.set(oe,ce)},this.setSize=function(J,ye,Le=!0){if(re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}oe=J,ce=ye,t.width=Math.floor(J*be),t.height=Math.floor(ye*be),Le===!0&&(t.style.width=J+"px",t.style.height=ye+"px"),this.setViewport(0,0,J,ye)},this.getDrawingBufferSize=function(J){return J.set(oe*be,ce*be).floor()},this.setDrawingBufferSize=function(J,ye,Le){oe=J,ce=ye,be=Le,t.width=Math.floor(J*Le),t.height=Math.floor(ye*Le),this.setViewport(0,0,J,ye)},this.getCurrentViewport=function(J){return J.copy(k)},this.getViewport=function(J){return J.copy(Re)},this.setViewport=function(J,ye,Le,Me){J.isVector4?Re.set(J.x,J.y,J.z,J.w):Re.set(J,ye,Le,Me),ze.viewport(k.copy(Re).multiplyScalar(be).floor())},this.getScissor=function(J){return J.copy(ge)},this.setScissor=function(J,ye,Le,Me){J.isVector4?ge.set(J.x,J.y,J.z,J.w):ge.set(J,ye,Le,Me),ze.scissor(L.copy(ge).multiplyScalar(be).floor())},this.getScissorTest=function(){return we},this.setScissorTest=function(J){ze.setScissorTest(we=J)},this.setOpaqueSort=function(J){Ne=J},this.setTransparentSort=function(J){$e=J},this.getClearColor=function(J){return J.copy(Ae.getClearColor())},this.setClearColor=function(){Ae.setClearColor.apply(Ae,arguments)},this.getClearAlpha=function(){return Ae.getClearAlpha()},this.setClearAlpha=function(){Ae.setClearAlpha.apply(Ae,arguments)},this.clear=function(J=!0,ye=!0,Le=!0){let Me=0;if(J){let Ce=!1;if(Y!==null){const ht=Y.texture.format;Ce=ht===If||ht===Of||ht===Nf}if(Ce){const ht=Y.texture.type,vt=ht===ts||ht===Zi||ht===Cu||ht===Ss||ht===Df||ht===zf,_t=Ae.getClearColor(),Mt=Ae.getClearAlpha(),Lt=_t.r,le=_t.g,pt=_t.b;vt?(m[0]=Lt,m[1]=le,m[2]=pt,m[3]=Mt,ue.clearBufferuiv(ue.COLOR,0,m)):(b[0]=Lt,b[1]=le,b[2]=pt,b[3]=Mt,ue.clearBufferiv(ue.COLOR,0,b))}else Me|=ue.COLOR_BUFFER_BIT}ye&&(Me|=ue.DEPTH_BUFFER_BIT),Le&&(Me|=ue.STENCIL_BUFFER_BIT),ue.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Z,!1),t.removeEventListener("webglcontextrestored",Ke,!1),t.removeEventListener("webglcontextcreationerror",rt,!1),he.dispose(),C.dispose(),Ye.dispose(),gt.dispose(),Yt.dispose(),O.dispose(),lt.dispose(),mt.dispose(),y.dispose(),re.dispose(),re.removeEventListener("sessionstart",qt),re.removeEventListener("sessionend",rr),H&&(H.dispose(),H=null),_n.stop()};function Z(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),F=!0}function Ke(){console.log("THREE.WebGLRenderer: Context Restored."),F=!1;const J=Oe.autoReset,ye=Ie.enabled,Le=Ie.autoUpdate,Me=Ie.needsUpdate,Ce=Ie.type;q(),Oe.autoReset=J,Ie.enabled=ye,Ie.autoUpdate=Le,Ie.needsUpdate=Me,Ie.type=Ce}function rt(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function Ze(J){const ye=J.target;ye.removeEventListener("dispose",Ze),Be(ye)}function Be(J){ft(J),Ye.remove(J)}function ft(J){const ye=Ye.get(J).programs;ye!==void 0&&(ye.forEach(function(Le){y.releaseProgram(Le)}),J.isShaderMaterial&&y.releaseShaderCache(J))}this.renderBufferDirect=function(J,ye,Le,Me,Ce,ht){ye===null&&(ye=Ge);const vt=Ce.isMesh&&Ce.matrixWorld.determinant()<0,_t=Ds(J,ye,Le,Me,Ce);ze.setMaterial(Me,vt);let Mt=Le.index,Lt=1;if(Me.wireframe===!0){if(Mt=ee.getWireframeAttribute(Le),Mt===void 0)return;Lt=2}const le=Le.drawRange,pt=Le.attributes.position;let Xt=le.start*Lt,Wt=(le.start+le.count)*Lt;ht!==null&&(Xt=Math.max(Xt,ht.start*Lt),Wt=Math.min(Wt,(ht.start+ht.count)*Lt)),Mt!==null?(Xt=Math.max(Xt,0),Wt=Math.min(Wt,Mt.count)):pt!=null&&(Xt=Math.max(Xt,0),Wt=Math.min(Wt,pt.count));const ir=Wt-Xt;if(ir<0||ir===1/0)return;lt.setup(Ce,Me,_t,Le,Mt);let Lr,fn=qe;if(Mt!==null&&(Lr=Kt.get(Mt),fn=_e,fn.setIndex(Lr)),Ce.isMesh)Me.wireframe===!0?(ze.setLineWidth(Me.wireframeLinewidth*Ee()),fn.setMode(ue.LINES)):fn.setMode(ue.TRIANGLES);else if(Ce.isLine){let kt=Me.linewidth;kt===void 0&&(kt=1),ze.setLineWidth(kt*Ee()),Ce.isLineSegments?fn.setMode(ue.LINES):Ce.isLineLoop?fn.setMode(ue.LINE_LOOP):fn.setMode(ue.LINE_STRIP)}else Ce.isPoints?fn.setMode(ue.POINTS):Ce.isSprite&&fn.setMode(ue.TRIANGLES);if(Ce.isInstancedMesh)fn.renderInstances(Xt,ir,Ce.count);else if(Le.isInstancedBufferGeometry){const kt=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,$i=Math.min(Le.instanceCount,kt);fn.renderInstances(Xt,ir,$i)}else fn.render(Xt,ir)},this.compile=function(J,ye){function Le(Me,Ce,ht){Me.transparent===!0&&Me.side===Ar&&Me.forceSinglePass===!1?(Me.side=Qn,Me.needsUpdate=!0,Ri(Me,Ce,ht),Me.side=ss,Me.needsUpdate=!0,Ri(Me,Ce,ht),Me.side=Ar):Ri(Me,Ce,ht)}E=C.get(J),E.init(),N.push(E),J.traverseVisible(function(Me){Me.isLight&&Me.layers.test(ye.layers)&&(E.pushLight(Me),Me.castShadow&&E.pushShadow(Me))}),E.setupLights(D._useLegacyLights),J.traverse(function(Me){const Ce=Me.material;if(Ce)if(Array.isArray(Ce))for(let ht=0;ht<Ce.length;ht++){const vt=Ce[ht];Le(vt,J,Me)}else Le(Ce,J,Me)}),N.pop(),E=null};let wt=null;function pn(J){wt&&wt(J)}function qt(){_n.stop()}function rr(){_n.start()}const _n=new em;_n.setAnimationLoop(pn),typeof self<"u"&&_n.setContext(self),this.setAnimationLoop=function(J){wt=J,re.setAnimationLoop(J),J===null?_n.stop():_n.start()},re.addEventListener("sessionstart",qt),re.addEventListener("sessionend",rr),this.render=function(J,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),re.enabled===!0&&re.isPresenting===!0&&(re.cameraAutoUpdate===!0&&re.updateCamera(ye),ye=re.getCamera()),J.isScene===!0&&J.onBeforeRender(D,J,ye,Y),E=C.get(J,N.length),E.init(),N.push(E),K.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),He.setFromProjectionMatrix(K),ke=this.localClippingEnabled,Je=W.init(this.clippingPlanes,ke),_=he.get(J,S.length),_.init(),S.push(_),Ft(J,ye,0,D.sortObjects),_.finish(),D.sortObjects===!0&&_.sort(Ne,$e),this.info.render.frame++,Je===!0&&W.beginShadows();const Le=E.state.shadowsArray;if(Ie.render(Le,J,ye),Je===!0&&W.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ae.render(_,J),E.setupLights(D._useLegacyLights),ye.isArrayCamera){const Me=ye.cameras;for(let Ce=0,ht=Me.length;Ce<ht;Ce++){const vt=Me[Ce];Rn(_,J,vt,vt.viewport)}}else Rn(_,J,ye);Y!==null&&(it.updateMultisampleRenderTarget(Y),it.updateRenderTargetMipmap(Y)),J.isScene===!0&&J.onAfterRender(D,J,ye),lt.resetDefaultState(),ae=-1,$=null,N.pop(),N.length>0?E=N[N.length-1]:E=null,S.pop(),S.length>0?_=S[S.length-1]:_=null};function Ft(J,ye,Le,Me){if(J.visible===!1)return;if(J.layers.test(ye.layers)){if(J.isGroup)Le=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(ye);else if(J.isLight)E.pushLight(J),J.castShadow&&E.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||He.intersectsSprite(J)){Me&&xe.setFromMatrixPosition(J.matrixWorld).applyMatrix4(K);const vt=O.update(J),_t=J.material;_t.visible&&_.push(J,vt,_t,Le,xe.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(!J.frustumCulled||He.intersectsObject(J))){const vt=O.update(J),_t=J.material;if(Me&&(J.boundingSphere!==void 0?(J.boundingSphere===null&&J.computeBoundingSphere(),xe.copy(J.boundingSphere.center)):(vt.boundingSphere===null&&vt.computeBoundingSphere(),xe.copy(vt.boundingSphere.center)),xe.applyMatrix4(J.matrixWorld).applyMatrix4(K)),Array.isArray(_t)){const Mt=vt.groups;for(let Lt=0,le=Mt.length;Lt<le;Lt++){const pt=Mt[Lt],Xt=_t[pt.materialIndex];Xt&&Xt.visible&&_.push(J,vt,Xt,Le,xe.z,pt)}}else _t.visible&&_.push(J,vt,_t,Le,xe.z,null)}}const ht=J.children;for(let vt=0,_t=ht.length;vt<_t;vt++)Ft(ht[vt],ye,Le,Me)}function Rn(J,ye,Le,Me){const Ce=J.opaque,ht=J.transmissive,vt=J.transparent;E.setupLightsView(Le),Je===!0&&W.setGlobalState(D.clippingPlanes,Le),ht.length>0&&cn(Ce,ht,ye,Le),Me&&ze.viewport(k.copy(Me)),Ce.length>0&&_r(Ce,ye,Le),ht.length>0&&_r(ht,ye,Le),vt.length>0&&_r(vt,ye,Le),ze.buffers.depth.setTest(!0),ze.buffers.depth.setMask(!0),ze.buffers.color.setMask(!0),ze.setPolygonOffset(!1)}function cn(J,ye,Le,Me){const Ce=ot.isWebGL2;H===null&&(H=new ks(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")?xi:ts,minFilter:ga,samples:Ce?4:0})),D.getDrawingBufferSize(fe),Ce?H.setSize(fe.x,fe.y):H.setSize(B0(fe.x),B0(fe.y));const ht=D.getRenderTarget();D.setRenderTarget(H),D.getClearColor(Q),G=D.getClearAlpha(),G<1&&D.setClearColor(16777215,.5),D.clear();const vt=D.toneMapping;D.toneMapping=es,_r(J,Le,Me),it.updateMultisampleRenderTarget(H),it.updateRenderTargetMipmap(H);let _t=!1;for(let Mt=0,Lt=ye.length;Mt<Lt;Mt++){const le=ye[Mt],pt=le.object,Xt=le.geometry,Wt=le.material,ir=le.group;if(Wt.side===Ar&&pt.layers.test(Me.layers)){const Lr=Wt.side;Wt.side=Qn,Wt.needsUpdate=!0,Pr(pt,Le,Me,Xt,Wt,ir),Wt.side=Lr,Wt.needsUpdate=!0,_t=!0}}_t===!0&&(it.updateMultisampleRenderTarget(H),it.updateRenderTargetMipmap(H)),D.setRenderTarget(ht),D.setClearColor(Q,G),D.toneMapping=vt}function _r(J,ye,Le){const Me=ye.isScene===!0?ye.overrideMaterial:null;for(let Ce=0,ht=J.length;Ce<ht;Ce++){const vt=J[Ce],_t=vt.object,Mt=vt.geometry,Lt=Me===null?vt.material:Me,le=vt.group;_t.layers.test(Le.layers)&&Pr(_t,ye,Le,Mt,Lt,le)}}function Pr(J,ye,Le,Me,Ce,ht){J.onBeforeRender(D,ye,Le,Me,Ce,ht),J.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Ce.onBeforeRender(D,ye,Le,Me,J,ht),Ce.transparent===!0&&Ce.side===Ar&&Ce.forceSinglePass===!1?(Ce.side=Qn,Ce.needsUpdate=!0,D.renderBufferDirect(Le,ye,Me,Ce,J,ht),Ce.side=ss,Ce.needsUpdate=!0,D.renderBufferDirect(Le,ye,Me,Ce,J,ht),Ce.side=Ar):D.renderBufferDirect(Le,ye,Me,Ce,J,ht),J.onAfterRender(D,ye,Le,Me,Ce,ht)}function Ri(J,ye,Le){ye.isScene!==!0&&(ye=Ge);const Me=Ye.get(J),Ce=E.state.lights,ht=E.state.shadowsArray,vt=Ce.state.version,_t=y.getParameters(J,Ce.state,ht,ye,Le),Mt=y.getProgramCacheKey(_t);let Lt=Me.programs;Me.environment=J.isMeshStandardMaterial?ye.environment:null,Me.fog=ye.fog,Me.envMap=(J.isMeshStandardMaterial?Yt:gt).get(J.envMap||Me.environment),Lt===void 0&&(J.addEventListener("dispose",Ze),Lt=new Map,Me.programs=Lt);let le=Lt.get(Mt);if(le!==void 0){if(Me.currentProgram===le&&Me.lightsStateVersion===vt)return Ls(J,_t),le}else _t.uniforms=y.getUniforms(J),J.onBuild(Le,_t,D),J.onBeforeCompile(_t,D),le=y.acquireProgram(_t,Mt),Lt.set(Mt,le),Me.uniforms=_t.uniforms;const pt=Me.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(pt.clippingPlanes=W.uniform),Ls(J,_t),Me.needsLights=xo(J),Me.lightsStateVersion=vt,Me.needsLights&&(pt.ambientLightColor.value=Ce.state.ambient,pt.lightProbe.value=Ce.state.probe,pt.directionalLights.value=Ce.state.directional,pt.directionalLightShadows.value=Ce.state.directionalShadow,pt.spotLights.value=Ce.state.spot,pt.spotLightShadows.value=Ce.state.spotShadow,pt.rectAreaLights.value=Ce.state.rectArea,pt.ltc_1.value=Ce.state.rectAreaLTC1,pt.ltc_2.value=Ce.state.rectAreaLTC2,pt.pointLights.value=Ce.state.point,pt.pointLightShadows.value=Ce.state.pointShadow,pt.hemisphereLights.value=Ce.state.hemi,pt.directionalShadowMap.value=Ce.state.directionalShadowMap,pt.directionalShadowMatrix.value=Ce.state.directionalShadowMatrix,pt.spotShadowMap.value=Ce.state.spotShadowMap,pt.spotLightMatrix.value=Ce.state.spotLightMatrix,pt.spotLightMap.value=Ce.state.spotLightMap,pt.pointShadowMap.value=Ce.state.pointShadowMap,pt.pointShadowMatrix.value=Ce.state.pointShadowMatrix);const Xt=le.getUniforms(),Wt=A0.seqWithValue(Xt.seq,pt);return Me.currentProgram=le,Me.uniformsList=Wt,le}function Ls(J,ye){const Le=Ye.get(J);Le.outputColorSpace=ye.outputColorSpace,Le.instancing=ye.instancing,Le.instancingColor=ye.instancingColor,Le.skinning=ye.skinning,Le.morphTargets=ye.morphTargets,Le.morphNormals=ye.morphNormals,Le.morphColors=ye.morphColors,Le.morphTargetsCount=ye.morphTargetsCount,Le.numClippingPlanes=ye.numClippingPlanes,Le.numIntersection=ye.numClipIntersection,Le.vertexAlphas=ye.vertexAlphas,Le.vertexTangents=ye.vertexTangents,Le.toneMapping=ye.toneMapping}function Ds(J,ye,Le,Me,Ce){ye.isScene!==!0&&(ye=Ge),it.resetTextureUnits();const ht=ye.fog,vt=Me.isMeshStandardMaterial?ye.environment:null,_t=Y===null?D.outputColorSpace:Y.isXRRenderTarget===!0?Y.texture.colorSpace:ni,Mt=(Me.isMeshStandardMaterial?Yt:gt).get(Me.envMap||vt),Lt=Me.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,le=!!Le.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),pt=!!Le.morphAttributes.position,Xt=!!Le.morphAttributes.normal,Wt=!!Le.morphAttributes.color;let ir=es;Me.toneMapped&&(Y===null||Y.isXRRenderTarget===!0)&&(ir=D.toneMapping);const Lr=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,fn=Lr!==void 0?Lr.length:0,kt=Ye.get(Me),$i=E.state.lights;if(Je===!0&&(ke===!0||J!==$)){const jn=J===$&&Me.id===ae;W.setState(Me,J,jn)}let je=!1;Me.version===kt.__version?(kt.needsLights&&kt.lightsStateVersion!==$i.state.version||kt.outputColorSpace!==_t||Ce.isInstancedMesh&&kt.instancing===!1||!Ce.isInstancedMesh&&kt.instancing===!0||Ce.isSkinnedMesh&&kt.skinning===!1||!Ce.isSkinnedMesh&&kt.skinning===!0||Ce.isInstancedMesh&&kt.instancingColor===!0&&Ce.instanceColor===null||Ce.isInstancedMesh&&kt.instancingColor===!1&&Ce.instanceColor!==null||kt.envMap!==Mt||Me.fog===!0&&kt.fog!==ht||kt.numClippingPlanes!==void 0&&(kt.numClippingPlanes!==W.numPlanes||kt.numIntersection!==W.numIntersection)||kt.vertexAlphas!==Lt||kt.vertexTangents!==le||kt.morphTargets!==pt||kt.morphNormals!==Xt||kt.morphColors!==Wt||kt.toneMapping!==ir||ot.isWebGL2===!0&&kt.morphTargetsCount!==fn)&&(je=!0):(je=!0,kt.__version=Me.version);let Wn=kt.currentProgram;je===!0&&(Wn=Ri(Me,ye,Ce));let cs=!1,tn=!1,pr=!1;const Ln=Wn.getUniforms(),ai=kt.uniforms;if(ze.useProgram(Wn.program)&&(cs=!0,tn=!0,pr=!0),Me.id!==ae&&(ae=Me.id,tn=!0),cs||$!==J){Ln.setValue(ue,"projectionMatrix",J.projectionMatrix),Ln.setValue(ue,"viewMatrix",J.matrixWorldInverse);const jn=Ln.map.cameraPosition;jn!==void 0&&jn.setValue(ue,xe.setFromMatrixPosition(J.matrixWorld)),ot.logarithmicDepthBuffer&&Ln.setValue(ue,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&Ln.setValue(ue,"isOrthographic",J.isOrthographicCamera===!0),$!==J&&($=J,tn=!0,pr=!0)}if(Ce.isSkinnedMesh){Ln.setOptional(ue,Ce,"bindMatrix"),Ln.setOptional(ue,Ce,"bindMatrixInverse");const jn=Ce.skeleton;jn&&(ot.floatVertexTextures?(jn.boneTexture===null&&jn.computeBoneTexture(),Ln.setValue(ue,"boneTexture",jn.boneTexture,it),Ln.setValue(ue,"boneTextureSize",jn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ta=Le.morphAttributes;if((Ta.position!==void 0||Ta.normal!==void 0||Ta.color!==void 0&&ot.isWebGL2===!0)&&ie.update(Ce,Le,Wn),(tn||kt.receiveShadow!==Ce.receiveShadow)&&(kt.receiveShadow=Ce.receiveShadow,Ln.setValue(ue,"receiveShadow",Ce.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(ai.envMap.value=Mt,ai.flipEnvMap.value=Mt.isCubeTexture&&Mt.isRenderTargetTexture===!1?-1:1),tn&&(Ln.setValue(ue,"toneMappingExposure",D.toneMappingExposure),kt.needsLights&&zs(ai,pr),ht&&Me.fog===!0&&M.refreshFogUniforms(ai,ht),M.refreshMaterialUniforms(ai,Me,be,ce,H),A0.upload(ue,kt.uniformsList,ai,it)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(A0.upload(ue,kt.uniformsList,ai,it),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&Ln.setValue(ue,"center",Ce.center),Ln.setValue(ue,"modelViewMatrix",Ce.modelViewMatrix),Ln.setValue(ue,"normalMatrix",Ce.normalMatrix),Ln.setValue(ue,"modelMatrix",Ce.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const jn=Me.uniformsGroups;for(let mn=0,wo=jn.length;mn<wo;mn++)if(ot.isWebGL2){const Aa=jn[mn];mt.update(Aa,Wn),mt.bind(Aa,Wn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Wn}function zs(J,ye){J.ambientLightColor.needsUpdate=ye,J.lightProbe.needsUpdate=ye,J.directionalLights.needsUpdate=ye,J.directionalLightShadows.needsUpdate=ye,J.pointLights.needsUpdate=ye,J.pointLightShadows.needsUpdate=ye,J.spotLights.needsUpdate=ye,J.spotLightShadows.needsUpdate=ye,J.rectAreaLights.needsUpdate=ye,J.hemisphereLights.needsUpdate=ye}function xo(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return j},this.getRenderTarget=function(){return Y},this.setRenderTargetTextures=function(J,ye,Le){Ye.get(J.texture).__webglTexture=ye,Ye.get(J.depthTexture).__webglTexture=Le;const Me=Ye.get(J);Me.__hasExternalTextures=!0,Me.__hasExternalTextures&&(Me.__autoAllocateDepthBuffer=Le===void 0,Me.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,ye){const Le=Ye.get(J);Le.__webglFramebuffer=ye,Le.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(J,ye=0,Le=0){Y=J,X=ye,j=Le;let Me=!0,Ce=null,ht=!1,vt=!1;if(J){const Mt=Ye.get(J);Mt.__useDefaultFramebuffer!==void 0?(ze.bindFramebuffer(ue.FRAMEBUFFER,null),Me=!1):Mt.__webglFramebuffer===void 0?it.setupRenderTarget(J):Mt.__hasExternalTextures&&it.rebindTextures(J,Ye.get(J.texture).__webglTexture,Ye.get(J.depthTexture).__webglTexture);const Lt=J.texture;(Lt.isData3DTexture||Lt.isDataArrayTexture||Lt.isCompressedArrayTexture)&&(vt=!0);const le=Ye.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Array.isArray(le[ye])?Ce=le[ye][Le]:Ce=le[ye],ht=!0):ot.isWebGL2&&J.samples>0&&it.useMultisampledRTT(J)===!1?Ce=Ye.get(J).__webglMultisampledFramebuffer:Array.isArray(le)?Ce=le[Le]:Ce=le,k.copy(J.viewport),L.copy(J.scissor),z=J.scissorTest}else k.copy(Re).multiplyScalar(be).floor(),L.copy(ge).multiplyScalar(be).floor(),z=we;if(ze.bindFramebuffer(ue.FRAMEBUFFER,Ce)&&ot.drawBuffers&&Me&&ze.drawBuffers(J,Ce),ze.viewport(k),ze.scissor(L),ze.setScissorTest(z),ht){const Mt=Ye.get(J.texture);ue.framebufferTexture2D(ue.FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ue.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Mt.__webglTexture,Le)}else if(vt){const Mt=Ye.get(J.texture),Lt=ye||0;ue.framebufferTextureLayer(ue.FRAMEBUFFER,ue.COLOR_ATTACHMENT0,Mt.__webglTexture,Le||0,Lt)}ae=-1},this.readRenderTargetPixels=function(J,ye,Le,Me,Ce,ht,vt){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=Ye.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&vt!==void 0&&(_t=_t[vt]),_t){ze.bindFramebuffer(ue.FRAMEBUFFER,_t);try{const Mt=J.texture,Lt=Mt.format,le=Mt.type;if(Lt!==Br&&ct.convert(Lt)!==ue.getParameter(ue.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const pt=le===xi&&(Pe.has("EXT_color_buffer_half_float")||ot.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(le!==ts&&ct.convert(le)!==ue.getParameter(ue.IMPLEMENTATION_COLOR_READ_TYPE)&&!(le===Fr&&(ot.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=J.width-Me&&Le>=0&&Le<=J.height-Ce&&ue.readPixels(ye,Le,Me,Ce,ct.convert(Lt),ct.convert(le),ht)}finally{const Mt=Y!==null?Ye.get(Y).__webglFramebuffer:null;ze.bindFramebuffer(ue.FRAMEBUFFER,Mt)}}},this.copyFramebufferToTexture=function(J,ye,Le=0){const Me=Math.pow(2,-Le),Ce=Math.floor(ye.image.width*Me),ht=Math.floor(ye.image.height*Me);it.setTexture2D(ye,0),ue.copyTexSubImage2D(ue.TEXTURE_2D,Le,0,0,J.x,J.y,Ce,ht),ze.unbindTexture()},this.copyTextureToTexture=function(J,ye,Le,Me=0){const Ce=ye.image.width,ht=ye.image.height,vt=ct.convert(Le.format),_t=ct.convert(Le.type);it.setTexture2D(Le,0),ue.pixelStorei(ue.UNPACK_FLIP_Y_WEBGL,Le.flipY),ue.pixelStorei(ue.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),ue.pixelStorei(ue.UNPACK_ALIGNMENT,Le.unpackAlignment),ye.isDataTexture?ue.texSubImage2D(ue.TEXTURE_2D,Me,J.x,J.y,Ce,ht,vt,_t,ye.image.data):ye.isCompressedTexture?ue.compressedTexSubImage2D(ue.TEXTURE_2D,Me,J.x,J.y,ye.mipmaps[0].width,ye.mipmaps[0].height,vt,ye.mipmaps[0].data):ue.texSubImage2D(ue.TEXTURE_2D,Me,J.x,J.y,vt,_t,ye.image),Me===0&&Le.generateMipmaps&&ue.generateMipmap(ue.TEXTURE_2D),ze.unbindTexture()},this.copyTextureToTexture3D=function(J,ye,Le,Me,Ce=0){if(D.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ht=J.max.x-J.min.x+1,vt=J.max.y-J.min.y+1,_t=J.max.z-J.min.z+1,Mt=ct.convert(Me.format),Lt=ct.convert(Me.type);let le;if(Me.isData3DTexture)it.setTexture3D(Me,0),le=ue.TEXTURE_3D;else if(Me.isDataArrayTexture)it.setTexture2DArray(Me,0),le=ue.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ue.pixelStorei(ue.UNPACK_FLIP_Y_WEBGL,Me.flipY),ue.pixelStorei(ue.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Me.premultiplyAlpha),ue.pixelStorei(ue.UNPACK_ALIGNMENT,Me.unpackAlignment);const pt=ue.getParameter(ue.UNPACK_ROW_LENGTH),Xt=ue.getParameter(ue.UNPACK_IMAGE_HEIGHT),Wt=ue.getParameter(ue.UNPACK_SKIP_PIXELS),ir=ue.getParameter(ue.UNPACK_SKIP_ROWS),Lr=ue.getParameter(ue.UNPACK_SKIP_IMAGES),fn=Le.isCompressedTexture?Le.mipmaps[0]:Le.image;ue.pixelStorei(ue.UNPACK_ROW_LENGTH,fn.width),ue.pixelStorei(ue.UNPACK_IMAGE_HEIGHT,fn.height),ue.pixelStorei(ue.UNPACK_SKIP_PIXELS,J.min.x),ue.pixelStorei(ue.UNPACK_SKIP_ROWS,J.min.y),ue.pixelStorei(ue.UNPACK_SKIP_IMAGES,J.min.z),Le.isDataTexture||Le.isData3DTexture?ue.texSubImage3D(le,Ce,ye.x,ye.y,ye.z,ht,vt,_t,Mt,Lt,fn.data):Le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ue.compressedTexSubImage3D(le,Ce,ye.x,ye.y,ye.z,ht,vt,_t,Mt,fn.data)):ue.texSubImage3D(le,Ce,ye.x,ye.y,ye.z,ht,vt,_t,Mt,Lt,fn),ue.pixelStorei(ue.UNPACK_ROW_LENGTH,pt),ue.pixelStorei(ue.UNPACK_IMAGE_HEIGHT,Xt),ue.pixelStorei(ue.UNPACK_SKIP_PIXELS,Wt),ue.pixelStorei(ue.UNPACK_SKIP_ROWS,ir),ue.pixelStorei(ue.UNPACK_SKIP_IMAGES,Lr),Ce===0&&Me.generateMipmaps&&ue.generateMipmap(le),ze.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?it.setTextureCube(J,0):J.isData3DTexture?it.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?it.setTexture2DArray(J,0):it.setTexture2D(J,0),ze.unbindTexture()},this.resetState=function(){X=0,j=0,Y=null,ze.reset(),lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return wi}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Ru?"display-p3":"srgb",t.unpackColorSpace=Qt.workingColorSpace===J0?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Tn?Es:Uf}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Es?Tn:ni}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class L7 extends sm{}L7.prototype.isWebGL1Renderer=!0;class D7 extends tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class z7{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Zc,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Mi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xn=new de;class Ji{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Xn.fromBufferAttribute(this,t),Xn.applyMatrix4(e),this.setXYZ(t,Xn.x,Xn.y,Xn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Xn.fromBufferAttribute(this,t),Xn.applyNormalMatrix(e),this.setXYZ(t,Xn.x,Xn.y,Xn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Xn.fromBufferAttribute(this,t),Xn.transformDirection(e),this.setXYZ(t,Xn.x,Xn.y,Xn.z);return this}setX(e,t){return this.normalized&&(t=Jt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Jr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Jr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Jr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Jr(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jt(t,this.array),r=Jt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jt(t,this.array),r=Jt(r,this.array),i=Jt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jt(t,this.array),r=Jt(r,this.array),i=Jt(i,this.array),s=Jt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Hr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ji(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class N7 extends er{constructor(e=null,t=1,r=1,i,s,l,o,u,a=On,h=On,f,v){super(null,l,o,u,a,h,i,s,f,v),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class O7{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let l;t?l=t:l=e*r[s-1];let o=0,u=s-1,a;for(;o<=u;)if(i=Math.floor(o+(u-o)/2),a=r[i]-l,a<0)o=i+1;else if(a>0)u=i-1;else{u=i;break}if(i=u,r[i]===l)return i/(s-1);const h=r[i],v=r[i+1]-h,m=(l-h)/v;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const l=this.getPoint(i),o=this.getPoint(s),u=t||(l.isVector2?new St:new de);return u.copy(o).sub(l).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new de,i=[],s=[],l=[],o=new de,u=new hn;for(let m=0;m<=e;m++){const b=m/e;i[m]=this.getTangentAt(b,new de)}s[0]=new de,l[0]=new de;let a=Number.MAX_VALUE;const h=Math.abs(i[0].x),f=Math.abs(i[0].y),v=Math.abs(i[0].z);h<=a&&(a=h,r.set(1,0,0)),f<=a&&(a=f,r.set(0,1,0)),v<=a&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),l[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),l[m]=l[m-1].clone(),o.crossVectors(i[m-1],i[m]),o.length()>Number.EPSILON){o.normalize();const b=Math.acos(xn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(u.makeRotationAxis(o,b))}l[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(xn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(m=-m);for(let b=1;b<=e;b++)s[b].applyMatrix4(u.makeRotationAxis(i[b],m*b)),l[b].crossVectors(i[b],s[b])}return{tangents:i,normals:s,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class I7 extends O7{constructor(e=0,t=0,r=1,i=1,s=0,l=Math.PI*2,o=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=l,this.aClockwise=o,this.aRotation=u}getPoint(e,t){const r=t||new St,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const l=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(l?s=0:s=i),this.aClockwise===!0&&!l&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(o),a=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),f=Math.sin(this.aRotation),v=u-this.aX,m=a-this.aY;u=v*h-m*f+this.aX,a=v*f+m*h+this.aY}return r.set(u,a)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Nu extends Gr{constructor(e=1,t=1,r=1,i=32,s=1,l=!1,o=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:l,thetaStart:o,thetaLength:u};const a=this;i=Math.floor(i),s=Math.floor(s);const h=[],f=[],v=[],m=[];let b=0;const _=[],E=r/2;let S=0;N(),l===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(h),this.setAttribute("position",new Vn(f,3)),this.setAttribute("normal",new Vn(v,3)),this.setAttribute("uv",new Vn(m,2));function N(){const F=new de,X=new de;let j=0;const Y=(t-e)/r;for(let ae=0;ae<=s;ae++){const $=[],k=ae/s,L=k*(t-e)+e;for(let z=0;z<=i;z++){const Q=z/i,G=Q*u+o,oe=Math.sin(G),ce=Math.cos(G);X.x=L*oe,X.y=-k*r+E,X.z=L*ce,f.push(X.x,X.y,X.z),F.set(oe,Y,ce).normalize(),v.push(F.x,F.y,F.z),m.push(Q,1-k),$.push(b++)}_.push($)}for(let ae=0;ae<i;ae++)for(let $=0;$<s;$++){const k=_[$][ae],L=_[$+1][ae],z=_[$+1][ae+1],Q=_[$][ae+1];h.push(k,L,Q),h.push(L,z,Q),j+=6}a.addGroup(S,j,0),S+=j}function D(F){const X=b,j=new St,Y=new de;let ae=0;const $=F===!0?e:t,k=F===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,E*k,0),v.push(0,k,0),m.push(.5,.5),b++;const L=b;for(let z=0;z<=i;z++){const G=z/i*u+o,oe=Math.cos(G),ce=Math.sin(G);Y.x=$*ce,Y.y=E*k,Y.z=$*oe,f.push(Y.x,Y.y,Y.z),v.push(0,k,0),j.x=oe*.5+.5,j.y=ce*.5*k+.5,m.push(j.x,j.y),b++}for(let z=0;z<i;z++){const Q=X+z,G=L+z;F===!0?h.push(G,G+1,Q):h.push(G+1,G,Q),ae+=3}a.addGroup(S,ae,F===!0?1:2),S+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class po extends Gr{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,l=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:l,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(l+o,Math.PI);let a=0;const h=[],f=new de,v=new de,m=[],b=[],_=[],E=[];for(let S=0;S<=r;S++){const N=[],D=S/r;let F=0;S===0&&l===0?F=.5/t:S===r&&u===Math.PI&&(F=-.5/t);for(let X=0;X<=t;X++){const j=X/t;f.x=-e*Math.cos(i+j*s)*Math.sin(l+D*o),f.y=e*Math.cos(l+D*o),f.z=e*Math.sin(i+j*s)*Math.sin(l+D*o),b.push(f.x,f.y,f.z),v.copy(f).normalize(),_.push(v.x,v.y,v.z),E.push(j+F,1-D),N.push(a++)}h.push(N)}for(let S=0;S<r;S++)for(let N=0;N<t;N++){const D=h[S][N+1],F=h[S][N],X=h[S+1][N],j=h[S+1][N+1];(S!==0||l>0)&&m.push(D,F,j),(S!==r-1||u<Math.PI)&&m.push(F,X,j)}this.setIndex(m),this.setAttribute("position",new Vn(b,3)),this.setAttribute("normal",new Vn(_,3)),this.setAttribute("uv",new Vn(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new po(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class U7 extends Gr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new de,s=new de;if(e.index!==null){const l=e.attributes.position,o=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:o.count,materialIndex:0}]);for(let a=0,h=u.length;a<h;++a){const f=u[a],v=f.start,m=f.count;for(let b=v,_=v+m;b<_;b+=3)for(let E=0;E<3;E++){const S=o.getX(b+E),N=o.getX(b+(E+1)%3);i.fromBufferAttribute(l,S),s.fromBufferAttribute(l,N),Kp(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const l=e.attributes.position;for(let o=0,u=l.count/3;o<u;o++)for(let a=0;a<3;a++){const h=3*o+a,f=3*o+(a+1)%3;i.fromBufferAttribute(l,h),s.fromBufferAttribute(l,f),Kp(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Vn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Kp(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}class am extends uo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new jt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bf,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class B7 extends am{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new St(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new jt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new jt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new jt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}const F0={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class F7{constructor(e,t,r){const i=this;let s=!1,l=0,o=0,u;const a=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){o++,s===!1&&i.onStart!==void 0&&i.onStart(h,l,o),s=!0},this.itemEnd=function(h){l++,i.onProgress!==void 0&&i.onProgress(h,l,o),l===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,f){return a.push(h,f),this},this.removeHandler=function(h){const f=a.indexOf(h);return f!==-1&&a.splice(f,2),this},this.getHandler=function(h){for(let f=0,v=a.length;f<v;f+=2){const m=a[f],b=a[f+1];if(m.global&&(m.lastIndex=0),m.test(h))return b}return null}}}const H7=new F7;class fo{constructor(e){this.manager=e!==void 0?e:H7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}fo.DEFAULT_MATERIAL_NAME="__DEFAULT";const gi={};class G7 extends Error{constructor(e,t){super(e),this.response=t}}class V7 extends fo{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=F0.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(gi[e]!==void 0){gi[e].push({onLoad:t,onProgress:r,onError:i});return}gi[e]=[],gi[e].push({onLoad:t,onProgress:r,onError:i});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,u=this.responseType;fetch(l).then(a=>{if(a.status===200||a.status===0){if(a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||a.body===void 0||a.body.getReader===void 0)return a;const h=gi[e],f=a.body.getReader(),v=a.headers.get("Content-Length")||a.headers.get("X-File-Size"),m=v?parseInt(v):0,b=m!==0;let _=0;const E=new ReadableStream({start(S){N();function N(){f.read().then(({done:D,value:F})=>{if(D)S.close();else{_+=F.byteLength;const X=new ProgressEvent("progress",{lengthComputable:b,loaded:_,total:m});for(let j=0,Y=h.length;j<Y;j++){const ae=h[j];ae.onProgress&&ae.onProgress(X)}S.enqueue(F),N()}})}}});return new Response(E)}else throw new G7(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`,a)}).then(a=>{switch(u){case"arraybuffer":return a.arrayBuffer();case"blob":return a.blob();case"document":return a.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return a.json();default:if(o===void 0)return a.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),v=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(v);return a.arrayBuffer().then(b=>m.decode(b))}}}).then(a=>{F0.add(e,a);const h=gi[e];delete gi[e];for(let f=0,v=h.length;f<v;f++){const m=h[f];m.onLoad&&m.onLoad(a)}}).catch(a=>{const h=gi[e];if(h===void 0)throw this.manager.itemError(e),a;delete gi[e];for(let f=0,v=h.length;f<v;f++){const m=h[f];m.onError&&m.onError(a)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class W7 extends fo{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,l=F0.get(e);if(l!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(l),s.manager.itemEnd(e)},0),l;const o=Qa("img");function u(){h(),F0.add(e,this),t&&t(this),s.manager.itemEnd(e)}function a(f){h(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){o.removeEventListener("load",u,!1),o.removeEventListener("error",a,!1)}return o.addEventListener("load",u,!1),o.addEventListener("error",a,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class j7 extends fo{constructor(e){super(e)}load(e,t,r,i){const s=this,l=new N7,o=new V7(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(u){let a;try{a=s.parse(u)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}a.image!==void 0?l.image=a.image:a.data!==void 0&&(l.image.width=a.width,l.image.height=a.height,l.image.data=a.data),l.wrapS=a.wrapS!==void 0?a.wrapS:br,l.wrapT=a.wrapT!==void 0?a.wrapT:br,l.magFilter=a.magFilter!==void 0?a.magFilter:In,l.minFilter=a.minFilter!==void 0?a.minFilter:In,l.anisotropy=a.anisotropy!==void 0?a.anisotropy:1,a.colorSpace!==void 0?l.colorSpace=a.colorSpace:a.encoding!==void 0&&(l.encoding=a.encoding),a.flipY!==void 0&&(l.flipY=a.flipY),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.mipmaps!==void 0&&(l.mipmaps=a.mipmaps,l.minFilter=ga),a.mipmapCount===1&&(l.minFilter=In),a.generateMipmaps!==void 0&&(l.generateMipmaps=a.generateMipmaps),l.needsUpdate=!0,t&&t(l,a)},r,i),l}}class q7 extends fo{constructor(e){super(e)}load(e,t,r,i){const s=new er,l=new W7(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class om extends tr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new jt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}const wc=new hn,Zp=new de,Jp=new de;class X7{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new St(512,512),this.map=null,this.mapPass=null,this.matrix=new hn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Lu,this._frameExtents=new St(1,1),this._viewportCount=1,this._viewports=[new en(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Zp.setFromMatrixPosition(e.matrixWorld),t.position.copy(Zp),Jp.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Jp),t.updateMatrixWorld(),wc.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wc),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(wc)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const Qp=new hn,Ia=new de,_c=new de;class Y7 extends X7{constructor(){super(new vr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new St(4,2),this._viewportCount=6,this._viewports=[new en(2,1,1,1),new en(0,1,1,1),new en(3,1,1,1),new en(1,1,1,1),new en(3,0,1,1),new en(1,0,1,1)],this._cubeDirections=[new de(1,0,0),new de(-1,0,0),new de(0,0,1),new de(0,0,-1),new de(0,1,0),new de(0,-1,0)],this._cubeUps=[new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,0,1),new de(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ia.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ia),_c.copy(r.position),_c.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(_c),r.updateMatrixWorld(),i.makeTranslation(-Ia.x,-Ia.y,-Ia.z),Qp.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qp)}}class K7 extends om{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Y7}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Z7 extends om{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class J7 extends Gr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class tu extends z7{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class e1{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const t1=new de,f0=new de;class Q7{constructor(e=new de,t=new de){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){t1.subVectors(e,this.start),f0.subVectors(this.end,this.start);const r=f0.dot(f0);let s=f0.dot(t1)/r;return t&&(s=xn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ku}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ku);const n1={type:"change"},Sc={type:"start"},r1={type:"end"},m0=new jf,i1=new Xi,e8=Math.cos(70*Ff.DEG2RAD);class t8 extends Ps{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new de,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Us.ROTATE,MIDDLE:Us.DOLLY,RIGHT:Us.PAN},this.touches={ONE:Bs.ROTATE,TWO:Bs.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ie){ie.addEventListener("keydown",O),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",O),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(n1),r.update(),s=i.NONE},this.update=function(){const ie=new de,qe=new Cs().setFromUnitVectors(e.up,new de(0,1,0)),_e=qe.clone().invert(),ct=new de,lt=new Cs,mt=new de,q=2*Math.PI;return function(Z=null){const Ke=r.object.position;ie.copy(Ke).sub(r.target),ie.applyQuaternion(qe),o.setFromVector3(ie),r.autoRotate&&s===i.NONE&&L($(Z)),r.enableDamping?(o.theta+=u.theta*r.dampingFactor,o.phi+=u.phi*r.dampingFactor):(o.theta+=u.theta,o.phi+=u.phi);let rt=r.minAzimuthAngle,Ze=r.maxAzimuthAngle;isFinite(rt)&&isFinite(Ze)&&(rt<-Math.PI?rt+=q:rt>Math.PI&&(rt-=q),Ze<-Math.PI?Ze+=q:Ze>Math.PI&&(Ze-=q),rt<=Ze?o.theta=Math.max(rt,Math.min(Ze,o.theta)):o.theta=o.theta>(rt+Ze)/2?Math.max(rt,o.theta):Math.min(Ze,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&j||r.object.isOrthographicCamera?o.radius=$e(o.radius):o.radius=$e(o.radius*a),ie.setFromSpherical(o),ie.applyQuaternion(_e),Ke.copy(r.target).add(ie),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),h.set(0,0,0));let Be=!1;if(r.zoomToCursor&&j){let ft=null;if(r.object.isPerspectiveCamera){const wt=ie.length();ft=$e(wt*a);const pn=wt-ft;r.object.position.addScaledVector(F,pn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const wt=new de(X.x,X.y,0);wt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/a)),r.object.updateProjectionMatrix(),Be=!0;const pn=new de(X.x,X.y,0);pn.unproject(r.object),r.object.position.sub(pn).add(wt),r.object.updateMatrixWorld(),ft=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;ft!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(ft).add(r.object.position):(m0.origin.copy(r.object.position),m0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(m0.direction))<e8?e.lookAt(r.target):(i1.setFromNormalAndCoplanarPoint(r.object.up,r.target),m0.intersectPlane(i1,r.target))))}else r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/a)),r.object.updateProjectionMatrix(),Be=!0);return a=1,j=!1,Be||ct.distanceToSquared(r.object.position)>l||8*(1-lt.dot(r.object.quaternion))>l||mt.distanceToSquared(r.target)>0?(r.dispatchEvent(n1),ct.copy(r.object.position),lt.copy(r.object.quaternion),mt.copy(r.target),Be=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",he),r.domElement.removeEventListener("pointerdown",Ye),r.domElement.removeEventListener("pointercancel",gt),r.domElement.removeEventListener("wheel",ee),r.domElement.removeEventListener("pointermove",it),r.domElement.removeEventListener("pointerup",gt),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",O),r._domElementKeyEvents=null)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=i.NONE;const l=1e-6,o=new e1,u=new e1;let a=1;const h=new de,f=new St,v=new St,m=new St,b=new St,_=new St,E=new St,S=new St,N=new St,D=new St,F=new de,X=new St;let j=!1;const Y=[],ae={};function $(ie){return ie!==null?2*Math.PI/60*r.autoRotateSpeed*ie:2*Math.PI/60/60*r.autoRotateSpeed}function k(){return Math.pow(.95,r.zoomSpeed)}function L(ie){u.theta-=ie}function z(ie){u.phi-=ie}const Q=function(){const ie=new de;return function(_e,ct){ie.setFromMatrixColumn(ct,0),ie.multiplyScalar(-_e),h.add(ie)}}(),G=function(){const ie=new de;return function(_e,ct){r.screenSpacePanning===!0?ie.setFromMatrixColumn(ct,1):(ie.setFromMatrixColumn(ct,0),ie.crossVectors(r.object.up,ie)),ie.multiplyScalar(_e),h.add(ie)}}(),oe=function(){const ie=new de;return function(_e,ct){const lt=r.domElement;if(r.object.isPerspectiveCamera){const mt=r.object.position;ie.copy(mt).sub(r.target);let q=ie.length();q*=Math.tan(r.object.fov/2*Math.PI/180),Q(2*_e*q/lt.clientHeight,r.object.matrix),G(2*ct*q/lt.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(Q(_e*(r.object.right-r.object.left)/r.object.zoom/lt.clientWidth,r.object.matrix),G(ct*(r.object.top-r.object.bottom)/r.object.zoom/lt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function ce(ie){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?a/=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function be(ie){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?a*=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Ne(ie){if(!r.zoomToCursor)return;j=!0;const qe=r.domElement.getBoundingClientRect(),_e=ie.clientX-qe.left,ct=ie.clientY-qe.top,lt=qe.width,mt=qe.height;X.x=_e/lt*2-1,X.y=-(ct/mt)*2+1,F.set(X.x,X.y,1).unproject(r.object).sub(r.object.position).normalize()}function $e(ie){return Math.max(r.minDistance,Math.min(r.maxDistance,ie))}function Re(ie){f.set(ie.clientX,ie.clientY)}function ge(ie){Ne(ie),S.set(ie.clientX,ie.clientY)}function we(ie){b.set(ie.clientX,ie.clientY)}function He(ie){v.set(ie.clientX,ie.clientY),m.subVectors(v,f).multiplyScalar(r.rotateSpeed);const qe=r.domElement;L(2*Math.PI*m.x/qe.clientHeight),z(2*Math.PI*m.y/qe.clientHeight),f.copy(v),r.update()}function Je(ie){N.set(ie.clientX,ie.clientY),D.subVectors(N,S),D.y>0?ce(k()):D.y<0&&be(k()),S.copy(N),r.update()}function ke(ie){_.set(ie.clientX,ie.clientY),E.subVectors(_,b).multiplyScalar(r.panSpeed),oe(E.x,E.y),b.copy(_),r.update()}function H(ie){Ne(ie),ie.deltaY<0?be(k()):ie.deltaY>0&&ce(k()),r.update()}function K(ie){let qe=!1;switch(ie.code){case r.keys.UP:ie.ctrlKey||ie.metaKey||ie.shiftKey?z(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):oe(0,r.keyPanSpeed),qe=!0;break;case r.keys.BOTTOM:ie.ctrlKey||ie.metaKey||ie.shiftKey?z(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):oe(0,-r.keyPanSpeed),qe=!0;break;case r.keys.LEFT:ie.ctrlKey||ie.metaKey||ie.shiftKey?L(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):oe(r.keyPanSpeed,0),qe=!0;break;case r.keys.RIGHT:ie.ctrlKey||ie.metaKey||ie.shiftKey?L(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):oe(-r.keyPanSpeed,0),qe=!0;break}qe&&(ie.preventDefault(),r.update())}function fe(){if(Y.length===1)f.set(Y[0].pageX,Y[0].pageY);else{const ie=.5*(Y[0].pageX+Y[1].pageX),qe=.5*(Y[0].pageY+Y[1].pageY);f.set(ie,qe)}}function xe(){if(Y.length===1)b.set(Y[0].pageX,Y[0].pageY);else{const ie=.5*(Y[0].pageX+Y[1].pageX),qe=.5*(Y[0].pageY+Y[1].pageY);b.set(ie,qe)}}function Ge(){const ie=Y[0].pageX-Y[1].pageX,qe=Y[0].pageY-Y[1].pageY,_e=Math.sqrt(ie*ie+qe*qe);S.set(0,_e)}function Ee(){r.enableZoom&&Ge(),r.enablePan&&xe()}function ue(){r.enableZoom&&Ge(),r.enableRotate&&fe()}function Ue(ie){if(Y.length==1)v.set(ie.pageX,ie.pageY);else{const _e=Ae(ie),ct=.5*(ie.pageX+_e.x),lt=.5*(ie.pageY+_e.y);v.set(ct,lt)}m.subVectors(v,f).multiplyScalar(r.rotateSpeed);const qe=r.domElement;L(2*Math.PI*m.x/qe.clientHeight),z(2*Math.PI*m.y/qe.clientHeight),f.copy(v)}function Pe(ie){if(Y.length===1)_.set(ie.pageX,ie.pageY);else{const qe=Ae(ie),_e=.5*(ie.pageX+qe.x),ct=.5*(ie.pageY+qe.y);_.set(_e,ct)}E.subVectors(_,b).multiplyScalar(r.panSpeed),oe(E.x,E.y),b.copy(_)}function ot(ie){const qe=Ae(ie),_e=ie.pageX-qe.x,ct=ie.pageY-qe.y,lt=Math.sqrt(_e*_e+ct*ct);N.set(0,lt),D.set(0,Math.pow(N.y/S.y,r.zoomSpeed)),ce(D.y),S.copy(N)}function ze(ie){r.enableZoom&&ot(ie),r.enablePan&&Pe(ie)}function Oe(ie){r.enableZoom&&ot(ie),r.enableRotate&&Ue(ie)}function Ye(ie){r.enabled!==!1&&(Y.length===0&&(r.domElement.setPointerCapture(ie.pointerId),r.domElement.addEventListener("pointermove",it),r.domElement.addEventListener("pointerup",gt)),C(ie),ie.pointerType==="touch"?y(ie):Yt(ie))}function it(ie){r.enabled!==!1&&(ie.pointerType==="touch"?M(ie):Kt(ie))}function gt(ie){W(ie),Y.length===0&&(r.domElement.releasePointerCapture(ie.pointerId),r.domElement.removeEventListener("pointermove",it),r.domElement.removeEventListener("pointerup",gt)),r.dispatchEvent(r1),s=i.NONE}function Yt(ie){let qe;switch(ie.button){case 0:qe=r.mouseButtons.LEFT;break;case 1:qe=r.mouseButtons.MIDDLE;break;case 2:qe=r.mouseButtons.RIGHT;break;default:qe=-1}switch(qe){case Us.DOLLY:if(r.enableZoom===!1)return;ge(ie),s=i.DOLLY;break;case Us.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enablePan===!1)return;we(ie),s=i.PAN}else{if(r.enableRotate===!1)return;Re(ie),s=i.ROTATE}break;case Us.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enableRotate===!1)return;Re(ie),s=i.ROTATE}else{if(r.enablePan===!1)return;we(ie),s=i.PAN}break;default:s=i.NONE}s!==i.NONE&&r.dispatchEvent(Sc)}function Kt(ie){switch(s){case i.ROTATE:if(r.enableRotate===!1)return;He(ie);break;case i.DOLLY:if(r.enableZoom===!1)return;Je(ie);break;case i.PAN:if(r.enablePan===!1)return;ke(ie);break}}function ee(ie){r.enabled===!1||r.enableZoom===!1||s!==i.NONE||(ie.preventDefault(),r.dispatchEvent(Sc),H(ie),r.dispatchEvent(r1))}function O(ie){r.enabled===!1||r.enablePan===!1||K(ie)}function y(ie){switch(Ie(ie),Y.length){case 1:switch(r.touches.ONE){case Bs.ROTATE:if(r.enableRotate===!1)return;fe(),s=i.TOUCH_ROTATE;break;case Bs.PAN:if(r.enablePan===!1)return;xe(),s=i.TOUCH_PAN;break;default:s=i.NONE}break;case 2:switch(r.touches.TWO){case Bs.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ee(),s=i.TOUCH_DOLLY_PAN;break;case Bs.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ue(),s=i.TOUCH_DOLLY_ROTATE;break;default:s=i.NONE}break;default:s=i.NONE}s!==i.NONE&&r.dispatchEvent(Sc)}function M(ie){switch(Ie(ie),s){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ue(ie),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;Pe(ie),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ze(ie),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Oe(ie),r.update();break;default:s=i.NONE}}function he(ie){r.enabled!==!1&&ie.preventDefault()}function C(ie){Y.push(ie)}function W(ie){delete ae[ie.pointerId];for(let qe=0;qe<Y.length;qe++)if(Y[qe].pointerId==ie.pointerId){Y.splice(qe,1);return}}function Ie(ie){let qe=ae[ie.pointerId];qe===void 0&&(qe=new St,ae[ie.pointerId]=qe),qe.set(ie.pageX,ie.pageY)}function Ae(ie){const qe=ie.pointerId===Y[0].pointerId?Y[1]:Y[0];return ae[qe.pointerId]}r.domElement.addEventListener("contextmenu",he),r.domElement.addEventListener("pointerdown",Ye),r.domElement.addEventListener("pointercancel",gt),r.domElement.addEventListener("wheel",ee,{passive:!1}),this.update()}}const s1=new ls,g0=new de;class lm extends J7{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new Vn(e,3)),this.setAttribute("uv",new Vn(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,r=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),r.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const r=new tu(t,6,1);return this.setAttribute("instanceStart",new Ji(r,3,0)),this.setAttribute("instanceEnd",new Ji(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const r=new tu(t,6,1);return this.setAttribute("instanceColorStart",new Ji(r,3,0)),this.setAttribute("instanceColorEnd",new Ji(r,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new U7(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ls);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),s1.setFromBufferAttribute(t),this.boundingBox.union(s1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new co),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let s=0,l=e.count;s<l;s++)g0.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(g0)),g0.fromBufferAttribute(t,s),i=Math.max(i,r.distanceToSquared(g0));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}nt.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new St(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};cr.line={uniforms:Pu.merge([nt.common,nt.fog,nt.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				// get the offset direction as perpendicular to the view vector
				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 offset;
				if ( position.y < 0.5 ) {

					offset = normalize( cross( start.xyz, worldDir ) );

				} else {

					offset = normalize( cross( end.xyz, worldDir ) );

				}

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// extend the line bounds to encompass  endcaps
					start.xyz += - worldDir * linewidth * 0.5;
					end.xyz += worldDir * linewidth * 0.5;

					// shift the position of the quad so it hugs the forward edge of the line
					offset.xy -= dir * forwardOffset;
					offset.z += 0.5;

				#endif

				// endcaps
				if ( position.y > 1.0 || position.y < 0.0 ) {

					offset.xy += dir * 2.0 * forwardOffset;

				}

				// adjust for linewidth
				offset *= linewidth * 0.5;

				// set the world position
				worldPos = ( position.y < 0.5 ) ? start : end;
				worldPos.xyz += offset;

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class mo extends as{constructor(e){super({type:"LineMaterial",uniforms:Pu.clone(cr.line.uniforms),vertexShader:cr.line.vertexShader,fragmentShader:cr.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1))}}const a1=new de,o1=new de,Dn=new en,zn=new en,Xr=new en,Mc=new de,Ec=new hn,Nn=new Q7,l1=new de,v0=new ls,b0=new co,Yr=new en;let Qr,Ts;function c1(n,e,t){return Yr.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),Yr.multiplyScalar(1/Yr.w),Yr.x=Ts/t.width,Yr.y=Ts/t.height,Yr.applyMatrix4(n.projectionMatrixInverse),Yr.multiplyScalar(1/Yr.w),Math.abs(Math.max(Yr.x,Yr.y))}function n8(n,e){const t=n.matrixWorld,r=n.geometry,i=r.attributes.instanceStart,s=r.attributes.instanceEnd,l=Math.min(r.instanceCount,i.count);for(let o=0,u=l;o<u;o++){Nn.start.fromBufferAttribute(i,o),Nn.end.fromBufferAttribute(s,o),Nn.applyMatrix4(t);const a=new de,h=new de;Qr.distanceSqToSegment(Nn.start,Nn.end,h,a),h.distanceTo(a)<Ts*.5&&e.push({point:h,pointOnLine:a,distance:Qr.origin.distanceTo(h),object:n,face:null,faceIndex:o,uv:null,uv1:null})}}function r8(n,e,t){const r=e.projectionMatrix,s=n.material.resolution,l=n.matrixWorld,o=n.geometry,u=o.attributes.instanceStart,a=o.attributes.instanceEnd,h=Math.min(o.instanceCount,u.count),f=-e.near;Qr.at(1,Xr),Xr.w=1,Xr.applyMatrix4(e.matrixWorldInverse),Xr.applyMatrix4(r),Xr.multiplyScalar(1/Xr.w),Xr.x*=s.x/2,Xr.y*=s.y/2,Xr.z=0,Mc.copy(Xr),Ec.multiplyMatrices(e.matrixWorldInverse,l);for(let v=0,m=h;v<m;v++){if(Dn.fromBufferAttribute(u,v),zn.fromBufferAttribute(a,v),Dn.w=1,zn.w=1,Dn.applyMatrix4(Ec),zn.applyMatrix4(Ec),Dn.z>f&&zn.z>f)continue;if(Dn.z>f){const D=Dn.z-zn.z,F=(Dn.z-f)/D;Dn.lerp(zn,F)}else if(zn.z>f){const D=zn.z-Dn.z,F=(zn.z-f)/D;zn.lerp(Dn,F)}Dn.applyMatrix4(r),zn.applyMatrix4(r),Dn.multiplyScalar(1/Dn.w),zn.multiplyScalar(1/zn.w),Dn.x*=s.x/2,Dn.y*=s.y/2,zn.x*=s.x/2,zn.y*=s.y/2,Nn.start.copy(Dn),Nn.start.z=0,Nn.end.copy(zn),Nn.end.z=0;const _=Nn.closestPointToPointParameter(Mc,!0);Nn.at(_,l1);const E=Ff.lerp(Dn.z,zn.z,_),S=E>=-1&&E<=1,N=Mc.distanceTo(l1)<Ts*.5;if(S&&N){Nn.start.fromBufferAttribute(u,v),Nn.end.fromBufferAttribute(a,v),Nn.start.applyMatrix4(l),Nn.end.applyMatrix4(l);const D=new de,F=new de;Qr.distanceSqToSegment(Nn.start,Nn.end,F,D),t.push({point:F,pointOnLine:D,distance:Qr.origin.distanceTo(F),object:n,face:null,faceIndex:v,uv:null,uv1:null})}}}class i8 extends xr{constructor(e=new lm,t=new mo({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let l=0,o=0,u=t.count;l<u;l++,o+=2)a1.fromBufferAttribute(t,l),o1.fromBufferAttribute(r,l),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+a1.distanceTo(o1);const s=new tu(i,2,1);return e.setAttribute("instanceDistanceStart",new Ji(s,1,0)),e.setAttribute("instanceDistanceEnd",new Ji(s,1,1)),this}raycast(e,t){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Qr=e.ray;const l=this.matrixWorld,o=this.geometry,u=this.material;Ts=u.linewidth+s,o.boundingSphere===null&&o.computeBoundingSphere(),b0.copy(o.boundingSphere).applyMatrix4(l);let a;if(r)a=Ts*.5;else{const f=Math.max(i.near,b0.distanceToPoint(Qr.origin));a=c1(i,f,u.resolution)}if(b0.radius+=a,Qr.intersectsSphere(b0)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),v0.copy(o.boundingBox).applyMatrix4(l);let h;if(r)h=Ts*.5;else{const f=Math.max(i.near,v0.distanceToPoint(Qr.origin));h=c1(i,f,u.resolution)}v0.expandByScalar(h),Qr.intersectsBox(v0)!==!1&&(r?n8(this,t):r8(this,i,t))}}class Ou extends lm{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,r=new Float32Array(2*t);for(let i=0;i<t;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e){const t=e.length-3,r=new Float32Array(2*t);for(let i=0;i<t;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setColors(r),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class cm extends i8{constructor(e=new Ou,t=new mo({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const{PI:um,sqrt:Iu,sin:ya,asin:s8,cos:As,acos:a8,tan:o8,atan2:u1,abs:zy}=Math,go=63781366e-1,an=um/180,Tc=({x:n,y:e,z:t},{x:r,y:i,z:s})=>n*r+e*i+t*s,Xa=(n,{x:e,y:t,z:r})=>({x:n*e,y:n*t,z:n*r}),nu=({x:n,y:e,z:t},{x:r,y:i,z:s})=>({x:n+r,y:e+i,z:t+s}),l8=({x:n,y:e,z:t},{x:r,y:i,z:s})=>({x:n-r,y:e-i,z:t-s}),c8=({x:n,y:e,z:t},{x:r,y:i,z:s})=>({x:e*s-t*i,y:t*r-n*s,z:n*i-e*r}),ru=({x:n,y:e,z:t})=>({lat:u1(t,Iu(n*n+e*e))/an,lon:u1(e,n)/an}),H0=({lat:n,lon:e})=>{const t=n*an,r=e*an,i=As(t);return{x:i*As(r),y:i*ya(r),z:ya(t)}},u8=n=>ru(Xa(1/n.length,n.map(H0).reduce(nu,{x:0,y:0,z:0})));function h8(n,e){const t=H0(n),r=H0(e),i=Tc(t,r),s=1-i*i,l=ya(n.angle*an)/s,o=ya(e.angle*an)/s,u=nu(Xa(l-o*i,t),Xa(o-l*i,r)),a=c8(t,r),h=Xa(Iu((1-Tc(u,u))/Tc(a,a)),a);return[ru(nu(u,h)),ru(l8(u,h))]}function iu(n,e){const t=n.lat*an,r=n.lon*an,i=e.lat*an,s=e.lon*an,l=ya((i-t)/2),o=ya((s-r)/2),u=l*l+As(t)*As(i)*o*o;return 2*go*s8(Iu(u))}function d8(n){let e=[];for(let t=0;t<n.length-1;t++)for(let r=t+1;r<n.length;r++)n[t].type!="landmark"&&n[r].type!="landmark"&&(e=e.concat(h8(n[t],n[r])));return e}function p8(n,e){let t=[];const r=e.filter(i=>i.type=="landmark");if(0<r.length)for(let i=0;i<n.length;i++)r.forEach(s=>{const l=iu(n[i],s);l<=s.distance&&t.push({u:i,v:i,d:l})});else for(let i=0;i<n.length-1;i++)for(let s=i+1;s<n.length;s++)t.push({u:i,v:s,d:iu(n[i],n[s])});return t.sort((i,s)=>i.d-s.d).slice(0,3).reduce((i,s)=>i.concat([s.u,s.v]),[]).filter((i,s,l)=>l.indexOf(i)===s).slice(0,3).map(i=>n[i])}function f8(n){return a8(1/(1+n/(1.2*go)))/an}function m8(n,e){return n*283.15/(1010*(273.15+e))}function g8(n,e=1){return e/(o8((n+7.31/(n+4.4))*an)*60)}function v8(n,e,t,r){let i=0,s=0,l=-9999,o=0,u=0,a=null;const h=[],f=m8(n.pressure_mbar,n.temperature_celsius);for(let v=0;v<n.stars.length;v++){let m={};const b=n.stars[v];if(m.name=b.name,m.type="Sun",m.limb=!1,t.includes(b.name))m.type="star";else if(r.includes(b.name))m.type="planet";else{let N=b.name.split(" ");N[0]=="Moon"&&(m.type="Moon"),m.limb=N[1]}m.timezone=n.timezone,m.watch_time=e.utc_date(n.date,b.time,0);const _={h:b.time.h,m:b.time.m,s:b.time.s+n.watch_error},E=e.utc_date(n.date,_,n.timezone);(l!=E.date.y||o!=E.date.m||u!=E.date.d)&&(l=E.date.y,o=E.date.m,u=E.date.d,a=e.almanac_page(l,o,u)),m.datetime_utc=E,m.sextant_altitude=b.alt;let S=b.alt;if(m.dip_correction=0,n.method=="theodolite"?S=90-b.alt:n.method=="bubble sextant"?S=(b.alt+n.index_error)/2:n.method=="sextant"&&(m.dip_correction=f8(n.observer_height_meter),S=b.alt+n.index_error-m.dip_correction),m.refraction_factor=f,m.refraction_correction=g8(S,f),m.angle=S-m.refraction_correction,m.type=="planet"){const N=a.get(m.name);m.gha_integral=N.get("GHA")[E.time.h],m.declination=N.get("decl")[E.time.h],m.v_factor=N.get("v"),m.d_factor=N.get("d"),m.gha_increment=e.gha_increment(m.name,E.time.m,E.time.s),m.v_correction=e.vd_corr(E.time.m,m.v_factor),m.d_correction=e.vd_corr(E.time.m,m.d_factor),m.gha=m.gha_integral+m.gha_increment+m.v_correction/60,m.lat=m.declination+m.d_correction/60,m.lon=-m.gha,(m.name=="Mars"||m.name=="Venus")&&(m.hp=N.get("HP"),m.parallax=m.hp*As(m.angle*an)/60,m.angle+=m.parallax)}else if(m.type=="Sun"){const N=a.get("Sun");m.gha_integral=N.get("GHA")[E.time.h],m.declination=N.get("decl")[E.time.h],m.d_factor=N.get("d"),m.semidiameter=N.get("SD"),m.gha_increment=e.gha_increment("Sun",E.time.m,E.time.s),m.gha=m.gha_integral+m.gha_increment,m.lat=m.declination+m.d_correction/60,m.lon=-m.gha;const D=m.limb=="LL"?1:-1;m.angle+=D*m.semidiameter/60,m.hp=N.get("HP"),m.parallax=m.hp*As(m.angle*an)/60,m.angle+=m.parallax}else if(m.type=="Moon"){const N=a.get("Moon");m.gha_integral=N.get("GHA")[E.time.h],m.declination=N.get("decl")[E.time.h],m.v_factor=N.get("v")[E.time.h],m.d_factor=N.get("d")[E.time.h],m.hp=N.get("HP")[E.time.h],m.semidiameter=N.get("SD"),m.gha_increment=e.gha_increment("Moon",E.time.m,E.time.s),m.v_correction=e.vd_corr(E.time.m,m.v_factor),m.d_correction=e.vd_corr(E.time.m,m.d_factor),m.gha=m.gha_integral+m.gha_increment+m.v_correction/60,m.lat=m.declination+m.d_correction/60,m.lon=-m.gha;const D=m.limb=="LL"?1:-1;m.angle+=D*m.semidiameter/60,m.parallax=m.hp*As(m.angle*an)/60,m.angle+=m.parallax}else{m.aries_gha=a.get("aries").get(E.time.h),m.gha_increment=e.gha_increment("aries",E.time.m,E.time.s);const N=a.get("stars").get(b.name);m.star_sha=N.get("sha"),m.declination=N.get("decl"),m.gha=m.aries_gha+m.gha_increment+m.star_sha,m.lat=m.declination,m.lon=-m.gha;let D=Date.UTC(E.date.y,E.date.m,E.date.d,E.time.h,E.time.m,E.time.s);s<D&&(s=D,i=m.aries_gha+m.gha_increment)}h.push(m)}for(let v=0;v<n.landmarks.length;v++){let m={};m.type="landmark";const b=n.landmarks[v];m.name=b.name,m.distance=b.distance,m.lat=b.lat,m.lon=b.lon,m.angle=90-b.distance/(go*an),h.push(m)}return{max_gha:i,worksheet:h}}function b8(n){const e=n.almanac,t=e.stars(),r=e.planets(),{max_gha:i,worksheet:s}=v8(n.data,e,t,r),l=p8(d8(s),s),o=u8(l);let u=2*go*um;return n.data.compare_location&&(u=iu(n.data.actual_location,o),o.distance_error=u),o.gha=i,{fix:o,worksheet:s,crooked_hat:l}}class y8 extends j7{constructor(e){super(e),this.type=xi}parse(e){const l=function(ae,$){switch(ae){case 1:throw new Error("THREE.RGBELoader: Read Error: "+($||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+($||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+($||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+($||""))}},h=`
`,f=function(ae,$,k){$=$||1024;let z=ae.pos,Q=-1,G=0,oe="",ce=String.fromCharCode.apply(null,new Uint16Array(ae.subarray(z,z+128)));for(;0>(Q=ce.indexOf(h))&&G<$&&z<ae.byteLength;)oe+=ce,G+=ce.length,z+=128,ce+=String.fromCharCode.apply(null,new Uint16Array(ae.subarray(z,z+128)));return-1<Q?(k!==!1&&(ae.pos+=G+Q+1),oe+ce.slice(0,Q)):!1},v=function(ae){const $=/^#\?(\S+)/,k=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,L=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,z=/^\s*FORMAT=(\S+)\s*$/,Q=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,G={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let oe,ce;for((ae.pos>=ae.byteLength||!(oe=f(ae)))&&l(1,"no header found"),(ce=oe.match($))||l(3,"bad initial token"),G.valid|=1,G.programtype=ce[1],G.string+=oe+`
`;oe=f(ae),oe!==!1;){if(G.string+=oe+`
`,oe.charAt(0)==="#"){G.comments+=oe+`
`;continue}if((ce=oe.match(k))&&(G.gamma=parseFloat(ce[1])),(ce=oe.match(L))&&(G.exposure=parseFloat(ce[1])),(ce=oe.match(z))&&(G.valid|=2,G.format=ce[1]),(ce=oe.match(Q))&&(G.valid|=4,G.height=parseInt(ce[1],10),G.width=parseInt(ce[2],10)),G.valid&2&&G.valid&4)break}return G.valid&2||l(3,"missing format specifier"),G.valid&4||l(3,"missing image size specifier"),G},m=function(ae,$,k){const L=$;if(L<8||L>32767||ae[0]!==2||ae[1]!==2||ae[2]&128)return new Uint8Array(ae);L!==(ae[2]<<8|ae[3])&&l(3,"wrong scanline width");const z=new Uint8Array(4*$*k);z.length||l(4,"unable to allocate buffer space");let Q=0,G=0;const oe=4*L,ce=new Uint8Array(4),be=new Uint8Array(oe);let Ne=k;for(;Ne>0&&G<ae.byteLength;){G+4>ae.byteLength&&l(1),ce[0]=ae[G++],ce[1]=ae[G++],ce[2]=ae[G++],ce[3]=ae[G++],(ce[0]!=2||ce[1]!=2||(ce[2]<<8|ce[3])!=L)&&l(3,"bad rgbe scanline format");let $e=0,Re;for(;$e<oe&&G<ae.byteLength;){Re=ae[G++];const we=Re>128;if(we&&(Re-=128),(Re===0||$e+Re>oe)&&l(3,"bad scanline data"),we){const He=ae[G++];for(let Je=0;Je<Re;Je++)be[$e++]=He}else be.set(ae.subarray(G,G+Re),$e),$e+=Re,G+=Re}const ge=L;for(let we=0;we<ge;we++){let He=0;z[Q]=be[we+He],He+=L,z[Q+1]=be[we+He],He+=L,z[Q+2]=be[we+He],He+=L,z[Q+3]=be[we+He],Q+=4}Ne--}return z},b=function(ae,$,k,L){const z=ae[$+3],Q=Math.pow(2,z-128)/255;k[L+0]=ae[$+0]*Q,k[L+1]=ae[$+1]*Q,k[L+2]=ae[$+2]*Q,k[L+3]=1},_=function(ae,$,k,L){const z=ae[$+3],Q=Math.pow(2,z-128)/255;k[L+0]=t0.toHalfFloat(Math.min(ae[$+0]*Q,65504)),k[L+1]=t0.toHalfFloat(Math.min(ae[$+1]*Q,65504)),k[L+2]=t0.toHalfFloat(Math.min(ae[$+2]*Q,65504)),k[L+3]=t0.toHalfFloat(1)},E=new Uint8Array(e);E.pos=0;const S=v(E),N=S.width,D=S.height,F=m(E.subarray(E.pos),N,D);let X,j,Y;switch(this.type){case Fr:Y=F.length/4;const ae=new Float32Array(Y*4);for(let k=0;k<Y;k++)b(F,k*4,ae,k*4);X=ae,j=Fr;break;case xi:Y=F.length/4;const $=new Uint16Array(Y*4);for(let k=0;k<Y;k++)_(F,k*4,$,k*4);X=$,j=xi;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:N,height:D,data:X,header:S.string,gamma:S.gamma,exposure:S.exposure,type:j}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(l,o){switch(l.type){case Fr:case xi:l.colorSpace=ni,l.minFilter=In,l.magFilter=In,l.generateMipmaps=!1,l.flipY=!0;break}t&&t(l,o)}return super.load(e,s,r,i)}}class x8 extends tr{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new St(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&t.element.parentNode!==null&&t.element.parentNode.removeChild(t.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const ra=new de,h1=new hn,d1=new hn,p1=new de,f1=new de;class w8{constructor(e={}){const t=this;let r,i,s,l;const o={objects:new WeakMap},u=e.element!==void 0?e.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:r,height:i}},this.render=function(m,b){m.matrixWorldAutoUpdate===!0&&m.updateMatrixWorld(),b.parent===null&&b.matrixWorldAutoUpdate===!0&&b.updateMatrixWorld(),h1.copy(b.matrixWorldInverse),d1.multiplyMatrices(b.projectionMatrix,h1),a(m,m,b),v(m)},this.setSize=function(m,b){r=m,i=b,s=r/2,l=i/2,u.style.width=m+"px",u.style.height=b+"px"};function a(m,b,_){if(m.isCSS2DObject){ra.setFromMatrixPosition(m.matrixWorld),ra.applyMatrix4(d1);const E=m.visible===!0&&ra.z>=-1&&ra.z<=1&&m.layers.test(_.layers)===!0;if(m.element.style.display=E===!0?"":"none",E===!0){m.onBeforeRender(t,b,_);const N=m.element;N.style.transform="translate("+-100*m.center.x+"%,"+-100*m.center.y+"%)translate("+(ra.x*s+s)+"px,"+(-ra.y*l+l)+"px)",N.parentNode!==u&&u.appendChild(N),m.onAfterRender(t,b,_)}const S={distanceToCameraSquared:h(_,m)};o.objects.set(m,S)}for(let E=0,S=m.children.length;E<S;E++)a(m.children[E],b,_)}function h(m,b){return p1.setFromMatrixPosition(m.matrixWorld),f1.setFromMatrixPosition(b.matrixWorld),p1.distanceToSquared(f1)}function f(m){const b=[];return m.traverse(function(_){_.isCSS2DObject&&b.push(_)}),b}function v(m){const b=f(m).sort(function(E,S){if(E.renderOrder!==S.renderOrder)return S.renderOrder-E.renderOrder;const N=o.objects.get(E).distanceToCameraSquared,D=o.objects.get(S).distanceToCameraSquared;return N-D}),_=b.length;for(let E=0,S=b.length;E<S;E++)b[E].element.style.zIndex=_-E}}}const vo=function(){const n=new q7;return function(e,t=!1){const r=n.load(e);return t===!1?r.colorSpace=Tn:r.colorSpace=t,r}}(),y0=[16742263,11206502,15658615,13386956,170,14518357,11206638,35071,52309,8912896,6702080],{PI:Uu,sin:hm,cos:dm}=Math,_8=2*Uu,S8=1e-4,kr=go*S8/1e3,eo=7e4,m1=new de(0,0,0),ur=new D7,ws=[],M8=new I7(0,0,kr,kr,0,_8,!1,0).getPoints(128).map(n=>[n.x,n.y,0]).flat(2),pm=new mo({color:11206638,linewidth:1}),fm=new mo({color:16755438,linewidth:2});pm.resolution.set(window.innerWidth,window.innerHeight);fm.resolution.set(window.innerWidth,window.innerHeight);function mm(n,e){const t=new Ou;t.setPositions(M8);const r=new cm(t,e!=0?pm:fm);if(r.computeLineDistances(),n){r.rotateX(Uu/2);const i=dm(e*an);r.scale.set(i,i,i),r.position.y=hm(e*an)*kr}else{r.rotateY(e*an);const i=1.001;r.scale.set(i,i,i)}return r}function Ac(n,e,t){const r=new mo({color:t,linewidth:3});r.resolution.set(window.innerWidth,window.innerHeight);const i=new Ou;i.setPositions([n.x,n.y,n.z,e.x,e.y,e.z]);const s=new cm(i,r);return s.computeLineDistances(),s}const Bu=new xr(new po(kr,128,128,0),new am({map:vo("textures/earth.png"),transparent:!1,opacity:1,alphaTest:.5,side:Ar}));Bu.layers.enableAll();const gm=new y8().load("textures/test.hdr",()=>gm.mapping=D0),to=vo("textures/normal.jpg",yr);to.wrapS=to.wrapT=z0;to.repeat.set(1,1);const vm=new B7({map:vo("textures/water.png"),transparent:!0,opacity:.666,transmission:1,thickness:0,roughness:.5,envMap:gm,envMapIntensity:1.5,ior:1.2,normalScale:new St(1.5),normalMap:to,clearcoat:.15,clearcoatRoughness:.15,clearcoatNormalMap:to,clearcoatNormalScale:new St(.4),side:Ar}),E8=new xr(new po(kr,128,128,0),vm),T8=vo("textures/starmap_2020_8k.png"),bm=vo("textures/constellations_2020_8k.png"),Fu=new xr(new po(eo,128,128,-Uu),new el({map:bm,side:Qn,transparent:!1,opacity:1})),bo=new Ha;for(let n=0;n<180;n+=10)bo.add(mm(!1,n));for(let n=-80;n<90;n+=10)bo.add(mm(!0,n));bo.visible=!1;ur.add(Fu);ur.add(E8);Bu.add(bo);ur.add(Bu);const ym=new K7(16777215,10,1e3,1);ym.position.x=10;ur.add(ym);ur.add(new Z7(16777215,2));function xm(){ws.forEach(n=>ur.remove(n)),ws.splice(0)}function x0(n,e=!1){const t=Xa(e===!1?kr:e,H0(n));return new de(t.x,t.z,-t.y)}function g1(n,e){const t=document.createElement("div");t.className="starlabel",t.textContent=e,t.style.backgroundColor="transparent";const r=new x8(t);r.position.copy(n),r.layers.set(1),ur.add(r),ws.push(r)}function A8(n,e){xm(),Fu.rotation.y=-n.gha*an;const t=x0(n),r=x0(n,1.1*kr),i=Ac(m1,r,y0[5]);ur.add(i),ws.push(i),g1(t,"observer"),e.forEach((s,l)=>{const o=s.type=="landmark",u=x0(s,o?1.1*kr:eo),a=Ac(m1,u,y0[l]);if(ur.add(a),ws.push(a),!o){const _=Ac(t,u,y0[l]);ur.add(_),ws.push(_)}g1(x0(s,kr),s.name);const h=kr*dm(s.angle*an),f=new Nu(h,h,0,360,1,!0),v=new el({color:y0[l],side:Ar,transparent:!0,opacity:.8,depthWrite:!1,wireframe:!0,wireframeLinewidth:4}),m=new xr(f,v);let b=hm(s.angle*an);o?b/=1.1:b*=kr/eo,m.position.x=b*u.x,m.position.y=b*u.y,m.position.z=b*u.z,m.rotation.z=(-90+s.lat)*an,m.rotation.y=s.lon*an,ur.add(m),ws.push(m)})}function k8(){const n=window.app_state,e=new vr(45,window.innerWidth/window.innerHeight,.1,5*eo);e.position.set(7,7,7),ur.add(e),e.updateProjectionMatrix(),e.layers.enableAll();const t=new sm({canvas:document.querySelector("#canvas"),logarithmicDepthBuffer:!0,outputColorSpace:Tn,antialias:!0,autoClear:!1});t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),t.setClearColor(0,0);const r=new w8;r.setSize(window.innerWidth,window.innerHeight),r.domElement.style.position="absolute",r.domElement.style.top="0px",r.domElement.style.left="0px",document.body.appendChild(r.domElement);const i=new t8(e,r.domElement);i.enablePan=!1,i.minDistance=kr*1.5,i.maxDistance=eo*3,window.addEventListener("resize",function(){const l=window.innerWidth,o=window.innerHeight;e.aspect=l/o,e.updateProjectionMatrix(),t.setSize(l,o),r.setSize(l,o)}),n.water=vm,n.skymap=Fu,n.constellations={a:bm,b:T8},n.latlon_lines=bo,n.draw_fix=A8,n.toggle_labels=function(){e.layers.toggle(1)};function s(){i.update(),t.render(ur,e),r.render(ur,e),requestAnimationFrame(s)}requestAnimationFrame(s)}const ia=function(){let n=Number.MIN_SAFE_INTEGER;return function(){return Number.MAX_SAFE_INTEGER-1<=n&&(n=Number.MIN_SAFE_INTEGER),n+=1,n}}();function un(n){return typeof n=="string"?document.getElementById(n):n}function Gn(n,e="value"){return un(n).getAttribute(e)}function Vt(n,e,t){const r=un(n);return t===!1?r.removeAttribute(e):r.setAttribute(e,t),r}function Zn(n,e=[]){const t=document.createElement(n);for(let r=0;r<e.length;r+=2)Vt(t,e[r],e[r+1]);return t}function wm(n){return e=>(n(e),!1)}function Kn(n,e,t){const r=un(n);return r.addEventListener(e,wm(t)),r}function C8(n){return function(e){["Enter","NumpadEnter"].includes(e.code)&&n(e)}}function vs(n,e,t){const r=Kn(n,e,t);return Kn(r,"keyup",C8(t)),r}function _m(n){return`${n.y}-${n.m<10?"0":""}${n.m}-${n.d<10?"0":""}${n.d}`}function Sm(n){let e=n<0?-1:1,t=Math.abs(n);for(;360<t;)t-=360;let r=Math.floor(t);const i=60*(t-r);let s=Math.floor(i),l=Math.round(100*(60*(i-s)))/100;return 60<=l&&(l-=60,s+=1),60<=s&&(s-=60,r+=1),{sign:e,degree:r,minute:s,second:l}}function no(n){const{sign:e,degree:t,minute:r,second:i}=Sm(n);return`${e<0?"-":""}${t}° ${r}' ${i}"`}function R8(n){return`${n.h} : ${n.m} : ${n.s}`}const $8=["January","February","March","April","May","June","July","August","September","October","November","December"],Hu=["Sun","Moon","Sun LL","Moon LL","Sun UL","Moon UL","Venus","Mars"],ki=n=>{let e=Math.abs(n),t=Math.floor(e),r=parseFloat(((e-t)*60).toFixed(2));return 60<=Math.floor(r)&&(r-=60,t+=1),`${n<0?"-":""}${360<=t?t-360:t}° ${r.toFixed(2)}'`},Mm=(n="default")=>e=>{const{sign:t,degree:r,minute:i,second:s}=Sm(e);let l="";n!="lat"&&n!="lon"&&(l=t<0?"-":n=="sign"?"+":"");let o="";return n=="lat"&&(o=t<0?"S":"N"),n=="lon"&&(o=t<0?"W":"E"),`${l}${r<100?r<10?"  ":" ":""}${r}° ${i<10?"0":""}${i}' ${s<10?"0":""}${s}" ${o}`},w0=Mm("lat"),_0=Mm("lon"),Em=(n,e,t)=>`${n.y}-${n.m<10?"0":""}${n.m}-${n.d<10?"0":""}${n.d} ${e.h<10?"0":""}${e.h}:${e.m<10?"0":""}${e.m}:${e.s<10?"0":""}${e.s} GMT${-1<t?"+":""}${t}`,dr=(n,e=["landmark"])=>t=>e.includes(t.type)?"":n(t),P8=dr(n=>Em(n.watch_time.date,n.watch_time.time,n.timezone)),L8=dr(n=>Em(n.datetime_utc.date,n.datetime_utc.time,0)),D8=dr(n=>ki(n.gha_integral),["landmark","star"]),z8=dr(n=>ki(n.gha_increment)),N8=dr(n=>ki(n.gha)),O8=dr(n=>ki(n.declination)),I8=dr(n=>ki(n.sextant_altitude)),U8=dr(n=>n.v_factor.toFixed(2),["landmark","star"]),B8=dr(n=>n.v_correction.toFixed(2)+"'",["landmark","star"]),F8=dr(n=>n.d_factor.toFixed(2),["landmark","star"]),H8=dr(n=>n.d_correction.toFixed(2)+"'",["landmark","star"]),G8=n=>`${(n*60).toFixed(2)}' OFF the arc`,V8=dr(n=>(n.dip_correction*60).toFixed(2)+"'"),W8=dr(n=>n.refraction_factor.toFixed(3)),j8=dr(n=>(n.refraction_correction*60).toFixed(2)+"'"),q8=n=>n.type==="star"?ki(n.aries_gha):"",X8=n=>n.type==="star"?ki(n.star_sha):"",Y8=n=>n.type==="landmark"?(n.distance/1e3).toFixed(3)+" km":"",K8=n=>n.type==="Sun"||n.type==="Moon"?n.limb==="LL"?"Lower":"Upper":"",Z8=n=>n.type==="Sun"||n.type==="Moon"?n.semidiameter.toFixed(2)+"'":"",J8=n=>Hu.includes(n.name)?n.hp.toFixed(2):"",Q8=n=>Hu.includes(n.name)?n.parallax.toFixed(2)+"'":"";function ey(n,e){const t=document.getElementById(n);for(;t.firstChild;)t.removeChild(t.lastChild);return function(r,i,s=!1){const l=document.createElement("kor-table-row");function o(u=!1){const a=document.createElement("kor-table-cell");a.setAttribute("grid-cols","6"),u&&a.append(u),l.append(a)}o(r),typeof i=="function"?e.map(i).forEach(u=>o(u)):o(i),s&&o(s),t.append(l)}}function ty(n,e){return function(t,r,i=!1){typeof r=="function"?n.push(e.map(r).reduce((s,l)=>s+"|"+l,t)):n.push(t+"|"+r+(i?"|"+i:""))}}function Tm({data:n,worksheet:e,fix:t},r,i=!1){const s=e.map(m=>m.type),l=s.includes("landmark"),o=s.includes("planet")||s.includes("Moon"),u=s.includes("planet")||s.includes("Moon")||s.includes("Sun"),a=s.includes("star"),h=0<s.filter(m=>m!="star"&&m!="landmark").length,f=s.includes("Moon")||s.includes("Sun"),v=0<e.map(m=>m.name).filter(m=>Hu.includes(m)).length;r("Date",`${n.date.y} ${$8[n.date.m-1]} ${n.date.d}`),r("Time Zone",`GMT${-1<n.timezone?"+":""}${n.timezone}`),r("Watch Error",`${n.watch_error.toFixed(0)} seconds behind`),r("Observation Method",n.method),r("Eye Height",`${n.observer_height_meter.toFixed(2)} meter`),r("Index Error",G8(n.index_error)),r("Temperature",`${n.temperature_celsius.toFixed(2)} °C`),r("Pressure",`${n.pressure_mbar.toFixed(2)} mbar`),r("Ded. Reckoning",w0(n.dr_lat),_0(n.dr_lon)),r("Heading",ki(n.heading)),r("Speed",`${n.speed_knots.toFixed(3)} knots`),r("Observed Target",m=>m.name),r("Watch Time",P8),r("UTC Time",L8),r("Sextant Altitude",I8),r("Dip Correction",V8),r("Refraction Coefficient",W8),r("Refraction Correction",j8),f&&r("Observed Limb",K8),f&&r("Semidiameter",Z8),v&&r("HP",J8),v&&r("Parallax Correction",Q8),h&&r("GHA whole hour",D8),a&&r("Aries GHA",q8),r("GHA Increment",z8),a&&r("SHA",X8),o&&r("v",U8),o&&r("v correction",B8),r("GHA",N8),r("Declination",O8),u&&r("d",F8),u&&r("d correction",H8),l&&r("Distance",Y8),r("True Altitude",m=>ki(m.angle)),r("GP Latitude",m=>w0(m.lat)),r("GP Longitude",m=>_0(m.lon)),r("Location Fix",w0(t.lat),_0(t.lon)),n.compare_location&&(r("Actual Location",w0(n.actual_location.lat),_0(n.actual_location.lon)),r("Distance Error",`${(t.distance_error/1e3).toFixed(3)} km`)),i&&r("Google Maps",`https://maps.google.com/?q=${t.lat},${t.lon}`)}function ny(n,e){Tm(n,ey(e,n.worksheet),!1)}function ry(n){const e=[];return Tm(n,ty(e,n.worksheet),!0),e.join(`
`)}const{abs:kc}=Math;function sa(n,e,t){return n*1609.344+e*.3048+t*.0254}function $t(n,e,t){return(kc(n)+kc(e)/60+kc(t)/3600)*(n<0||e<0||t<0?-1:1)}const iy=[{date:{y:1982,m:7,d:18},timezone:-7,observer_height_meter:sa(0,9,0),heading:252,speed_knots:6.9,dr_lat:0,dr_lon:0,index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!0,actual_location:{lat:$t(25,15,0),lon:-$t(150,25.9,0)},method:"sextant",landmarks:[{name:"Hawaii",lat:20.937192,lon:-156.347435,distance:sa(1200,0,0)}],stars:[{name:"Vega",alt:$t(47,22.5,0),time:{h:22,m:37,s:30}},{name:"Alkaid",alt:$t(59,14,0),time:{h:22,m:40,s:14}}]},{date:{y:2022,m:3,d:28},timezone:-5,observer_height_meter:sa(0,1248.666,0),heading:0,speed_knots:0,dr_lat:0,dr_lon:0,index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,method:"cellphone",compare_location:!0,actual_location:{lat:$t(46,38,36.4),lon:-$t(93,22,31.6)},landmarks:[],stars:[{name:"Arcturus",alt:45.7,time:{h:0,m:22,s:33}},{name:"Polaris",alt:45.6,time:{h:0,m:21,s:45}},{name:"Procyon",alt:25.2,time:{h:0,m:19,s:51}}]},{date:{y:2018,m:11,d:15},timezone:0,observer_height_meter:2,heading:0,speed_knots:12,dr_lat:0,dr_lon:0,index_error:$t(0,.3,0),watch_error:0,temperature_celsius:12,pressure_mbar:975,compare_location:!1,actual_location:{lat:0,lon:0},method:"sextant",landmarks:[],stars:[{name:"Regulus",alt:$t(70,48.7,0),time:{h:8,m:28,s:15}},{name:"Arcturus",alt:$t(27,9,0),time:{h:8,m:30,s:30}},{name:"Dubhe",alt:$t(55,18.4,0),time:{h:8,m:32,s:15}}]},{date:{y:2022,m:7,d:14},timezone:0,observer_height_meter:32,heading:0,speed_knots:0,dr_lat:0,dr_lon:0,index_error:$t(0,2,0),watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!0,actual_location:{lat:-31.154076,lon:15.503133},method:"sextant",landmarks:[],stars:[{name:"Achernar",alt:$t(63,17.1,0),time:{h:5,m:48,s:12}},{name:"Betelgeuse",alt:$t(22,5,0),time:{h:5,m:30,s:42}},{name:"Canopus",alt:$t(38,56,0),time:{h:5,m:31,s:48}}]},{date:{y:2022,m:7,d:13},timezone:0,observer_height_meter:32,heading:0,speed_knots:0,dr_lat:0,dr_lon:0,index_error:$t(0,2,0),watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!0,actual_location:{lat:-32.965812,lon:-71.665188},method:"sextant",landmarks:[],stars:[{name:"Atria",alt:$t(16,2.1,0),time:{h:11,m:40,s:33}},{name:"Canopus",alt:$t(40,8.4,0),time:{h:11,m:23,s:3}},{name:"Rigel",alt:$t(39,18,0),time:{h:11,m:24,s:9}}]},{date:{y:2003,m:3,d:17},timezone:3,observer_height_meter:sa(0,9,0),heading:327,speed_knots:13.6,dr_lat:0,dr_lon:0,index_error:$t(0,-2,0),watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!1,actual_location:{lat:0,lon:0},method:"sextant",landmarks:[],stars:[{name:"Regulus",alt:$t(33,58.2,0),time:{h:19,m:8,s:15}},{name:"Capella",alt:$t(63,45,0),time:{h:19,m:14,s:41}},{name:"Aldebaran",alt:$t(63,53.5,0),time:{h:19,m:16,s:31}}]},{date:{y:2022,m:10,d:1},timezone:0,observer_height_meter:sa(0,9,0),heading:0,speed_knots:0,dr_lat:0,dr_lon:0,index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!0,actual_location:{lat:$t(42,46.9,0),lon:-$t(87,45.5,0)},method:"sextant",landmarks:[],stars:[{name:"Schedar",alt:$t(39,36.2,0),time:{h:0,m:33,s:24}},{name:"Altair",alt:$t(55,33.8,0),time:{h:0,m:34,s:49}},{name:"Saturn",alt:$t(24,7,0),time:{h:0,m:32,s:2}}]},{date:{y:1982,m:7,d:16},timezone:-7,observer_height_meter:sa(0,9,0),heading:0,speed_knots:0,dr_lat:$t(28,33,0),dr_lon:-$t(142,41,0),index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!0,actual_location:{lat:$t(28,32,0),lon:-$t(142,39.6,0)},method:"sextant",landmarks:[],stars:[{name:"Deneb",alt:$t(47,23,0),time:{h:6,m:55,s:50}},{name:"Venus",alt:$t(15,56,0),time:{h:6,m:58,s:30}},{name:"Moon LL",alt:$t(42,6.8,0),time:{h:7,m:14,s:25}}]},{date:{y:2023,m:11,d:17},timezone:0,observer_height_meter:0,heading:0,speed_knots:0,dr_lat:0,dr_lon:0,index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!0,actual_location:{lat:$t(39,42,41.103334),lon:-$t(77,44,27.12836)},method:"sextant",landmarks:[],stars:[{name:"Rigel",alt:$t(13,.1,0),time:{h:2,m:20,s:42.4}},{name:"Vega",alt:$t(15,33.9,0),time:{h:2,m:56,s:18.6}},{name:"Fomalhaut",alt:$t(12,59,0),time:{h:2,m:52,s:20.7}}]},{date:{y:2022,m:10,d:1},timezone:0,observer_height_meter:0,heading:0,speed_knots:0,dr_lat:0,dr_lon:0,index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!0,actual_location:{lat:$t(42,46.9,0),lon:-$t(87,45.5,0)},method:"sextant",landmarks:[{name:"Sidney",lat:-33.998052,lon:151.231874,distance:6e6},{name:"Honolulu",lat:21.297285,lon:-157.870613,distance:4e6},{name:"Tokyo",lat:35.593691,lon:139.839415,distance:3e6}],stars:[]}];var Am={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t():e.nearley=t()})($1,function(){function e(a,h,f){return this.id=++e.highestId,this.name=a,this.symbols=h,this.postprocess=f,this}e.highestId=0,e.prototype.toString=function(a){var h=typeof a>"u"?this.symbols.map(u).join(" "):this.symbols.slice(0,a).map(u).join(" ")+" ● "+this.symbols.slice(a).map(u).join(" ");return this.name+" → "+h};function t(a,h,f,v){this.rule=a,this.dot=h,this.reference=f,this.data=[],this.wantedBy=v,this.isComplete=this.dot===a.symbols.length}t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(a){var h=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return h.left=this,h.right=a,h.isComplete&&(h.data=h.build(),h.right=void 0),h},t.prototype.build=function(){var a=[],h=this;do a.push(h.right.data),h=h.left;while(h.left);return a.reverse(),a},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,l.fail))};function r(a,h){this.grammar=a,this.index=h,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(a){for(var h=this.states,f=this.wants,v=this.completed,m=0;m<h.length;m++){var b=h[m];if(b.isComplete){if(b.finish(),b.data!==l.fail){for(var _=b.wantedBy,E=_.length;E--;){var S=_[E];this.complete(S,b)}if(b.reference===this.index){var N=b.rule.name;(this.completed[N]=this.completed[N]||[]).push(b)}}}else{var N=b.rule.symbols[b.dot];if(typeof N!="string"){this.scannable.push(b);continue}if(f[N]){if(f[N].push(b),v.hasOwnProperty(N))for(var D=v[N],E=0;E<D.length;E++){var F=D[E];this.complete(b,F)}}else f[N]=[b],this.predict(N)}}},r.prototype.predict=function(a){for(var h=this.grammar.byName[a]||[],f=0;f<h.length;f++){var v=h[f],m=this.wants[a],b=new t(v,0,this.index,m);this.states.push(b)}},r.prototype.complete=function(a,h){var f=a.nextState(h);this.states.push(f)};function i(a,h){this.rules=a,this.start=h||this.rules[0].name;var f=this.byName={};this.rules.forEach(function(v){f.hasOwnProperty(v.name)||(f[v.name]=[]),f[v.name].push(v)})}i.fromCompiled=function(v,h){var f=v.Lexer;v.ParserStart&&(h=v.ParserStart,v=v.ParserRules);var v=v.map(function(b){return new e(b.name,b.symbols,b.postprocess)}),m=new i(v,h);return m.lexer=f,m};function s(){this.reset("")}s.prototype.reset=function(a,h){this.buffer=a,this.index=0,this.line=h?h.line:1,this.lastLineBreak=h?-h.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var a=this.buffer[this.index++];return a===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:a}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(a,h){var f=this.buffer;if(typeof f=="string"){var v=f.split(`
`).slice(Math.max(0,this.line-5),this.line),m=f.indexOf(`
`,this.index);m===-1&&(m=f.length);var b=this.index-this.lastLineBreak,_=String(this.line).length;return h+=" at line "+this.line+" col "+b+`:

`,h+=v.map(function(S,N){return E(this.line-v.length+N+1,_)+" "+S},this).join(`
`),h+=`
`+E("",_+b)+`^
`,h}else return h+" at index "+(this.index-1);function E(S,N){var D=String(S);return Array(N-D.length+1).join(" ")+D}};function l(a,h,f){if(a instanceof i)var v=a,f=h;else var v=i.fromCompiled(a,h);this.grammar=v,this.options={keepHistory:!1,lexer:v.lexer||new s};for(var m in f||{})this.options[m]=f[m];this.lexer=this.options.lexer,this.lexerState=void 0;var b=new r(v,0);this.table=[b],b.wants[v.start]=[],b.predict(v.start),b.process(),this.current=0}l.fail={},l.prototype.feed=function(a){var h=this.lexer;h.reset(a,this.lexerState);for(var f;;){try{if(f=h.next(),!f)break}catch(Y){var _=new r(this.grammar,this.current+1);this.table.push(_);var v=new Error(this.reportLexerError(Y));throw v.offset=this.current,v.token=Y.token,v}var m=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var b=this.current+1,_=new r(this.grammar,b);this.table.push(_);for(var E=f.text!==void 0?f.text:f.value,S=h.constructor===s?f.value:f,N=m.scannable,D=N.length;D--;){var F=N[D],X=F.rule.symbols[F.dot];if(X.test?X.test(S):X.type?X.type===f.type:X.literal===E){var j=F.nextState({data:S,token:f,isToken:!0,reference:b-1});_.states.push(j)}}if(_.process(),_.states.length===0){var v=new Error(this.reportError(f));throw v.offset=this.current,v.token=f,v}this.options.keepHistory&&(m.lexerState=h.save()),this.current++}return m&&(this.lexerState=h.save()),this.results=this.finish(),this},l.prototype.reportLexerError=function(a){var h,f,v=a.token;return v?(h="input "+JSON.stringify(v.text[0])+" (lexer error)",f=this.lexer.formatError(v,"Syntax error")):(h="input (lexer error)",f=a.message),this.reportErrorCommon(f,h)},l.prototype.reportError=function(a){var h=(a.type?a.type+" token: ":"")+JSON.stringify(a.value!==void 0?a.value:a),f=this.lexer.formatError(a,"Syntax error");return this.reportErrorCommon(f,h)},l.prototype.reportErrorCommon=function(a,h){var f=[];f.push(a);var v=this.table.length-2,m=this.table[v],b=m.states.filter(function(E){var S=E.rule.symbols[E.dot];return S&&typeof S!="string"});if(b.length===0)f.push("Unexpected "+h+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(m.states,f);else{f.push("Unexpected "+h+`. Instead, I was expecting to see one of the following:
`);var _=b.map(function(E){return this.buildFirstStateStack(E,[])||[E]},this);_.forEach(function(E){var S=E[0],N=S.rule.symbols[S.dot],D=this.getSymbolDisplay(N);f.push("A "+D+" based on:"),this.displayStateStack(E,f)},this)}return f.push(""),f.join(`
`)},l.prototype.displayStateStack=function(a,h){for(var f,v=0,m=0;m<a.length;m++){var b=a[m],_=b.rule.toString(b.dot);_===f?v++:(v>0&&h.push("    ^ "+v+" more lines identical to this"),v=0,h.push("    "+_)),f=_}},l.prototype.getSymbolDisplay=function(a){return o(a)},l.prototype.buildFirstStateStack=function(a,h){if(h.indexOf(a)!==-1)return null;if(a.wantedBy.length===0)return[a];var f=a.wantedBy[0],v=[a].concat(h),m=this.buildFirstStateStack(f,v);return m===null?null:[a].concat(m)},l.prototype.save=function(){var a=this.table[this.current];return a.lexerState=this.lexerState,a},l.prototype.restore=function(a){var h=a.index;this.current=h,this.table[h]=a,this.table.splice(h+1),this.lexerState=a.lexerState,this.results=this.finish()},l.prototype.rewind=function(a){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[a])},l.prototype.finish=function(){var a=[],h=this.grammar.start,f=this.table[this.table.length-1];return f.states.forEach(function(v){v.rule.name===h&&v.dot===v.rule.symbols.length&&v.reference===0&&v.data!==l.fail&&a.push(v)}),a.map(function(v){return v.data})};function o(a){var h=typeof a;if(h==="string")return a;if(h==="object"){if(a.literal)return JSON.stringify(a.literal);if(a instanceof RegExp)return"character matching "+a;if(a.type)return a.type+" token";if(a.test)return"token matching "+String(a.test);throw new Error("Unknown symbol type: "+a)}}function u(a){var h=typeof a;if(h==="string")return a;if(h==="object"){if(a.literal)return JSON.stringify(a.literal);if(a instanceof RegExp)return a.toString();if(a.type)return"%"+a.type;if(a.test)return"<"+String(a.test)+">";throw new Error("Unknown symbol type: "+a)}}return{Parser:l,Grammar:i,Rule:e}})})(Am);var sy=Am.exports;const v1=v4(sy);function dt(n){return n[0]}let ay,oy=[{name:"observation$ebnf$1",symbols:[]},{name:"observation$ebnf$1",symbols:["observation$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"observation$ebnf$2",symbols:["break"]},{name:"observation$ebnf$2",symbols:["observation$ebnf$2","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"observation$ebnf$3",symbols:[]},{name:"observation$ebnf$3$subexpression$1$ebnf$1",symbols:["break"]},{name:"observation$ebnf$3$subexpression$1$ebnf$1",symbols:["observation$ebnf$3$subexpression$1$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"observation$ebnf$3$subexpression$1",symbols:["optional","observation$ebnf$3$subexpression$1$ebnf$1"]},{name:"observation$ebnf$3",symbols:["observation$ebnf$3","observation$ebnf$3$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"observation$ebnf$4",symbols:[]},{name:"observation$ebnf$4",symbols:["observation$ebnf$4","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"observation",symbols:["observation$ebnf$1","required","observation$ebnf$2","observation$ebnf$3","sights","observation$ebnf$4"],postprocess:n=>n[1].concat(n[3].map(e=>e[0][0])).concat(n[4])},{name:"required$ebnf$1",symbols:["break"]},{name:"required$ebnf$1",symbols:["required$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"required",symbols:["date","required$ebnf$1","height"],postprocess:n=>[n[0],n[2]]},{name:"required$ebnf$2",symbols:["break"]},{name:"required$ebnf$2",symbols:["required$ebnf$2","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"required",symbols:["height","required$ebnf$2","date"],postprocess:n=>[n[2],n[0]]},{name:"optional",symbols:["zone"]},{name:"optional",symbols:["method"]},{name:"optional",symbols:["index_error"]},{name:"optional",symbols:["watch_error"]},{name:"optional",symbols:["refraction"]},{name:"optional",symbols:["compare"]},{name:"optional",symbols:["ded_reckoning"]},{name:"optional",symbols:["heading"]},{name:"optional",symbols:["speed"]},{name:"date$subexpression$1",symbols:[/[dD]/,/[aA]/,/[tT]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"date$ebnf$1",symbols:["sep"]},{name:"date$ebnf$1",symbols:["date$ebnf$1","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"date$ebnf$2",symbols:["sep"]},{name:"date$ebnf$2",symbols:["date$ebnf$2","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"date",symbols:["_","date$subexpression$1","_",{literal:":"},"_","int","date$ebnf$1","int","date$ebnf$2","int"],postprocess:n=>({date:{y:n[5],m:n[7],d:n[9]}})},{name:"height",symbols:["_","obsheight","_",{literal:":"},"_","float","_","meter"],postprocess:n=>({height:n[5]})},{name:"zone$ebnf$1$subexpression$1",symbols:[/[tT]/,/[iI]/,/[mM]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"zone$ebnf$1",symbols:["zone$ebnf$1$subexpression$1"],postprocess:dt},{name:"zone$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"zone$subexpression$1",symbols:[/[zZ]/,/[oO]/,/[nN]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"zone",symbols:["_","zone$ebnf$1","zone$subexpression$1","_",{literal:":"},"tzone"],postprocess:n=>({zone:n[5]})},{name:"tzone$ebnf$1",symbols:["utc"],postprocess:dt},{name:"tzone$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"tzone$subexpression$1",symbols:[{literal:"+"}]},{name:"tzone$subexpression$1",symbols:[{literal:"-"}]},{name:"tzone",symbols:["_","tzone$ebnf$1","tzone$subexpression$1","zoffset"],postprocess:n=>parseInt(`${n[2]}${n[3]}`,10)},{name:"zoffset",symbols:[{literal:"1"},/[0-2]/],postprocess:([n,e])=>`${n}${e}`},{name:"zoffset$ebnf$1",symbols:[{literal:"0"}],postprocess:dt},{name:"zoffset$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"zoffset",symbols:["zoffset$ebnf$1",/[0-9]/],postprocess:([n,e])=>`${e}`},{name:"method$subexpression$1",symbols:[/[mM]/,/[eE]/,/[tT]/,/[hH]/,/[oO]/,/[dD]/],postprocess:function(n){return n.join("")}},{name:"method",symbols:["_","method$subexpression$1","_",{literal:":"},"_","methodtype"],postprocess:n=>({method:n[5][0]})},{name:"index_error$ebnf$1$subexpression$1",symbols:[{literal:"+"}]},{name:"index_error$ebnf$1$subexpression$1",symbols:[{literal:"-"}]},{name:"index_error$ebnf$1",symbols:["index_error$ebnf$1$subexpression$1"],postprocess:dt},{name:"index_error$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"index_error$ebnf$2",symbols:[]},{name:"index_error$ebnf$2",symbols:["index_error$ebnf$2","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"index_error",symbols:["_","ie","_",{literal:":"},"_","index_error$ebnf$1","decminsec","index_error$ebnf$2"],postprocess:n=>({index:n[6]*(n[5]=="-"?-1:1)})},{name:"watch_error$ebnf$1",symbols:[]},{name:"watch_error$ebnf$1",symbols:["watch_error$ebnf$1","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"watch_error",symbols:["_","we","_",{literal:":"},"_","decminsec","watch_error$ebnf$1"],postprocess:n=>({watch:n[5]})},{name:"refraction$subexpression$1",symbols:[/[rR]/,/[eE]/,/[fF]/,/[rR]/,/[aA]/,/[cC]/,/[tT]/,/[iI]/,/[oO]/,/[nN]/],postprocess:function(n){return n.join("")}},{name:"refraction$subexpression$2",symbols:[/[sS]/,/[tT]/,/[aA]/,/[nN]/,/[dD]/,/[aA]/,/[rR]/,/[dD]/],postprocess:function(n){return n.join("")}},{name:"refraction",symbols:["_","refraction$subexpression$1","_",{literal:":"},"_","refraction$subexpression$2"],postprocess:n=>({temp:10,press:1010})},{name:"refraction$ebnf$1",symbols:["break"]},{name:"refraction$ebnf$1",symbols:["refraction$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"refraction",symbols:["temperature","refraction$ebnf$1","pressure"],postprocess:n=>({temp:n[0],press:n[2]})},{name:"refraction$ebnf$2",symbols:["break"]},{name:"refraction$ebnf$2",symbols:["refraction$ebnf$2","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"refraction",symbols:["pressure","refraction$ebnf$2","temperature"],postprocess:n=>({temp:n[2],press:n[0]})},{name:"temperature$subexpression$1",symbols:[/[tT]/,/[eE]/,/[mM]/,/[pP]/],postprocess:function(n){return n.join("")}},{name:"temperature$ebnf$1$subexpression$1",symbols:[/[eE]/,/[rR]/,/[aA]/,/[tT]/,/[uU]/,/[rR]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"temperature$ebnf$1",symbols:["temperature$ebnf$1$subexpression$1"],postprocess:dt},{name:"temperature$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"temperature",symbols:["_","temperature$subexpression$1","temperature$ebnf$1","_",{literal:":"},"_","float","_","celsius"],postprocess:n=>parseFloat(n[6])},{name:"pressure$subexpression$1",symbols:[/[pP]/,/[rR]/,/[eE]/,/[sS]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"pressure$ebnf$1$subexpression$1",symbols:[/[uU]/,/[rR]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"pressure$ebnf$1",symbols:["pressure$ebnf$1$subexpression$1"],postprocess:dt},{name:"pressure$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"pressure",symbols:["_","pressure$subexpression$1","pressure$ebnf$1","_",{literal:":"},"_","float","_","mbar"],postprocess:n=>parseFloat(n[6])},{name:"compare$subexpression$1",symbols:[/[cC]/,/[oO]/,/[mM]/,/[pP]/,/[aA]/,/[rR]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"compare",symbols:["_","compare$subexpression$1","_",{literal:":"},"_","lat","_",{literal:","},"_","lon"],postprocess:n=>({compare:[n[5],n[9]]})},{name:"compare$subexpression$2",symbols:[/[cC]/,/[oO]/,/[mM]/,/[pP]/,/[aA]/,/[rR]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"compare$ebnf$1",symbols:["break"]},{name:"compare$ebnf$1",symbols:["compare$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"compare",symbols:["_","compare$subexpression$2","_",{literal:":"},"compare$ebnf$1","latlon"],postprocess:n=>({compare:n[5]})},{name:"ded_reckoning",symbols:["_","dr","_",{literal:":"},"_","lat","_",{literal:","},"_","lon"],postprocess:n=>({dr:[n[5],n[9]]})},{name:"ded_reckoning$ebnf$1",symbols:["break"]},{name:"ded_reckoning$ebnf$1",symbols:["ded_reckoning$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"ded_reckoning",symbols:["_","dr","_",{literal:":"},"ded_reckoning$ebnf$1","latlon"],postprocess:n=>({dr:n[5]})},{name:"heading",symbols:["_","bearing","_",{literal:":"},"_","deg360"],postprocess:n=>({bear:n[5]})},{name:"speed$subexpression$1",symbols:[/[sS]/,/[pP]/,/[eE]/,/[eE]/,/[dD]/],postprocess:function(n){return n.join("")}},{name:"speed",symbols:["_","speed$subexpression$1","_",{literal:":"},"_","float","_","knot"],postprocess:n=>({speed:n[5]})},{name:"sights$ebnf$1",symbols:["break"]},{name:"sights$ebnf$1",symbols:["sights$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights$ebnf$2",symbols:["break"]},{name:"sights$ebnf$2",symbols:["sights$ebnf$2","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights",symbols:["sight","sights$ebnf$1","sight","sights$ebnf$2","sight"],postprocess:n=>[n[0],n[2],n[4]]},{name:"sights$ebnf$3",symbols:["break"]},{name:"sights$ebnf$3",symbols:["sights$ebnf$3","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights$ebnf$4",symbols:["break"]},{name:"sights$ebnf$4",symbols:["sights$ebnf$4","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights",symbols:["sight","sights$ebnf$3","sight","sights$ebnf$4","landmark"],postprocess:n=>[n[0],n[2],n[4]]},{name:"sights$ebnf$5",symbols:["break"]},{name:"sights$ebnf$5",symbols:["sights$ebnf$5","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights$ebnf$6",symbols:["break"]},{name:"sights$ebnf$6",symbols:["sights$ebnf$6","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights",symbols:["sight","sights$ebnf$5","landmark","sights$ebnf$6","sight"],postprocess:n=>[n[0],n[4],n[2]]},{name:"sights$ebnf$7",symbols:["break"]},{name:"sights$ebnf$7",symbols:["sights$ebnf$7","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights$ebnf$8",symbols:["break"]},{name:"sights$ebnf$8",symbols:["sights$ebnf$8","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sights",symbols:["landmark","sights$ebnf$7","sight","sights$ebnf$8","sight"],postprocess:n=>[n[2],n[4],n[0]]},{name:"sight$ebnf$1",symbols:["break"]},{name:"sight$ebnf$1",symbols:["sight$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sight$ebnf$2",symbols:["break"]},{name:"sight$ebnf$2",symbols:["sight$ebnf$2","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sight",symbols:["star","sight$ebnf$1","time","sight$ebnf$2","angle"],postprocess:n=>({star:n[0],time:n[2],angle:n[4]})},{name:"sight$ebnf$3",symbols:["break"]},{name:"sight$ebnf$3",symbols:["sight$ebnf$3","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sight$ebnf$4",symbols:["break"]},{name:"sight$ebnf$4",symbols:["sight$ebnf$4","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sight",symbols:["star","sight$ebnf$3","angle","sight$ebnf$4","time"],postprocess:n=>({star:n[0],time:n[4],angle:n[2]})},{name:"landmark$ebnf$1",symbols:["break"]},{name:"landmark$ebnf$1",symbols:["landmark$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$2",symbols:["break"]},{name:"landmark$ebnf$2",symbols:["landmark$ebnf$2","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$3",symbols:["break"]},{name:"landmark$ebnf$3",symbols:["landmark$ebnf$3","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark",symbols:["markname","landmark$ebnf$1","latitude","landmark$ebnf$2","longitude","landmark$ebnf$3","distance"],postprocess:n=>({mark:n[0],lat:n[2].lat,lon:n[4].lon,dist:n[6]})},{name:"landmark$ebnf$4",symbols:["break"]},{name:"landmark$ebnf$4",symbols:["landmark$ebnf$4","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$5",symbols:["break"]},{name:"landmark$ebnf$5",symbols:["landmark$ebnf$5","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$6",symbols:["break"]},{name:"landmark$ebnf$6",symbols:["landmark$ebnf$6","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark",symbols:["markname","landmark$ebnf$4","longitude","landmark$ebnf$5","latitude","landmark$ebnf$6","distance"],postprocess:n=>({mark:n[0],lat:n[4].lat,lon:n[2].lon,dist:n[6]})},{name:"landmark$ebnf$7",symbols:["break"]},{name:"landmark$ebnf$7",symbols:["landmark$ebnf$7","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$8",symbols:["break"]},{name:"landmark$ebnf$8",symbols:["landmark$ebnf$8","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$9",symbols:["break"]},{name:"landmark$ebnf$9",symbols:["landmark$ebnf$9","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark",symbols:["markname","landmark$ebnf$7","distance","landmark$ebnf$8","latitude","landmark$ebnf$9","longitude"],postprocess:n=>({mark:n[0],lat:n[4].lat,lon:n[6].lon,dist:n[2]})},{name:"landmark$ebnf$10",symbols:["break"]},{name:"landmark$ebnf$10",symbols:["landmark$ebnf$10","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$11",symbols:["break"]},{name:"landmark$ebnf$11",symbols:["landmark$ebnf$11","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$12",symbols:["break"]},{name:"landmark$ebnf$12",symbols:["landmark$ebnf$12","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark",symbols:["markname","landmark$ebnf$10","distance","landmark$ebnf$11","longitude","landmark$ebnf$12","latitude"],postprocess:n=>({mark:n[0],lat:n[6].lat,lon:n[4].lon,dist:n[2]})},{name:"landmark$ebnf$13",symbols:["break"]},{name:"landmark$ebnf$13",symbols:["landmark$ebnf$13","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$14",symbols:["break"]},{name:"landmark$ebnf$14",symbols:["landmark$ebnf$14","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$15",symbols:["break"]},{name:"landmark$ebnf$15",symbols:["landmark$ebnf$15","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark",symbols:["markname","landmark$ebnf$13","latitude","landmark$ebnf$14","distance","landmark$ebnf$15","longitude"],postprocess:n=>({mark:n[0],lat:n[2].lat,lon:n[6].lon,dist:n[4]})},{name:"landmark$ebnf$16",symbols:["break"]},{name:"landmark$ebnf$16",symbols:["landmark$ebnf$16","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$17",symbols:["break"]},{name:"landmark$ebnf$17",symbols:["landmark$ebnf$17","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark$ebnf$18",symbols:["break"]},{name:"landmark$ebnf$18",symbols:["landmark$ebnf$18","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"landmark",symbols:["markname","landmark$ebnf$16","longitude","landmark$ebnf$17","distance","landmark$ebnf$18","latitude"],postprocess:n=>({mark:n[0],lat:n[6].lat,lon:n[2].lon,dist:n[4]})},{name:"star",symbols:["_","object","_",{literal:":"},"_","word"],postprocess:n=>n[5]},{name:"time$subexpression$1",symbols:[/[tT]/,/[iI]/,/[mM]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"time",symbols:["_","time$subexpression$1","_",{literal:":"},"_","hhmmss"],postprocess:n=>n[5]},{name:"angle$ebnf$1$subexpression$1",symbols:[{literal:"+"}]},{name:"angle$ebnf$1$subexpression$1",symbols:[{literal:"-"}]},{name:"angle$ebnf$1",symbols:["angle$ebnf$1$subexpression$1"],postprocess:dt},{name:"angle$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"angle",symbols:["_","alt","_",{literal:":"},"_","angle$ebnf$1","deg90"],postprocess:n=>({sign:n[5]=="-"?-1:1,deg:n[6]})},{name:"markname$ebnf$1$subexpression$1",symbols:[/[lL]/,/[aA]/,/[nN]/,/[dD]/],postprocess:function(n){return n.join("")}},{name:"markname$ebnf$1",symbols:["markname$ebnf$1$subexpression$1"],postprocess:dt},{name:"markname$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"markname$subexpression$1",symbols:[/[mM]/,/[aA]/,/[rR]/,/[kK]/],postprocess:function(n){return n.join("")}},{name:"markname",symbols:["_","markname$ebnf$1","markname$subexpression$1","_",{literal:":"},"_","word"],postprocess:n=>n[6]},{name:"distance$subexpression$1",symbols:[/[dD]/,/[iI]/,/[sS]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"distance$ebnf$1$subexpression$1",symbols:[/[aA]/,/[nN]/,/[cC]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"distance$ebnf$1",symbols:["distance$ebnf$1$subexpression$1"],postprocess:dt},{name:"distance$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"distance",symbols:["_","distance$subexpression$1","distance$ebnf$1","_",{literal:":"},"_","float","_","km"],postprocess:n=>n[6]},{name:"latlon$ebnf$1",symbols:["break"]},{name:"latlon$ebnf$1",symbols:["latlon$ebnf$1","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"latlon",symbols:["latitude","latlon$ebnf$1","longitude"],postprocess:n=>[n[0],n[2]]},{name:"latlon$ebnf$2",symbols:["break"]},{name:"latlon$ebnf$2",symbols:["latlon$ebnf$2","break"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"latlon",symbols:["longitude","latlon$ebnf$2","latitude"],postprocess:n=>[n[2],n[0]]},{name:"latitude$subexpression$1",symbols:[/[lL]/,/[aA]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"latitude$ebnf$1$subexpression$1",symbols:[/[iI]/,/[tT]/,/[uU]/,/[dD]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"latitude$ebnf$1",symbols:["latitude$ebnf$1$subexpression$1"],postprocess:dt},{name:"latitude$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"latitude",symbols:["_","latitude$subexpression$1","latitude$ebnf$1","_",{literal:":"},"_","lat"],postprocess:n=>n[6]},{name:"longitude$subexpression$1",symbols:[/[lL]/,/[oO]/,/[nN]/],postprocess:function(n){return n.join("")}},{name:"longitude$ebnf$1$subexpression$1",symbols:[/[gG]/,/[iI]/,/[tT]/,/[uU]/,/[dD]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"longitude$ebnf$1",symbols:["longitude$ebnf$1$subexpression$1"],postprocess:dt},{name:"longitude$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"longitude",symbols:["_","longitude$subexpression$1","longitude$ebnf$1","_",{literal:":"},"_","lon"],postprocess:n=>n[6]},{name:"lat$ebnf$1$subexpression$1",symbols:[{literal:"+"}]},{name:"lat$ebnf$1$subexpression$1",symbols:[{literal:"-"}]},{name:"lat$ebnf$1",symbols:["lat$ebnf$1$subexpression$1"],postprocess:dt},{name:"lat$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"lat",symbols:["lat$ebnf$1","deg90"],postprocess:n=>({lat:{sign:n[0]=="-"?-1:1,deg:n[1]}})},{name:"lat$ebnf$2$subexpression$1$subexpression$1",symbols:[/[nN]/],postprocess:function(n){return n.join("")}},{name:"lat$ebnf$2$subexpression$1",symbols:["lat$ebnf$2$subexpression$1$subexpression$1"]},{name:"lat$ebnf$2$subexpression$1$subexpression$2",symbols:[/[sS]/],postprocess:function(n){return n.join("")}},{name:"lat$ebnf$2$subexpression$1",symbols:["lat$ebnf$2$subexpression$1$subexpression$2"]},{name:"lat$ebnf$2",symbols:["lat$ebnf$2$subexpression$1"],postprocess:dt},{name:"lat$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"lat",symbols:["deg90","_","lat$ebnf$2"],postprocess:n=>({lat:{sign:n[2]=="s"||n[2]=="S"?-1:1,deg:n[0]}})},{name:"lon$ebnf$1$subexpression$1",symbols:[{literal:"+"}]},{name:"lon$ebnf$1$subexpression$1",symbols:[{literal:"-"}]},{name:"lon$ebnf$1",symbols:["lon$ebnf$1$subexpression$1"],postprocess:dt},{name:"lon$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"lon",symbols:["lon$ebnf$1","deg180"],postprocess:n=>({lon:{sign:n[0]=="-"?-1:1,deg:n[1]}})},{name:"lon$ebnf$2$subexpression$1$subexpression$1",symbols:[/[eE]/],postprocess:function(n){return n.join("")}},{name:"lon$ebnf$2$subexpression$1",symbols:["lon$ebnf$2$subexpression$1$subexpression$1"]},{name:"lon$ebnf$2$subexpression$1$subexpression$2",symbols:[/[wW]/],postprocess:function(n){return n.join("")}},{name:"lon$ebnf$2$subexpression$1",symbols:["lon$ebnf$2$subexpression$1$subexpression$2"]},{name:"lon$ebnf$2",symbols:["lon$ebnf$2$subexpression$1"],postprocess:dt},{name:"lon$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"lon",symbols:["deg180","_","lon$ebnf$2"],postprocess:n=>({lon:{sign:n[2]=="w"||n[2]=="W"?-1:1,deg:n[0]}})},{name:"deg360$ebnf$1",symbols:["sep"]},{name:"deg360$ebnf$1",symbols:["deg360$ebnf$1","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg360$ebnf$2",symbols:["sep"]},{name:"deg360$ebnf$2",symbols:["deg360$ebnf$2","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg360$ebnf$3",symbols:[]},{name:"deg360$ebnf$3",symbols:["deg360$ebnf$3","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg360",symbols:["decdeg360","deg360$ebnf$1","decminsec","deg360$ebnf$2","decminsec","deg360$ebnf$3"],postprocess:n=>({d:n[0],m:n[2],s:n[4]})},{name:"deg360$ebnf$4",symbols:["sep"]},{name:"deg360$ebnf$4",symbols:["deg360$ebnf$4","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg360$ebnf$5",symbols:[]},{name:"deg360$ebnf$5",symbols:["deg360$ebnf$5","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg360",symbols:["decdeg360","deg360$ebnf$4","decminsec","deg360$ebnf$5"],postprocess:n=>({d:n[0],m:n[2],s:0})},{name:"deg360$ebnf$6",symbols:[]},{name:"deg360$ebnf$6",symbols:["deg360$ebnf$6","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg360",symbols:["decdeg360","deg360$ebnf$6"],postprocess:n=>({d:n[0],m:0,s:0})},{name:"deg180$ebnf$1",symbols:["sep"]},{name:"deg180$ebnf$1",symbols:["deg180$ebnf$1","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg180$ebnf$2",symbols:["sep"]},{name:"deg180$ebnf$2",symbols:["deg180$ebnf$2","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg180$ebnf$3",symbols:[]},{name:"deg180$ebnf$3",symbols:["deg180$ebnf$3","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg180",symbols:["decdeg180","deg180$ebnf$1","decminsec","deg180$ebnf$2","decminsec","deg180$ebnf$3"],postprocess:n=>({d:n[0],m:n[2],s:n[4]})},{name:"deg180$ebnf$4",symbols:["sep"]},{name:"deg180$ebnf$4",symbols:["deg180$ebnf$4","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg180$ebnf$5",symbols:[]},{name:"deg180$ebnf$5",symbols:["deg180$ebnf$5","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg180",symbols:["decdeg180","deg180$ebnf$4","decminsec","deg180$ebnf$5"],postprocess:n=>({d:n[0],m:n[2],s:0})},{name:"deg180$ebnf$6",symbols:[]},{name:"deg180$ebnf$6",symbols:["deg180$ebnf$6","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg180",symbols:["decdeg180","deg180$ebnf$6"],postprocess:n=>({d:n[0],m:0,s:0})},{name:"deg90$ebnf$1",symbols:["sep"]},{name:"deg90$ebnf$1",symbols:["deg90$ebnf$1","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg90$ebnf$2",symbols:["sep"]},{name:"deg90$ebnf$2",symbols:["deg90$ebnf$2","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg90$ebnf$3",symbols:[]},{name:"deg90$ebnf$3",symbols:["deg90$ebnf$3","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg90",symbols:["decdeg90","deg90$ebnf$1","decminsec","deg90$ebnf$2","decminsec","deg90$ebnf$3"],postprocess:n=>({d:n[0],m:n[2],s:n[4]})},{name:"deg90$ebnf$4",symbols:["sep"]},{name:"deg90$ebnf$4",symbols:["deg90$ebnf$4","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg90$ebnf$5",symbols:[]},{name:"deg90$ebnf$5",symbols:["deg90$ebnf$5","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg90",symbols:["decdeg90","deg90$ebnf$4","decminsec","deg90$ebnf$5"],postprocess:n=>({d:n[0],m:n[2],s:0})},{name:"deg90$ebnf$6",symbols:[]},{name:"deg90$ebnf$6",symbols:["deg90$ebnf$6","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"deg90",symbols:["decdeg90","deg90$ebnf$6"],postprocess:n=>({d:n[0],m:0,s:0})},{name:"hhmmss$ebnf$1",symbols:["sep"]},{name:"hhmmss$ebnf$1",symbols:["hhmmss$ebnf$1","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hhmmss$ebnf$2",symbols:["sep"]},{name:"hhmmss$ebnf$2",symbols:["hhmmss$ebnf$2","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hhmmss$ebnf$3",symbols:[]},{name:"hhmmss$ebnf$3",symbols:["hhmmss$ebnf$3","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hhmmss",symbols:["hour","hhmmss$ebnf$1","decminsec","hhmmss$ebnf$2","decminsec","hhmmss$ebnf$3"],postprocess:n=>({d:n[0],m:n[2],s:n[4]})},{name:"hhmmss$ebnf$4",symbols:["sep"]},{name:"hhmmss$ebnf$4",symbols:["hhmmss$ebnf$4","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hhmmss$ebnf$5",symbols:[]},{name:"hhmmss$ebnf$5",symbols:["hhmmss$ebnf$5","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hhmmss",symbols:["hour","hhmmss$ebnf$4","decminsec","hhmmss$ebnf$5"],postprocess:n=>({d:n[0],m:n[2],s:0})},{name:"hhmmss$ebnf$6",symbols:[]},{name:"hhmmss$ebnf$6",symbols:["hhmmss$ebnf$6","sep"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hhmmss",symbols:["hour","hhmmss$ebnf$6"],postprocess:n=>({d:n[0],m:0,s:0})},{name:"decdeg360$ebnf$1",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$string$1",symbols:[{literal:"3"},{literal:"6"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"decdeg360$ebnf$2$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg360$ebnf$2$subexpression$1$ebnf$1",symbols:["decdeg360$ebnf$2$subexpression$1$ebnf$1",{literal:"0"}],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg360$ebnf$2$subexpression$1",symbols:[{literal:"."},"decdeg360$ebnf$2$subexpression$1$ebnf$1"]},{name:"decdeg360$ebnf$2",symbols:["decdeg360$ebnf$2$subexpression$1"],postprocess:dt},{name:"decdeg360$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"decdeg360",symbols:["decdeg360$ebnf$1","decdeg360$string$1","decdeg360$ebnf$2"],postprocess:n=>360},{name:"decdeg360$ebnf$3",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$3",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$ebnf$4$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg360$ebnf$4$subexpression$1$ebnf$1",symbols:["decdeg360$ebnf$4$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg360$ebnf$4$subexpression$1",symbols:[{literal:"."},"decdeg360$ebnf$4$subexpression$1$ebnf$1"]},{name:"decdeg360$ebnf$4",symbols:["decdeg360$ebnf$4$subexpression$1"],postprocess:dt},{name:"decdeg360$ebnf$4",symbols:[],postprocess:function(n){return null}},{name:"decdeg360",symbols:["decdeg360$ebnf$3",{literal:"3"},/[0-5]/,/[0-9]/,"decdeg360$ebnf$4"],postprocess:n=>parseFloat(`${n[1]}${n[2]}${n[3]}.${n[4]?n[4][1].join(""):"0"}`)},{name:"decdeg360$ebnf$5",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$5",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$ebnf$6$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg360$ebnf$6$subexpression$1$ebnf$1",symbols:["decdeg360$ebnf$6$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg360$ebnf$6$subexpression$1",symbols:[{literal:"."},"decdeg360$ebnf$6$subexpression$1$ebnf$1"]},{name:"decdeg360$ebnf$6",symbols:["decdeg360$ebnf$6$subexpression$1"],postprocess:dt},{name:"decdeg360$ebnf$6",symbols:[],postprocess:function(n){return null}},{name:"decdeg360",symbols:["decdeg360$ebnf$5",/[1-2]/,/[0-9]/,/[0-9]/,"decdeg360$ebnf$6"],postprocess:n=>parseFloat(`${n[1]}${n[2]}${n[3]}.${n[4]?n[4][1].join(""):"0"}`)},{name:"decdeg360$ebnf$7",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$7",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$ebnf$8",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$8",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$ebnf$9$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg360$ebnf$9$subexpression$1$ebnf$1",symbols:["decdeg360$ebnf$9$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg360$ebnf$9$subexpression$1",symbols:[{literal:"."},"decdeg360$ebnf$9$subexpression$1$ebnf$1"]},{name:"decdeg360$ebnf$9",symbols:["decdeg360$ebnf$9$subexpression$1"],postprocess:dt},{name:"decdeg360$ebnf$9",symbols:[],postprocess:function(n){return null}},{name:"decdeg360",symbols:["decdeg360$ebnf$7","decdeg360$ebnf$8",/[1-9]/,/[0-9]/,"decdeg360$ebnf$9"],postprocess:n=>parseFloat(`${n[2]}${n[3]}.${n[4]?n[4][1].join(""):"0"}`)},{name:"decdeg360$ebnf$10",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$10",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$ebnf$11",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$11",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$ebnf$12",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg360$ebnf$12",symbols:[],postprocess:function(n){return null}},{name:"decdeg360$ebnf$13$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg360$ebnf$13$subexpression$1$ebnf$1",symbols:["decdeg360$ebnf$13$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg360$ebnf$13$subexpression$1",symbols:[{literal:"."},"decdeg360$ebnf$13$subexpression$1$ebnf$1"]},{name:"decdeg360$ebnf$13",symbols:["decdeg360$ebnf$13$subexpression$1"],postprocess:dt},{name:"decdeg360$ebnf$13",symbols:[],postprocess:function(n){return null}},{name:"decdeg360",symbols:["decdeg360$ebnf$10","decdeg360$ebnf$11","decdeg360$ebnf$12",/[0-9]/,"decdeg360$ebnf$13"],postprocess:n=>parseFloat(`${n[3]}.${n[4]?n[4][1].join(""):"0"}`)},{name:"decdeg180$ebnf$1",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg180$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"decdeg180$string$1",symbols:[{literal:"1"},{literal:"8"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"decdeg180$ebnf$2$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg180$ebnf$2$subexpression$1$ebnf$1",symbols:["decdeg180$ebnf$2$subexpression$1$ebnf$1",{literal:"0"}],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg180$ebnf$2$subexpression$1",symbols:[{literal:"."},"decdeg180$ebnf$2$subexpression$1$ebnf$1"]},{name:"decdeg180$ebnf$2",symbols:["decdeg180$ebnf$2$subexpression$1"],postprocess:dt},{name:"decdeg180$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"decdeg180",symbols:["decdeg180$ebnf$1","decdeg180$string$1","decdeg180$ebnf$2"],postprocess:n=>180},{name:"decdeg180$ebnf$3",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg180$ebnf$3",symbols:[],postprocess:function(n){return null}},{name:"decdeg180$ebnf$4$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg180$ebnf$4$subexpression$1$ebnf$1",symbols:["decdeg180$ebnf$4$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg180$ebnf$4$subexpression$1",symbols:[{literal:"."},"decdeg180$ebnf$4$subexpression$1$ebnf$1"]},{name:"decdeg180$ebnf$4",symbols:["decdeg180$ebnf$4$subexpression$1"],postprocess:dt},{name:"decdeg180$ebnf$4",symbols:[],postprocess:function(n){return null}},{name:"decdeg180",symbols:["decdeg180$ebnf$3",{literal:"1"},/[0-7]/,/[0-9]/,"decdeg180$ebnf$4"],postprocess:n=>parseFloat(`${n[1]}${n[2]}${n[3]}.${n[4]?n[4][1].join(""):"0"}`)},{name:"decdeg180$ebnf$5",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg180$ebnf$5",symbols:[],postprocess:function(n){return null}},{name:"decdeg180$ebnf$6",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg180$ebnf$6",symbols:[],postprocess:function(n){return null}},{name:"decdeg180$ebnf$7$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg180$ebnf$7$subexpression$1$ebnf$1",symbols:["decdeg180$ebnf$7$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg180$ebnf$7$subexpression$1",symbols:[{literal:"."},"decdeg180$ebnf$7$subexpression$1$ebnf$1"]},{name:"decdeg180$ebnf$7",symbols:["decdeg180$ebnf$7$subexpression$1"],postprocess:dt},{name:"decdeg180$ebnf$7",symbols:[],postprocess:function(n){return null}},{name:"decdeg180",symbols:["decdeg180$ebnf$5","decdeg180$ebnf$6",/[1-9]/,/[0-9]/,"decdeg180$ebnf$7"],postprocess:n=>parseFloat(`${n[2]}${n[3]}.${n[4]?n[4][1].join(""):"0"}`)},{name:"decdeg180$ebnf$8",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg180$ebnf$8",symbols:[],postprocess:function(n){return null}},{name:"decdeg180$ebnf$9",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg180$ebnf$9",symbols:[],postprocess:function(n){return null}},{name:"decdeg180$ebnf$10",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg180$ebnf$10",symbols:[],postprocess:function(n){return null}},{name:"decdeg180$ebnf$11$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg180$ebnf$11$subexpression$1$ebnf$1",symbols:["decdeg180$ebnf$11$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg180$ebnf$11$subexpression$1",symbols:[{literal:"."},"decdeg180$ebnf$11$subexpression$1$ebnf$1"]},{name:"decdeg180$ebnf$11",symbols:["decdeg180$ebnf$11$subexpression$1"],postprocess:dt},{name:"decdeg180$ebnf$11",symbols:[],postprocess:function(n){return null}},{name:"decdeg180",symbols:["decdeg180$ebnf$8","decdeg180$ebnf$9","decdeg180$ebnf$10",/[0-9]/,"decdeg180$ebnf$11"],postprocess:n=>parseFloat(`${n[3]}.${n[4]?n[4][1].join(""):"0"}`)},{name:"decdeg90$ebnf$1",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg90$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"decdeg90$string$1",symbols:[{literal:"9"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"decdeg90$ebnf$2$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg90$ebnf$2$subexpression$1$ebnf$1",symbols:["decdeg90$ebnf$2$subexpression$1$ebnf$1",{literal:"0"}],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg90$ebnf$2$subexpression$1",symbols:[{literal:"."},"decdeg90$ebnf$2$subexpression$1$ebnf$1"]},{name:"decdeg90$ebnf$2",symbols:["decdeg90$ebnf$2$subexpression$1"],postprocess:dt},{name:"decdeg90$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"decdeg90",symbols:["decdeg90$ebnf$1","decdeg90$string$1","decdeg90$ebnf$2"],postprocess:n=>90},{name:"decdeg90$ebnf$3",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg90$ebnf$3",symbols:[],postprocess:function(n){return null}},{name:"decdeg90$ebnf$4$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg90$ebnf$4$subexpression$1$ebnf$1",symbols:["decdeg90$ebnf$4$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg90$ebnf$4$subexpression$1",symbols:[{literal:"."},"decdeg90$ebnf$4$subexpression$1$ebnf$1"]},{name:"decdeg90$ebnf$4",symbols:["decdeg90$ebnf$4$subexpression$1"],postprocess:dt},{name:"decdeg90$ebnf$4",symbols:[],postprocess:function(n){return null}},{name:"decdeg90",symbols:["decdeg90$ebnf$3",/[1-8]/,/[0-9]/,"decdeg90$ebnf$4"],postprocess:n=>parseFloat(`${n[1]}${n[2]}.${n[3]?n[3][1].join(""):"0"}`)},{name:"decdeg90$ebnf$5",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg90$ebnf$5",symbols:[],postprocess:function(n){return null}},{name:"decdeg90$ebnf$6",symbols:[{literal:"0"}],postprocess:dt},{name:"decdeg90$ebnf$6",symbols:[],postprocess:function(n){return null}},{name:"decdeg90$ebnf$7$subexpression$1$ebnf$1",symbols:[]},{name:"decdeg90$ebnf$7$subexpression$1$ebnf$1",symbols:["decdeg90$ebnf$7$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decdeg90$ebnf$7$subexpression$1",symbols:[{literal:"."},"decdeg90$ebnf$7$subexpression$1$ebnf$1"]},{name:"decdeg90$ebnf$7",symbols:["decdeg90$ebnf$7$subexpression$1"],postprocess:dt},{name:"decdeg90$ebnf$7",symbols:[],postprocess:function(n){return null}},{name:"decdeg90",symbols:["decdeg90$ebnf$5","decdeg90$ebnf$6",/[0-9]/,"decdeg90$ebnf$7"],postprocess:n=>parseFloat(`${n[2]}.${n[3]?n[3][1].join(""):"0"}`)},{name:"hour$ebnf$1$subexpression$1$ebnf$1",symbols:[]},{name:"hour$ebnf$1$subexpression$1$ebnf$1",symbols:["hour$ebnf$1$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hour$ebnf$1$subexpression$1",symbols:[{literal:"."},"hour$ebnf$1$subexpression$1$ebnf$1"]},{name:"hour$ebnf$1",symbols:["hour$ebnf$1$subexpression$1"],postprocess:dt},{name:"hour$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"hour",symbols:[{literal:"2"},/[0-4]/,"hour$ebnf$1"],postprocess:n=>parseFloat(`${n[0]}${n[1]}.${n[2]?n[2][1].join(""):"0"}`)},{name:"hour$ebnf$2$subexpression$1$ebnf$1",symbols:[]},{name:"hour$ebnf$2$subexpression$1$ebnf$1",symbols:["hour$ebnf$2$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hour$ebnf$2$subexpression$1",symbols:[{literal:"."},"hour$ebnf$2$subexpression$1$ebnf$1"]},{name:"hour$ebnf$2",symbols:["hour$ebnf$2$subexpression$1"],postprocess:dt},{name:"hour$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"hour",symbols:[{literal:"1"},/[0-9]/,"hour$ebnf$2"],postprocess:n=>parseFloat(`${n[0]}${n[1]}.${n[2]?n[2][1].join(""):"0"}`)},{name:"hour$ebnf$3",symbols:[{literal:"0"}],postprocess:dt},{name:"hour$ebnf$3",symbols:[],postprocess:function(n){return null}},{name:"hour$ebnf$4$subexpression$1$ebnf$1",symbols:[]},{name:"hour$ebnf$4$subexpression$1$ebnf$1",symbols:["hour$ebnf$4$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"hour$ebnf$4$subexpression$1",symbols:[{literal:"."},"hour$ebnf$4$subexpression$1$ebnf$1"]},{name:"hour$ebnf$4",symbols:["hour$ebnf$4$subexpression$1"],postprocess:dt},{name:"hour$ebnf$4",symbols:[],postprocess:function(n){return null}},{name:"hour",symbols:["hour$ebnf$3",/[0-9]/,"hour$ebnf$4"],postprocess:n=>parseFloat(`${n[1]}.${n[2]?n[2][1].join(""):"0"}`)},{name:"decminsec$ebnf$1",symbols:[{literal:"0"}],postprocess:dt},{name:"decminsec$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"decminsec$string$1",symbols:[{literal:"6"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"decminsec$ebnf$2$subexpression$1$ebnf$1",symbols:[]},{name:"decminsec$ebnf$2$subexpression$1$ebnf$1",symbols:["decminsec$ebnf$2$subexpression$1$ebnf$1",{literal:"0"}],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decminsec$ebnf$2$subexpression$1",symbols:[{literal:"."},"decminsec$ebnf$2$subexpression$1$ebnf$1"]},{name:"decminsec$ebnf$2",symbols:["decminsec$ebnf$2$subexpression$1"],postprocess:dt},{name:"decminsec$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"decminsec",symbols:["decminsec$ebnf$1","decminsec$string$1","decminsec$ebnf$2"],postprocess:n=>60},{name:"decminsec$ebnf$3",symbols:[{literal:"0"}],postprocess:dt},{name:"decminsec$ebnf$3",symbols:[],postprocess:function(n){return null}},{name:"decminsec$ebnf$4$subexpression$1$ebnf$1",symbols:[]},{name:"decminsec$ebnf$4$subexpression$1$ebnf$1",symbols:["decminsec$ebnf$4$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decminsec$ebnf$4$subexpression$1",symbols:[{literal:"."},"decminsec$ebnf$4$subexpression$1$ebnf$1"]},{name:"decminsec$ebnf$4",symbols:["decminsec$ebnf$4$subexpression$1"],postprocess:dt},{name:"decminsec$ebnf$4",symbols:[],postprocess:function(n){return null}},{name:"decminsec",symbols:["decminsec$ebnf$3",/[1-5]/,/[0-9]/,"decminsec$ebnf$4"],postprocess:n=>parseFloat(`${n[1]}${n[2]}.${n[3]?n[3][1].join(""):"0"}`)},{name:"decminsec$ebnf$5",symbols:[{literal:"0"}],postprocess:dt},{name:"decminsec$ebnf$5",symbols:[],postprocess:function(n){return null}},{name:"decminsec$ebnf$6",symbols:[{literal:"0"}],postprocess:dt},{name:"decminsec$ebnf$6",symbols:[],postprocess:function(n){return null}},{name:"decminsec$ebnf$7$subexpression$1$ebnf$1",symbols:[]},{name:"decminsec$ebnf$7$subexpression$1$ebnf$1",symbols:["decminsec$ebnf$7$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decminsec$ebnf$7$subexpression$1",symbols:[{literal:"."},"decminsec$ebnf$7$subexpression$1$ebnf$1"]},{name:"decminsec$ebnf$7",symbols:["decminsec$ebnf$7$subexpression$1"],postprocess:dt},{name:"decminsec$ebnf$7",symbols:[],postprocess:function(n){return null}},{name:"decminsec",symbols:["decminsec$ebnf$5","decminsec$ebnf$6",/[0-9]/,"decminsec$ebnf$7"],postprocess:n=>parseFloat(`${n[2]}.${n[3]?n[3][1].join(""):"0"}`)},{name:"utc$subexpression$1",symbols:[/[uU]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"utc",symbols:["utc$subexpression$1"]},{name:"utc$subexpression$2",symbols:[/[uU]/,/[tT]/,/[cC]/],postprocess:function(n){return n.join("")}},{name:"utc",symbols:["utc$subexpression$2"]},{name:"utc$subexpression$3",symbols:[/[gG]/,/[mM]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"utc",symbols:["utc$subexpression$3"]},{name:"methodtype$subexpression$1",symbols:[/[sS]/,/[eE]/,/[xX]/,/[tT]/,/[aA]/,/[nN]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"methodtype",symbols:["methodtype$subexpression$1"]},{name:"methodtype$subexpression$2",symbols:[/[bB]/,/[uU]/,/[bB]/,/[bB]/,/[lL]/,/[eE]/,{literal:" "},/[sS]/,/[eE]/,/[xX]/,/[tT]/,/[aA]/,/[nN]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"methodtype",symbols:["methodtype$subexpression$2"]},{name:"methodtype$subexpression$3",symbols:[/[tT]/,/[hH]/,/[eE]/,/[oO]/,/[dD]/,/[oO]/,/[lL]/,/[iI]/,/[tT]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"methodtype",symbols:["methodtype$subexpression$3"]},{name:"methodtype$subexpression$4",symbols:[/[cC]/,/[eE]/,/[lL]/,/[lL]/,/[pP]/,/[hH]/,/[oO]/,/[nN]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"methodtype",symbols:["methodtype$subexpression$4"]},{name:"meter$subexpression$1",symbols:[/[mM]/],postprocess:function(n){return n.join("")}},{name:"meter",symbols:["meter$subexpression$1"]},{name:"meter$subexpression$2",symbols:[/[mM]/,/[eE]/,/[tT]/,/[eE]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"meter",symbols:["meter$subexpression$2"]},{name:"meter$subexpression$3",symbols:[/[mM]/,/[eE]/,/[tT]/,/[eE]/,/[rR]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"meter",symbols:["meter$subexpression$3"]},{name:"meter$subexpression$4",symbols:[/[mM]/,/[eE]/,/[tT]/,/[rR]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"meter",symbols:["meter$subexpression$4"]},{name:"meter$subexpression$5",symbols:[/[mM]/,/[eE]/,/[tT]/,/[rR]/,/[eE]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"meter",symbols:["meter$subexpression$5"]},{name:"obsheight$ebnf$1$subexpression$1$subexpression$1",symbols:[/[eE]/,/[yY]/,/[eE]/,{literal:" "}],postprocess:function(n){return n.join("")}},{name:"obsheight$ebnf$1$subexpression$1",symbols:["obsheight$ebnf$1$subexpression$1$subexpression$1"]},{name:"obsheight$ebnf$1$subexpression$1$subexpression$2",symbols:[/[oO]/,/[bB]/,/[sS]/,/[eE]/,/[rR]/,/[vV]/,/[eE]/,/[rR]/,{literal:" "}],postprocess:function(n){return n.join("")}},{name:"obsheight$ebnf$1$subexpression$1",symbols:["obsheight$ebnf$1$subexpression$1$subexpression$2"]},{name:"obsheight$ebnf$1$subexpression$1$subexpression$3",symbols:[/[oO]/,/[bB]/,/[sS]/,{literal:"."},{literal:" "}],postprocess:function(n){return n.join("")}},{name:"obsheight$ebnf$1$subexpression$1",symbols:["obsheight$ebnf$1$subexpression$1$subexpression$3"]},{name:"obsheight$ebnf$1",symbols:["obsheight$ebnf$1$subexpression$1"],postprocess:dt},{name:"obsheight$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"obsheight$subexpression$1",symbols:[/[hH]/,/[eE]/,/[iI]/,/[gG]/,/[hH]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"obsheight",symbols:["obsheight$ebnf$1","obsheight$subexpression$1"]},{name:"we$subexpression$1",symbols:[/[wW]/,/[aA]/,/[tT]/,/[cC]/,/[hH]/,{literal:" "},/[eE]/,/[rR]/,/[rR]/,/[oO]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"we",symbols:["we$subexpression$1"]},{name:"we$subexpression$2",symbols:[/[wW]/,/[aA]/,/[tT]/,/[cC]/,/[hH]/],postprocess:function(n){return n.join("")}},{name:"we",symbols:["we$subexpression$2"]},{name:"we$subexpression$3",symbols:[/[wW]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"we",symbols:["we$subexpression$3"]},{name:"ie$subexpression$1",symbols:[/[iI]/,/[nN]/,/[dD]/,/[eE]/,/[xX]/,{literal:" "},/[eE]/,/[rR]/,/[rR]/,/[oO]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"ie",symbols:["ie$subexpression$1"]},{name:"ie$subexpression$2",symbols:[/[iI]/,/[nN]/,/[dD]/,/[eE]/,/[xX]/],postprocess:function(n){return n.join("")}},{name:"ie",symbols:["ie$subexpression$2"]},{name:"ie$subexpression$3",symbols:[/[iI]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"ie",symbols:["ie$subexpression$3"]},{name:"celsius",symbols:[{literal:"°"}]},{name:"celsius$subexpression$1",symbols:[{literal:"°"},/[cC]/],postprocess:function(n){return n.join("")}},{name:"celsius",symbols:["celsius$subexpression$1"]},{name:"celsius$subexpression$2",symbols:[/[cC]/],postprocess:function(n){return n.join("")}},{name:"celsius",symbols:["celsius$subexpression$2"]},{name:"celsius$subexpression$3",symbols:[/[cC]/,/[eE]/,/[lL]/,/[sS]/,/[iI]/,/[uU]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"celsius",symbols:["celsius$subexpression$3"]},{name:"mbar$subexpression$1",symbols:[/[mM]/,/[bB]/,/[aA]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"mbar",symbols:["mbar$subexpression$1"]},{name:"mbar$subexpression$2",symbols:[/[mM]/,/[iI]/,/[lL]/,/[lL]/,/[iI]/,/[bB]/,/[aA]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"mbar",symbols:["mbar$subexpression$2"]},{name:"mbar$subexpression$3",symbols:[/[mM]/,/[iI]/,/[lL]/,/[lL]/,/[iI]/,/[bB]/,/[aA]/,/[rR]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"mbar",symbols:["mbar$subexpression$3"]},{name:"dr$subexpression$1$subexpression$1",symbols:[/[dD]/,/[eE]/,/[dD]/],postprocess:function(n){return n.join("")}},{name:"dr$subexpression$1$ebnf$1",symbols:[{literal:"."}],postprocess:dt},{name:"dr$subexpression$1$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"dr$subexpression$1",symbols:["dr$subexpression$1$subexpression$1","dr$subexpression$1$ebnf$1"]},{name:"dr$subexpression$1$subexpression$2",symbols:[/[dD]/,/[eE]/,/[dD]/,/[uU]/,/[cC]/,/[eE]/,/[dD]/],postprocess:function(n){return n.join("")}},{name:"dr$subexpression$1",symbols:["dr$subexpression$1$subexpression$2"]},{name:"dr$subexpression$1$subexpression$3",symbols:[/[dD]/,/[eE]/,/[aA]/,/[dD]/],postprocess:function(n){return n.join("")}},{name:"dr$subexpression$1",symbols:["dr$subexpression$1$subexpression$3"]},{name:"dr$subexpression$2$subexpression$1",symbols:[/[rR]/,/[eE]/,/[cC]/],postprocess:function(n){return n.join("")}},{name:"dr$subexpression$2$ebnf$1",symbols:[{literal:"."}],postprocess:dt},{name:"dr$subexpression$2$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"dr$subexpression$2",symbols:["dr$subexpression$2$subexpression$1","dr$subexpression$2$ebnf$1"]},{name:"dr$subexpression$2$subexpression$2",symbols:[/[rR]/,/[eE]/,/[cC]/,/[kK]/],postprocess:function(n){return n.join("")}},{name:"dr$subexpression$2$ebnf$2",symbols:[{literal:"."}],postprocess:dt},{name:"dr$subexpression$2$ebnf$2",symbols:[],postprocess:function(n){return null}},{name:"dr$subexpression$2",symbols:["dr$subexpression$2$subexpression$2","dr$subexpression$2$ebnf$2"]},{name:"dr$subexpression$2$subexpression$3",symbols:[/[rR]/,/[eE]/,/[cC]/,/[kK]/,/[oO]/,/[nN]/,/[iI]/,/[nN]/,/[gG]/],postprocess:function(n){return n.join("")}},{name:"dr$subexpression$2",symbols:["dr$subexpression$2$subexpression$3"]},{name:"dr",symbols:["dr$subexpression$1","_","dr$subexpression$2"]},{name:"dr$subexpression$3",symbols:[/[dD]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"dr",symbols:["dr$subexpression$3"]},{name:"bearing$subexpression$1",symbols:[/[hH]/,/[eE]/,/[aA]/,/[dD]/,/[iI]/,/[nN]/,/[gG]/],postprocess:function(n){return n.join("")}},{name:"bearing",symbols:["bearing$subexpression$1"]},{name:"bearing$ebnf$1$subexpression$1",symbols:[/[tT]/,/[rR]/,/[uU]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"bearing$ebnf$1",symbols:["bearing$ebnf$1$subexpression$1"],postprocess:dt},{name:"bearing$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"bearing$subexpression$2",symbols:[/[bB]/,/[eE]/,/[aA]/,/[rR]/,/[iI]/,/[nN]/,/[gG]/],postprocess:function(n){return n.join("")}},{name:"bearing",symbols:["bearing$ebnf$1","_","bearing$subexpression$2"]},{name:"knot$subexpression$1",symbols:[/[kK]/,/[nN]/,/[oO]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"knot",symbols:["knot$subexpression$1"]},{name:"knot$subexpression$2",symbols:[/[kK]/,/[nN]/,/[oO]/,/[tT]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"knot",symbols:["knot$subexpression$2"]},{name:"knot$subexpression$3",symbols:[/[kK]/,/[nN]/],postprocess:function(n){return n.join("")}},{name:"knot",symbols:["knot$subexpression$3"]},{name:"alt$subexpression$1",symbols:[/[aA]/,/[lL]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"alt$ebnf$1$subexpression$1",symbols:[/[iI]/,/[tT]/,/[uU]/,/[dD]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"alt$ebnf$1",symbols:["alt$ebnf$1$subexpression$1"],postprocess:dt},{name:"alt$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"alt",symbols:["alt$subexpression$1","alt$ebnf$1"]},{name:"alt$subexpression$2",symbols:[/[aA]/,/[nN]/,/[gG]/,/[lL]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"alt",symbols:["alt$subexpression$2"]},{name:"object$subexpression$1",symbols:[/[sS]/,/[tT]/,/[aA]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$1"]},{name:"object$subexpression$2",symbols:[/[pP]/,/[lL]/,/[aA]/,/[nN]/,/[eE]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$2"]},{name:"object$subexpression$3",symbols:[/[mM]/,/[oO]/,/[oO]/,/[nN]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$3"]},{name:"object$subexpression$4",symbols:[/[sS]/,/[uU]/,/[nN]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$4"]},{name:"object$subexpression$5",symbols:[/[bB]/,/[oO]/,/[dD]/,/[yY]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$5"]},{name:"object$subexpression$6",symbols:[/[sS]/,/[iI]/,/[gG]/,/[hH]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$6"]},{name:"object$subexpression$7",symbols:[/[oO]/,/[bB]/,/[jJ]/,/[eE]/,/[cC]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$7"]},{name:"object$subexpression$8",symbols:[/[cC]/,/[eE]/,/[lL]/,/[eE]/,/[sS]/,/[tT]/,/[iI]/,/[aA]/,/[lL]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$8"]},{name:"object$subexpression$9",symbols:[/[cC]/,/[eE]/,/[lL]/,/[eE]/,/[sS]/,/[tT]/,/[iI]/,/[aA]/,/[lL]/],postprocess:function(n){return n.join("")}},{name:"object$subexpression$10",symbols:[/[bB]/,/[oO]/,/[dD]/,/[yY]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$9","_","object$subexpression$10"]},{name:"object$subexpression$11",symbols:[/[tT]/,/[aA]/,/[rR]/,/[gG]/,/[eE]/,/[tT]/],postprocess:function(n){return n.join("")}},{name:"object",symbols:["object$subexpression$11"]},{name:"km$subexpression$1",symbols:[/[kK]/,/[mM]/],postprocess:function(n){return n.join("")}},{name:"km",symbols:["km$subexpression$1"]},{name:"km$subexpression$2",symbols:[/[kK]/,/[iI]/,/[lL]/,/[oO]/,/[mM]/,/[eE]/,/[tT]/,/[eE]/,/[rR]/],postprocess:function(n){return n.join("")}},{name:"km",symbols:["km$subexpression$2"]},{name:"km$subexpression$3",symbols:[/[kK]/,/[iI]/,/[lL]/,/[oO]/,/[mM]/,/[eE]/,/[tT]/,/[eE]/,/[rR]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"km",symbols:["km$subexpression$3"]},{name:"km$subexpression$4",symbols:[/[kK]/,/[iI]/,/[lL]/,/[oO]/,/[mM]/,/[eE]/,/[tT]/,/[rR]/,/[eE]/],postprocess:function(n){return n.join("")}},{name:"km",symbols:["km$subexpression$4"]},{name:"km$subexpression$5",symbols:[/[kK]/,/[iI]/,/[lL]/,/[oO]/,/[mM]/,/[eE]/,/[tT]/,/[rR]/,/[eE]/,/[sS]/],postprocess:function(n){return n.join("")}},{name:"km",symbols:["km$subexpression$5"]},{name:"word$ebnf$1",symbols:[/[^\n\r\#]/]},{name:"word$ebnf$1",symbols:["word$ebnf$1",/[^\n\r\#]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"word",symbols:["word$ebnf$1"],postprocess:n=>n[0].join("")},{name:"float$ebnf$1$subexpression$1$ebnf$1",symbols:["num"],postprocess:dt},{name:"float$ebnf$1$subexpression$1$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"float$ebnf$1$subexpression$1",symbols:[{literal:"."},"float$ebnf$1$subexpression$1$ebnf$1"]},{name:"float$ebnf$1",symbols:["float$ebnf$1$subexpression$1"],postprocess:dt},{name:"float$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"float",symbols:["num","float$ebnf$1"],postprocess:n=>parseFloat(`${n[0]}.${n[1]&&n[1][1]?n[1][1]:0}`)},{name:"int",symbols:["num"],postprocess:n=>parseInt(n[0],10)},{name:"num$ebnf$1",symbols:[/[0-9]/]},{name:"num$ebnf$1",symbols:["num$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"num",symbols:["num$ebnf$1"],postprocess:n=>n[0].join("")},{name:"sep",symbols:[/[^.0-9\n\r\#]/],postprocess:n=>null},{name:"break$ebnf$1",symbols:["comment"],postprocess:dt},{name:"break$ebnf$1",symbols:[],postprocess:function(n){return null}},{name:"break",symbols:["_","break$ebnf$1","nl"],postprocess:n=>null},{name:"comment$ebnf$1",symbols:[]},{name:"comment$ebnf$1",symbols:["comment$ebnf$1",/[^\n\r]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"comment",symbols:[{literal:"#"},"comment$ebnf$1"],postprocess:n=>null},{name:"nl",symbols:[/[\n\r]/],postprocess:n=>null},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ \t]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:n=>null}],ly="observation";const cy={Lexer:ay,ParserRules:oy,ParserStart:ly},{abs:Cc}=Math;function uy(n){const e=new v1.Parser(v1.Grammar.fromCompiled(cy));try{return e.feed(n+`

`),e.finish()[0]}catch(t){throw`${t}

`.split(`
`)[0]}}function ji(n){return n.sign*(Cc(n.deg.d)+Cc(n.deg.m)/60+Cc(n.deg.s)/3600)}function hy(n,e){const t={date:{y:1e3,m:1,d:1},observer_height_meter:0,timezone:0,method:"sextant",index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!1,actual_location:{lat:0,lon:0},heading:0,speed_knots:0,dr_lat:0,dr_lon:0,stars:[],landmarks:[]};return n.forEach(r=>{if("date"in r)t.date.y=r.date.y,t.date.m=r.date.m,t.date.d=r.date.d;else if("height"in r)t.observer_height_meter=r.height;else if("zone"in r)t.timezone=r.zone;else if("method"in r)t.method=r.method;else if("index"in r)t.index_error=r.index/60;else if("watch"in r)t.watch_error=r.watch;else if("bear"in r)t.heading=ji({sign:1,deg:r.bear});else if("speed"in r)t.speed_knots=r.speed;else if("temp"in r)t.temperature_celsius=r.temp,t.pressure_mbar=r.press;else if("compare"in r)t.compare_location=!0,r.compare.forEach(i=>{"lat"in i?t.actual_location.lat=ji(i.lat):t.actual_location.lon=ji(i.lon)});else if("dr"in r)r.dr.forEach(i=>{"lat"in i?t.dr_lat=ji(i.lat):t.dr_lon=ji(i.lon)});else if("star"in r){const i=r.star.trim();if(!e.includes(i))throw i.toLowerCase().startsWith("sun")?'Misspelled name. Choose either "Sun UL" or "Sun LL".':i.toLowerCase().startsWith("moon")?'Misspelled name. Choose either "Moon UL" or "Moon LL".':`Misspelled name: "${i}". Star names are case sensitive!`;t.stars.push({name:i,alt:ji(r.angle),time:{h:r.time.d,m:r.time.m,s:r.time.s}})}else"mark"in r&&t.landmarks.push({name:r.mark.trim(),lat:ji(r.lat),lon:ji(r.lon),distance:r.dist*1e3})}),t}function km(n){return wm(e=>{document.getElementById(`row${n}`).remove(),[window.app_state.data.stars,window.app_state.data.landmarks].forEach(t=>{for(let r=0;r<t.length;r++)if(n==t[r].id){t.splice(r,1);break}})})}function S0(n,e){const t=Zn("kor-table-cell",["grid-cols","7"]),r=Zn("kor-table-cell",["grid-cols","7"]),i=Zn("kor-table-cell",["grid-cols","7"]),s=Zn("kor-table-cell",["grid-cols","3"]),l=Zn("kor-icon",["icon","delete_forever","button",""]);t.append(e.name),r.append(no(e.alt)),i.append(R8(e.time)),s.append(l);const o=Zn("kor-table-row");Vt(o,"id",`row${e.id}`),o.append(t),o.append(r),o.append(i),o.append(s),n.append(o),l.addEventListener("click",km(e.id))}function M0(n,e){const t=Zn("kor-table-cell",["grid-cols","5"]),r=Zn("kor-table-cell",["grid-cols","6"]),i=Zn("kor-table-cell",["grid-cols","6"]),s=Zn("kor-table-cell",["grid-cols","4"]),l=Zn("kor-table-cell",["grid-cols","3"]),o=Zn("kor-icon",["icon","delete_forever","button",""]);t.append(e.name),r.append(no(e.lat)),i.append(no(e.lon)),s.append(`${(e.distance/1e3).toFixed(3)} km`),l.append(o);const u=Zn("kor-table-row");Vt(u,"id",`row${e.id}`),u.append(t),u.append(r),u.append(i),u.append(s),u.append(l),n.append(u),o.addEventListener("click",km(e.id))}function qi(n,e,t){for(let r=n.children.length-1;0<=r;r--)n.children[r].getAttribute("slot")!="header"&&n.removeChild(n.children[r]);for(let r=0;r<e.length;r++)t(n,e[r])}function Rc(n){Vt("obs-date","value",_m(n.date)),Vt("obs-timezone","value",n.timezone),Vt("obs-height","value",n.observer_height_meter),Vt("obs-bearing","value",n.heading),Vt("obs-speed","value",n.speed_knots),Vt("obs-drlat","value",n.dr_lat),Vt("obs-drlon","value",n.dr_lon),Vt("obs-indexerr","value",60*n.index_error),Vt("obs-watcherr","value",n.watch_error),Vt("obs-pressure","value",n.pressure_mbar),Vt("obs-temp","value",n.temperature_celsius)}function dy(){const n=window.app_state.data,e=Gn("obs-date").split("-");n.date={y:parseInt(e[0],10),m:parseInt(e[1],10),d:parseInt(e[2],10)},n.timezone=parseInt(Gn("obs-timezone"),10),n.method=Gn("obs-method","value"),n.observer_height_meter=parseFloat(Gn("obs-height")),n.heading=Gn("obs-bearing"),n.speed_knots=parseFloat(Gn("obs-speed")),n.dr_lat=Gn("obs-drlat"),n.dr_lon=Gn("obs-drlon"),n.index_error=parseFloat(Gn("obs-indexerr"))/60,n.watch_error=parseFloat(Gn("obs-watcherr")),n.temperature_celsius=parseFloat(Gn("obs-temp")),n.pressure_mbar=parseFloat(Gn("obs-pressure")),Gn("obs-actpos","active")?(n.compare_location=!0,n.actual_location.lat=Gn("obs-actlat"),n.actual_location.lon=Gn("obs-actlon")):n.compare_location=!1}function $c(){const{fix:n,worksheet:e}=b8(app_state);if(window.app_state.fix=n,window.app_state.worksheet=e,console.log(e),console.log(`fix: ${n.lat}, ${n.lon}`),window.app_state.data.compare_location){const t=window.app_state.data.actual_location;console.log(`actual location: ${t.lat}, ${t.lon}`),console.log(`distance error: ${(n.distance_error/1e3).toFixed(3)} km`)}Vt("goto-maps","href",`https://maps.google.com/?q=${n.lat},${n.lon}`),ny(window.app_state,"obs-worksheet"),window.app_state.sky_rotation=-n.gha,window.app_state.draw_fix(n,e)}function py(){const n=window.app_state,e=un("star-name"),t=un("obs-stars"),r=un("obs-landmarks"),i=un("land-name"),s=un("land-dist"),l=un("obs-actpos"),o=Vt("latlongrid","active",n.latlon_lines_visible),u=Vt("skyrotation","value",n.sky_rotation),a=Vt("constellations","active",n.constellations_visible),h=Vt("starlabels","active",n.toggle_labels),f=Vt("waterslide","value",n.water_opacity),v=un("star-altitude"),m=un("star-time"),b=un("land-lat"),_=un("land-lon"),E=un("obs-actlat"),S=un("obs-actlon"),N=Vt("freetext","value",n.default_free_text),D=un("grammarerror");D.style.visibility="hidden";const F=n.almanac,X=F.stars(),j=F.planets(),Y=F.sunmoon();function ae(z){return X.includes(z)?"star":j.includes(z)&&(z=="Venus"||z=="Mars"||z=="Jupiter"||z=="Saturn")?"language":z.includes("Moon")?"nights_stay":"wb_sunny"}X.concat(j).concat(Y).forEach((z,Q)=>{e.append(Zn("kor-menu-item",["label",z,"icon",ae(z)])),Q==0&&(e.firstChild.active=!0,Vt(e,"value",z))}),Vt("obs-date","value",_m(n.data.date)),vs("reset","click",z=>{Gu(),Vt(o,"active",n.latlon_lines_visible),Vt(a,"active",n.constellations_visible),Vt(u,"value",n.sky_rotation),Vt(f,"value",n.water_opacity),Rc(n.data),qi(t,n.data.stars,S0),qi(r,n.data.landmarks,M0),xm()}),Kn("ch-tabs","click",z=>{if(`${z.target.id}`.startsWith("ch-item")){let Q=z.target.id.split("-");Q=Q[Q.length-1],document.querySelectorAll("#form6 kor-card").forEach(G=>G.style.display="none"),un(`ch-tab-${Q}`).style.display="block",un(`ch-btns-${Q}`).style.display="block"}}),Kn("hlp-tabs","click",z=>{if(`${z.target.id}`.startsWith("hlp-item")){let Q=z.target.id.split("-");Q=Q[Q.length-1],document.querySelectorAll("#form7 kor-card").forEach(oe=>oe.style.display="none");const G=un(`hlp-tab-${Q}`);G.style.display="block"}});for(let z=0;z<9;z++)vs(`getfix-${z}`,"click",Q=>{n.data=JSON.parse(JSON.stringify(iy[z]));const G=n.data;G.stars.forEach(oe=>oe.id=ia()),G.landmarks.forEach(oe=>oe.id=ia()),Vt("form6","visible",!1),Rc(G),qi(t,G.stars,S0),qi(r,G.landmarks,M0),$c()});vs("calc-fix","click",z=>{Vt("form2","visible",!1),dy(),$c()}),vs("calc-fix2","click",z=>{D.style.visibility="hidden",D.childNodes.forEach(Q=>Q.nodeType===Node.TEXT_NODE&&Q.remove()),setTimeout(()=>{const Q=Gn(N);try{const G=uy(Q),oe=hy(G,X.concat(j).concat(Y));n.data=JSON.parse(JSON.stringify(oe));const ce=n.data;ce.stars.forEach(be=>be.id=ia()),ce.landmarks.forEach(be=>be.id=ia()),Vt("formtext","visible",!1),Rc(ce),qi(t,ce.stars,S0),qi(r,ce.landmarks,M0),$c()}catch(G){console.error(G),D.append(`${G}`),D.style.visibility="visible"}},1)}),vs("add-star","click",z=>{n.data.stars.push({id:ia(),name:e.value,alt:v.value,time:m.value}),qi(t,n.data.stars,S0)}),vs("add-landmark","click",z=>{const Q=i.value,G=b.value,oe=_.value,ce=s.value;n.data.landmarks.push({id:ia(),name:Q,lat:G,lon:oe,distance:ce}),qi(r,n.data.landmarks,M0)}),vs("save-csv","click",z=>{const Q=new Date,G=encodeURI("data:text/csv;charset=utf-8,"+ry(n)),oe=Zn("a",["href",G,"download",`worksheet-${Q.getFullYear()}-${1+Q.getMonth()}-${Q.getDate()}_${Q.getHours()}_${Q.getMinutes()}_${Q.getSeconds()}.csv`]);document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)}),Kn(f,"value-changed",z=>{n.water_opacity=f.value,n.water.opacity=n.water_opacity,n.water.needsUpdate=!0}),Kn(u,"value-changed",z=>{n.sky_rotation=Math.round(10*u.value)/10,n.skymap.rotation.y=n.sky_rotation*an,n.skymap.needsUpdate=!0}),Kn(a,"active-changed",z=>{n.constellations_visible=a.active,n.constellations_visible?n.skymap.material.map=n.constellations.a:n.skymap.material.map=n.constellations.b,n.skymap.needsUpdate=!0}),Kn(o,"active-changed",z=>{n.latlon_lines.visible=n.latlon_lines_visible=o.active,n.latlon_lines.needsUpdate=!0}),Kn(h,"active-changed",z=>{n.toggle_labels()}),Kn(l,"active-changed",z=>{Vt(E,"disabled",!l.active),Vt(S,"disabled",!l.active)});function $(z){n.sky_rotation+=z,360<=n.sky_rotation?n.sky_rotation-=360:n.sky_rotation<0&&(n.sky_rotation+=360),n.sky_rotation=Math.round(10*n.sky_rotation)/10,n.skymap.rotation.y=n.sky_rotation*an,n.skymap.needsUpdate=!0}Kn(N,"keyup",z=>z.stopPropagation()),Kn(N,"keydown",z=>z.stopPropagation()),Kn(document,"keyup",function(z){switch(z.code){case"KeyC":n.constellations_visible=!n.constellations_visible,a.active=n.constellations_visible,n.constellations_visible?n.skymap.material.map=n.constellations.a:n.skymap.material.map=n.constellations.b,n.skymap.needsUpdate=!0;break;case"KeyG":n.latlon_lines_visible=!n.latlon_lines_visible,n.latlon_lines.visible=n.latlon_lines_visible,o.active=n.latlon_lines_visible;break;case"KeyL":h.active=!h.active;break}}),Kn(document,"keydown",function(z){switch(z.code){case"KeyW":let Q=n.water_opacity+(z.shiftKey?-.01:.01);Q<0&&(Q=0),1<Q&&(Q=1),n.water_opacity=Q,f.value=Q,n.water.opacity=n.water_opacity,n.water.needsUpdate=!0;break;case"KeyR":$(z.shiftKey?-1:-.1);break;case"KeyT":$(z.shiftKey?1:.1);break}}),un("obs-date").shadowRoot.querySelector('input[type="date"]').style.colorScheme="dark";const k=un("obs-timezone");k.shadowRoot.querySelectorAll(".label kor-text").forEach(z=>z.style.flex="none"),Kn(k,"blur",z=>{const Q=k.value;k.shadowRoot.querySelector('input[type="number"]').value=Q});const L=document.getElementsByTagName("py-splashscreen");for(let z=L.length;0<z;L[--z].remove());un("canvas").style.display="block",un("page").style.display="block",un("container").style.display="block"}const Kr={},fy=`date: 2018-11-15
eye height: 2 meter
index error: 0.3'

star: Regulus
alt: 70° 48.7' 0"
time: 08:28:15

star: Arcturus
alt: 27° 9.0' 0"
time: 08:30:30

star: Dubhe
alt: 55° 18.4' 0" 
time: 08:32:15`;function Gu(){const n=new Date;Kr.data={date:{y:n.getFullYear(),m:1+n.getMonth(),d:n.getDay()},timezone:0,observer_height_meter:0,heading:0,speed_knots:0,dr_lat:0,dr_lon:0,index_error:0,watch_error:0,temperature_celsius:10,pressure_mbar:1010,compare_location:!1,actual_location:{lat:0,lon:0},method:"sextant",landmarks:[],stars:[]},Kr.worksheet=[],Kr.fix={gha:0},Kr.constellations_visible=!0,Kr.sky_rotation=0,Kr.latlon_lines_visible=!1,Kr.water_opacity=.666,Kr.default_free_text=fy}Gu();window.main=function(n){Kr.almanac=n,window.app_state=Kr,Gu(),k8(),py()};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const k0=window,Vu=k0.ShadowRoot&&(k0.ShadyCSS===void 0||k0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Cm=Symbol(),b1=new WeakMap;let my=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==Cm)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Vu&&e===void 0){const r=t!==void 0&&t.length===1;r&&(e=b1.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&b1.set(t,e))}return e}toString(){return this.cssText}};const gy=n=>new my(typeof n=="string"?n:n+"",void 0,Cm),vy=(n,e)=>{Vu?n.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{const r=document.createElement("style"),i=k0.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=t.cssText,n.appendChild(r)})},y1=Vu?n=>n:n=>n instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return gy(t)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Pc;const G0=window,x1=G0.trustedTypes,by=x1?x1.emptyScript:"",w1=G0.reactiveElementPolyfillSupport,su={toAttribute(n,e){switch(e){case Boolean:n=n?by:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,e){let t=n;switch(e){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},Rm=(n,e)=>e!==n&&(e==e||n==n),Lc={attribute:!0,type:String,converter:su,reflect:!1,hasChanged:Rm},au="finalized";let oa=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((t,r)=>{const i=this._$Ep(r,t);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,t=Lc){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,t);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(i){const s=this[e];this[t]=i,this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Lc}static finalize(){if(this.hasOwnProperty(au))return!1;this[au]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of r)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)t.unshift(y1(i))}else e!==void 0&&t.push(y1(e));return t}static _$Ep(e,t){const r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return vy(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=Lc){var i;const s=this.constructor._$Ep(e,r);if(s!==void 0&&r.reflect===!0){const l=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:su).toAttribute(t,r.type);this._$El=e,l==null?this.removeAttribute(s):this.setAttribute(s,l),this._$El=null}}_$AK(e,t){var r;const i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){const l=i.getPropertyOptions(s),o=typeof l.converter=="function"?{fromAttribute:l.converter}:((r=l.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?l.converter:su;this._$El=s,this[s]=o.fromAttribute(t,l.type),this._$El=null}}requestUpdate(e,t,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||Rm)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(r)):this._$Ek()}catch(i){throw t=!1,this._$Ek(),i}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};oa[au]=!0,oa.elementProperties=new Map,oa.elementStyles=[],oa.shadowRootOptions={mode:"open"},w1==null||w1({ReactiveElement:oa}),((Pc=G0.reactiveElementVersions)!==null&&Pc!==void 0?Pc:G0.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Dc;const V0=window,xa=V0.trustedTypes,_1=xa?xa.createPolicy("lit-html",{createHTML:n=>n}):void 0,ou="$lit$",Yi=`lit$${(Math.random()+"").slice(9)}$`,$m="?"+Yi,yy=`<${$m}>`,Rs=document,ro=()=>Rs.createComment(""),io=n=>n===null||typeof n!="object"&&typeof n!="function",Pm=Array.isArray,xy=n=>Pm(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",zc=`[ 	
\f\r]`,Ua=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,S1=/-->/g,M1=/>/g,bs=RegExp(`>|${zc}(?:([^\\s"'>=/]+)(${zc}*=${zc}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),E1=/'/g,T1=/"/g,Lm=/^(?:script|style|textarea|title)$/i,wy=n=>(e,...t)=>({_$litType$:n,strings:e,values:t}),Dm=wy(1),wa=Symbol.for("lit-noChange"),Pn=Symbol.for("lit-nothing"),A1=new WeakMap,_s=Rs.createTreeWalker(Rs,129,null,!1);function zm(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return _1!==void 0?_1.createHTML(e):e}const _y=(n,e)=>{const t=n.length-1,r=[];let i,s=e===2?"<svg>":"",l=Ua;for(let o=0;o<t;o++){const u=n[o];let a,h,f=-1,v=0;for(;v<u.length&&(l.lastIndex=v,h=l.exec(u),h!==null);)v=l.lastIndex,l===Ua?h[1]==="!--"?l=S1:h[1]!==void 0?l=M1:h[2]!==void 0?(Lm.test(h[2])&&(i=RegExp("</"+h[2],"g")),l=bs):h[3]!==void 0&&(l=bs):l===bs?h[0]===">"?(l=i??Ua,f=-1):h[1]===void 0?f=-2:(f=l.lastIndex-h[2].length,a=h[1],l=h[3]===void 0?bs:h[3]==='"'?T1:E1):l===T1||l===E1?l=bs:l===S1||l===M1?l=Ua:(l=bs,i=void 0);const m=l===bs&&n[o+1].startsWith("/>")?" ":"";s+=l===Ua?u+yy:f>=0?(r.push(a),u.slice(0,f)+ou+u.slice(f)+Yi+m):u+Yi+(f===-2?(r.push(void 0),o):m)}return[zm(n,s+(n[t]||"<?>")+(e===2?"</svg>":"")),r]};class so{constructor({strings:e,_$litType$:t},r){let i;this.parts=[];let s=0,l=0;const o=e.length-1,u=this.parts,[a,h]=_y(e,t);if(this.el=so.createElement(a,r),_s.currentNode=this.el.content,t===2){const f=this.el.content,v=f.firstChild;v.remove(),f.append(...v.childNodes)}for(;(i=_s.nextNode())!==null&&u.length<o;){if(i.nodeType===1){if(i.hasAttributes()){const f=[];for(const v of i.getAttributeNames())if(v.endsWith(ou)||v.startsWith(Yi)){const m=h[l++];if(f.push(v),m!==void 0){const b=i.getAttribute(m.toLowerCase()+ou).split(Yi),_=/([.?@])?(.*)/.exec(m);u.push({type:1,index:s,name:_[2],strings:b,ctor:_[1]==="."?My:_[1]==="?"?Ty:_[1]==="@"?Ay:nl})}else u.push({type:6,index:s})}for(const v of f)i.removeAttribute(v)}if(Lm.test(i.tagName)){const f=i.textContent.split(Yi),v=f.length-1;if(v>0){i.textContent=xa?xa.emptyScript:"";for(let m=0;m<v;m++)i.append(f[m],ro()),_s.nextNode(),u.push({type:2,index:++s});i.append(f[v],ro())}}}else if(i.nodeType===8)if(i.data===$m)u.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(Yi,f+1))!==-1;)u.push({type:7,index:s}),f+=Yi.length-1}s++}}static createElement(e,t){const r=Rs.createElement("template");return r.innerHTML=e,r}}function _a(n,e,t=n,r){var i,s,l,o;if(e===wa)return e;let u=r!==void 0?(i=t._$Co)===null||i===void 0?void 0:i[r]:t._$Cl;const a=io(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==a&&((s=u==null?void 0:u._$AO)===null||s===void 0||s.call(u,!1),a===void 0?u=void 0:(u=new a(n),u._$AT(n,t,r)),r!==void 0?((l=(o=t)._$Co)!==null&&l!==void 0?l:o._$Co=[])[r]=u:t._$Cl=u),u!==void 0&&(e=_a(n,u._$AS(n,e.values),u,r)),e}class Sy{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:r},parts:i}=this._$AD,s=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Rs).importNode(r,!0);_s.currentNode=s;let l=_s.nextNode(),o=0,u=0,a=i[0];for(;a!==void 0;){if(o===a.index){let h;a.type===2?h=new yo(l,l.nextSibling,this,e):a.type===1?h=new a.ctor(l,a.name,a.strings,this,e):a.type===6&&(h=new ky(l,this,e)),this._$AV.push(h),a=i[++u]}o!==(a==null?void 0:a.index)&&(l=_s.nextNode(),o++)}return _s.currentNode=Rs,s}v(e){let t=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class yo{constructor(e,t,r,i){var s;this.type=2,this._$AH=Pn,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=i,this._$Cp=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=_a(this,e,t),io(e)?e===Pn||e==null||e===""?(this._$AH!==Pn&&this._$AR(),this._$AH=Pn):e!==this._$AH&&e!==wa&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):xy(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Pn&&io(this._$AH)?this._$AA.nextSibling.data=e:this.$(Rs.createTextNode(e)),this._$AH=e}g(e){var t;const{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=so.createElement(zm(i.h,i.h[0]),this.options)),i);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(r);else{const l=new Sy(s,this),o=l.u(this.options);l.v(r),this.$(o),this._$AH=l}}_$AC(e){let t=A1.get(e.strings);return t===void 0&&A1.set(e.strings,t=new so(e)),t}T(e){Pm(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,i=0;for(const s of e)i===t.length?t.push(r=new yo(this.k(ro()),this.k(ro()),this,this.options)):r=t[i],r._$AI(s),i++;i<t.length&&(this._$AR(r&&r._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,t);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class nl{constructor(e,t,r,i,s){this.type=1,this._$AH=Pn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Pn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,i){const s=this.strings;let l=!1;if(s===void 0)e=_a(this,e,t,0),l=!io(e)||e!==this._$AH&&e!==wa,l&&(this._$AH=e);else{const o=e;let u,a;for(e=s[0],u=0;u<s.length-1;u++)a=_a(this,o[r+u],t,u),a===wa&&(a=this._$AH[u]),l||(l=!io(a)||a!==this._$AH[u]),a===Pn?e=Pn:e!==Pn&&(e+=(a??"")+s[u+1]),this._$AH[u]=a}l&&!i&&this.j(e)}j(e){e===Pn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class My extends nl{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Pn?void 0:e}}const Ey=xa?xa.emptyScript:"";class Ty extends nl{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Pn?this.element.setAttribute(this.name,Ey):this.element.removeAttribute(this.name)}}class Ay extends nl{constructor(e,t,r,i,s){super(e,t,r,i,s),this.type=5}_$AI(e,t=this){var r;if((e=(r=_a(this,e,t,0))!==null&&r!==void 0?r:Pn)===wa)return;const i=this._$AH,s=e===Pn&&i!==Pn||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,l=e!==Pn&&(i===Pn||s);s&&this.element.removeEventListener(this.name,this,i),l&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class ky{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){_a(this,e)}}const k1=V0.litHtmlPolyfillSupport;k1==null||k1(so,yo),((Dc=V0.litHtmlVersions)!==null&&Dc!==void 0?Dc:V0.litHtmlVersions=[]).push("2.8.0");const Cy=(n,e,t)=>{var r,i;const s=(r=t==null?void 0:t.renderBefore)!==null&&r!==void 0?r:e;let l=s._$litPart$;if(l===void 0){const o=(i=t==null?void 0:t.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=l=new yo(e.insertBefore(ro(),o),o,void 0,t??{})}return l._$AI(n),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Nc,Oc;class da extends oa{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Cy(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return wa}}da.finalized=!0,da._$litElement$=!0,(Nc=globalThis.litElementHydrateSupport)===null||Nc===void 0||Nc.call(globalThis,{LitElement:da});const C1=globalThis.litElementPolyfillSupport;C1==null||C1({LitElement:da});((Oc=globalThis.litElementVersions)!==null&&Oc!==void 0?Oc:globalThis.litElementVersions=[]).push("3.3.3");(function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var l in r)t.d(s,l,(function(o){return r[o]}).bind(null,l));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=63)})({0:function(n,e,t){t.d(e,"b",function(){return u}),t.d(e,"c",function(){return r.a}),t.d(e,"a",function(){return ae});var r=t(3);const i=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol();class l{constructor(k,L){if(L!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=k}get styleSheet(){return i&&this.t===void 0&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}}const o=new Map,u=($,...k)=>{const L=k.reduce((Q,G,oe)=>Q+(ce=>{if(ce instanceof l)return ce.cssText;if(typeof ce=="number")return ce;throw Error(`Value passed to 'css' function must be a 'css' function result: ${ce}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)})(G)+$[oe+1],$[0]);let z=o.get(L);return z===void 0&&o.set(L,z=new l(L,s)),z},a=i?$=>$:$=>$ instanceof CSSStyleSheet?(k=>{let L="";for(const z of k.cssRules)L+=z.cssText;return(z=>new l(z+"",s))(L)})($):$;var h,f,v,m;const b={toAttribute($,k){switch(k){case Boolean:$=$?"":null;break;case Object:case Array:$=$==null?$:JSON.stringify($)}return $},fromAttribute($,k){let L=$;switch(k){case Boolean:L=$!==null;break;case Number:L=$===null?null:Number($);break;case Object:case Array:try{L=JSON.parse($)}catch{L=null}}return L}},_=($,k)=>k!==$&&(k==k||$==$),E={attribute:!0,type:String,converter:b,reflect:!1,hasChanged:_};class S extends HTMLElement{constructor(){super(),this.Πi=new Map,this.Πo=void 0,this.Πl=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.Πh=null,this.u()}static addInitializer(k){var L;(L=this.v)!==null&&L!==void 0||(this.v=[]),this.v.push(k)}static get observedAttributes(){this.finalize();const k=[];return this.elementProperties.forEach((L,z)=>{const Q=this.Πp(z,L);Q!==void 0&&(this.Πm.set(Q,z),k.push(Q))}),k}static createProperty(k,L=E){if(L.state&&(L.attribute=!1),this.finalize(),this.elementProperties.set(k,L),!L.noAccessor&&!this.prototype.hasOwnProperty(k)){const z=typeof k=="symbol"?Symbol():"__"+k,Q=this.getPropertyDescriptor(k,z,L);Q!==void 0&&Object.defineProperty(this.prototype,k,Q)}}static getPropertyDescriptor(k,L,z){return{get(){return this[L]},set(Q){const G=this[k];this[L]=Q,this.requestUpdate(k,G,z)},configurable:!0,enumerable:!0}}static getPropertyOptions(k){return this.elementProperties.get(k)||E}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const k=Object.getPrototypeOf(this);if(k.finalize(),this.elementProperties=new Map(k.elementProperties),this.Πm=new Map,this.hasOwnProperty("properties")){const L=this.properties,z=[...Object.getOwnPropertyNames(L),...Object.getOwnPropertySymbols(L)];for(const Q of z)this.createProperty(Q,L[Q])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(k){const L=[];if(Array.isArray(k)){const z=new Set(k.flat(1/0).reverse());for(const Q of z)L.unshift(a(Q))}else k!==void 0&&L.push(a(k));return L}static Πp(k,L){const z=L.attribute;return z===!1?void 0:typeof z=="string"?z:typeof k=="string"?k.toLowerCase():void 0}u(){var k;this.Πg=new Promise(L=>this.enableUpdating=L),this.L=new Map,this.Π_(),this.requestUpdate(),(k=this.constructor.v)===null||k===void 0||k.forEach(L=>L(this))}addController(k){var L,z;((L=this.ΠU)!==null&&L!==void 0?L:this.ΠU=[]).push(k),this.renderRoot!==void 0&&this.isConnected&&((z=k.hostConnected)===null||z===void 0||z.call(k))}removeController(k){var L;(L=this.ΠU)===null||L===void 0||L.splice(this.ΠU.indexOf(k)>>>0,1)}Π_(){this.constructor.elementProperties.forEach((k,L)=>{this.hasOwnProperty(L)&&(this.Πi.set(L,this[L]),delete this[L])})}createRenderRoot(){var k;const L=(k=this.shadowRoot)!==null&&k!==void 0?k:this.attachShadow(this.constructor.shadowRootOptions);return((z,Q)=>{i?z.adoptedStyleSheets=Q.map(G=>G instanceof CSSStyleSheet?G:G.styleSheet):Q.forEach(G=>{const oe=document.createElement("style");oe.textContent=G.cssText,z.appendChild(oe)})})(L,this.constructor.elementStyles),L}connectedCallback(){var k;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(k=this.ΠU)===null||k===void 0||k.forEach(L=>{var z;return(z=L.hostConnected)===null||z===void 0?void 0:z.call(L)}),this.Πl&&(this.Πl(),this.Πo=this.Πl=void 0)}enableUpdating(k){}disconnectedCallback(){var k;(k=this.ΠU)===null||k===void 0||k.forEach(L=>{var z;return(z=L.hostDisconnected)===null||z===void 0?void 0:z.call(L)}),this.Πo=new Promise(L=>this.Πl=L)}attributeChangedCallback(k,L,z){this.K(k,z)}Πj(k,L,z=E){var Q,G;const oe=this.constructor.Πp(k,z);if(oe!==void 0&&z.reflect===!0){const ce=((G=(Q=z.converter)===null||Q===void 0?void 0:Q.toAttribute)!==null&&G!==void 0?G:b.toAttribute)(L,z.type);this.Πh=k,ce==null?this.removeAttribute(oe):this.setAttribute(oe,ce),this.Πh=null}}K(k,L){var z,Q,G;const oe=this.constructor,ce=oe.Πm.get(k);if(ce!==void 0&&this.Πh!==ce){const be=oe.getPropertyOptions(ce),Ne=be.converter,$e=(G=(Q=(z=Ne)===null||z===void 0?void 0:z.fromAttribute)!==null&&Q!==void 0?Q:typeof Ne=="function"?Ne:null)!==null&&G!==void 0?G:b.fromAttribute;this.Πh=ce,this[ce]=$e(L,be.type),this.Πh=null}}requestUpdate(k,L,z){let Q=!0;k!==void 0&&(((z=z||this.constructor.getPropertyOptions(k)).hasChanged||_)(this[k],L)?(this.L.has(k)||this.L.set(k,L),z.reflect===!0&&this.Πh!==k&&(this.Πk===void 0&&(this.Πk=new Map),this.Πk.set(k,z))):Q=!1),!this.isUpdatePending&&Q&&(this.Πg=this.Πq())}async Πq(){this.isUpdatePending=!0;try{for(await this.Πg;this.Πo;)await this.Πo}catch(L){Promise.reject(L)}const k=this.performUpdate();return k!=null&&await k,!this.isUpdatePending}performUpdate(){var k;if(!this.isUpdatePending)return;this.hasUpdated,this.Πi&&(this.Πi.forEach((Q,G)=>this[G]=Q),this.Πi=void 0);let L=!1;const z=this.L;try{L=this.shouldUpdate(z),L?(this.willUpdate(z),(k=this.ΠU)===null||k===void 0||k.forEach(Q=>{var G;return(G=Q.hostUpdate)===null||G===void 0?void 0:G.call(Q)}),this.update(z)):this.Π$()}catch(Q){throw L=!1,this.Π$(),Q}L&&this.E(z)}willUpdate(k){}E(k){var L;(L=this.ΠU)===null||L===void 0||L.forEach(z=>{var Q;return(Q=z.hostUpdated)===null||Q===void 0?void 0:Q.call(z)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(k)),this.updated(k)}Π$(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.Πg}shouldUpdate(k){return!0}update(k){this.Πk!==void 0&&(this.Πk.forEach((L,z)=>this.Πj(z,this[z],L)),this.Πk=void 0),this.Π$()}updated(k){}firstUpdated(k){}}var N,D,F,X,j,Y;S.finalized=!0,S.shadowRootOptions={mode:"open"},(f=(h=globalThis).reactiveElementPlatformSupport)===null||f===void 0||f.call(h,{ReactiveElement:S}),((v=(m=globalThis).reactiveElementVersions)!==null&&v!==void 0?v:m.reactiveElementVersions=[]).push("1.0.0-rc.1"),((N=(Y=globalThis).litElementVersions)!==null&&N!==void 0?N:Y.litElementVersions=[]).push("3.0.0-rc.1");class ae extends S{constructor(){super(...arguments),this.renderOptions={host:this},this.Φt=void 0}createRenderRoot(){var k,L;const z=super.createRenderRoot();return(k=(L=this.renderOptions).renderBefore)!==null&&k!==void 0||(L.renderBefore=z.firstChild),z}update(k){const L=this.render();super.update(k),this.Φt=Object(r.d)(L,this.renderRoot,this.renderOptions)}connectedCallback(){var k;super.connectedCallback(),(k=this.Φt)===null||k===void 0||k.setConnected(!0)}disconnectedCallback(){var k;super.disconnectedCallback(),(k=this.Φt)===null||k===void 0||k.setConnected(!1)}render(){return r.b}}ae.finalized=!0,ae._$litElement$=!0,(F=(D=globalThis).litElementHydrateSupport)===null||F===void 0||F.call(D,{LitElement:ae}),(j=(X=globalThis).litElementPlatformSupport)===null||j===void 0||j.call(X,{LitElement:ae})},1:function(n,e,t){t.d(e,"a",function(){return i}),t.d(e,"b",function(){return s});const r=(l,o)=>o.kind==="method"&&o.descriptor&&!("value"in o.descriptor)?{...o,finisher(u){u.createProperty(o.key,l)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:o.key,initializer(){typeof o.initializer=="function"&&(this[o.key]=o.initializer.call(this))},finisher(u){u.createProperty(o.key,l)}};function i(l){return(o,u)=>u!==void 0?((a,h,f)=>{h.constructor.createProperty(f,a)})(l,o,u):r(l,o)}function s(l){return i({...l,state:!0,attribute:!1})}},2:function(n,e,t){t.d(e,"a",function(){return r});const r=t(0).b`
  /* scrollbar */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
    background-color: transparent;
    visibility: hidden;
  }
  *::-webkit-scrollbar-track {
    background-color: rgba(var(--neutral-1), 0.05);
    border-radius: 8px;
  }
  *::-webkit-scrollbar-thumb {
    background-color: rgba(var(--neutral-1), 0.1);
    border-radius: 8px;
  }
  *::-webkit-scrollbar-thumb:active,
  *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(var(--neutral-1), 0.2);
  }
`},3:function(n,e,t){var r,i,s,l;t.d(e,"a",function(){return $}),t.d(e,"b",function(){return k}),t.d(e,"c",function(){return L}),t.d(e,"d",function(){return Q});const o=globalThis.trustedTypes,u=o?o.createPolicy("lit-html",{createHTML:ke=>ke}):void 0,a=`lit$${(Math.random()+"").slice(9)}$`,h="?"+a,f=`<${h}>`,v=document,m=(ke="")=>v.createComment(ke),b=ke=>ke===null||typeof ke!="object"&&typeof ke!="function",_=Array.isArray,E=ke=>{var H;return _(ke)||typeof((H=ke)===null||H===void 0?void 0:H[Symbol.iterator])=="function"},S=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,N=/-->/g,D=/>/g,F=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,X=/'/g,j=/"/g,Y=/^(?:script|style|textarea)$/i,ae=ke=>(H,...K)=>({_$litType$:ke,strings:H,values:K}),$=ae(1),k=Symbol.for("lit-noChange"),L=Symbol.for("lit-nothing"),z=new WeakMap,Q=(ke,H,K)=>{var fe,xe;const Ge=(fe=K==null?void 0:K.renderBefore)!==null&&fe!==void 0?fe:H;let Ee=Ge._$litPart$;if(Ee===void 0){const ue=(xe=K==null?void 0:K.renderBefore)!==null&&xe!==void 0?xe:null;Ge._$litPart$=Ee=new $e(H.insertBefore(m(),ue),ue,void 0,K)}return Ee.I(ke),Ee},G=v.createTreeWalker(v,129,null,!1),oe=(ke,H)=>{const K=ke.length-1,fe=[];let xe,Ge=H===2?"<svg>":"",Ee=S;for(let Ue=0;Ue<K;Ue++){const Pe=ke[Ue];let ot,ze,Oe=-1,Ye=0;for(;Ye<Pe.length&&(Ee.lastIndex=Ye,ze=Ee.exec(Pe),ze!==null);)Ye=Ee.lastIndex,Ee===S?ze[1]==="!--"?Ee=N:ze[1]!==void 0?Ee=D:ze[2]!==void 0?(Y.test(ze[2])&&(xe=RegExp("</"+ze[2],"g")),Ee=F):ze[3]!==void 0&&(Ee=F):Ee===F?ze[0]===">"?(Ee=xe??S,Oe=-1):ze[1]===void 0?Oe=-2:(Oe=Ee.lastIndex-ze[2].length,ot=ze[1],Ee=ze[3]===void 0?F:ze[3]==='"'?j:X):Ee===j||Ee===X?Ee=F:Ee===N||Ee===D?Ee=S:(Ee=F,xe=void 0);const it=Ee===F&&ke[Ue+1].startsWith("/>")?" ":"";Ge+=Ee===S?Pe+f:Oe>=0?(fe.push(ot),Pe.slice(0,Oe)+"$lit$"+Pe.slice(Oe)+a+it):Pe+a+(Oe===-2?(fe.push(void 0),Ue):it)}const ue=Ge+(ke[K]||"<?>")+(H===2?"</svg>":"");return[u!==void 0?u.createHTML(ue):ue,fe]};class ce{constructor({strings:H,_$litType$:K},fe){let xe;this.parts=[];let Ge=0,Ee=0;const ue=H.length-1,Ue=this.parts,[Pe,ot]=oe(H,K);if(this.el=ce.createElement(Pe,fe),G.currentNode=this.el.content,K===2){const ze=this.el.content,Oe=ze.firstChild;Oe.remove(),ze.append(...Oe.childNodes)}for(;(xe=G.nextNode())!==null&&Ue.length<ue;){if(xe.nodeType===1){if(xe.hasAttributes()){const ze=[];for(const Oe of xe.getAttributeNames())if(Oe.endsWith("$lit$")||Oe.startsWith(a)){const Ye=ot[Ee++];if(ze.push(Oe),Ye!==void 0){const it=xe.getAttribute(Ye.toLowerCase()+"$lit$").split(a),gt=/([.?@])?(.*)/.exec(Ye);Ue.push({type:1,index:Ge,name:gt[2],strings:it,ctor:gt[1]==="."?ge:gt[1]==="?"?we:gt[1]==="@"?He:Re})}else Ue.push({type:6,index:Ge})}for(const Oe of ze)xe.removeAttribute(Oe)}if(Y.test(xe.tagName)){const ze=xe.textContent.split(a),Oe=ze.length-1;if(Oe>0){xe.textContent=o?o.emptyScript:"";for(let Ye=0;Ye<Oe;Ye++)xe.append(ze[Ye],m()),G.nextNode(),Ue.push({type:2,index:++Ge});xe.append(ze[Oe],m())}}}else if(xe.nodeType===8)if(xe.data===h)Ue.push({type:2,index:Ge});else{let ze=-1;for(;(ze=xe.data.indexOf(a,ze+1))!==-1;)Ue.push({type:7,index:Ge}),ze+=a.length-1}Ge++}}static createElement(H,K){const fe=v.createElement("template");return fe.innerHTML=H,fe}}function be(ke,H,K=ke,fe){var xe,Ge,Ee,ue;if(H===k)return H;let Ue=fe!==void 0?(xe=K.Σi)===null||xe===void 0?void 0:xe[fe]:K.Σo;const Pe=b(H)?void 0:H._$litDirective$;return(Ue==null?void 0:Ue.constructor)!==Pe&&((Ge=Ue==null?void 0:Ue.O)===null||Ge===void 0||Ge.call(Ue,!1),Pe===void 0?Ue=void 0:(Ue=new Pe(ke),Ue.T(ke,K,fe)),fe!==void 0?((Ee=(ue=K).Σi)!==null&&Ee!==void 0?Ee:ue.Σi=[])[fe]=Ue:K.Σo=Ue),Ue!==void 0&&(H=be(ke,Ue.S(ke,H.values),Ue,fe)),H}class Ne{constructor(H,K){this.l=[],this.N=void 0,this.D=H,this.M=K}u(H){var K;const{el:{content:fe},parts:xe}=this.D,Ge=((K=H==null?void 0:H.creationScope)!==null&&K!==void 0?K:v).importNode(fe,!0);G.currentNode=Ge;let Ee=G.nextNode(),ue=0,Ue=0,Pe=xe[0];for(;Pe!==void 0;){if(ue===Pe.index){let ot;Pe.type===2?ot=new $e(Ee,Ee.nextSibling,this,H):Pe.type===1?ot=new Pe.ctor(Ee,Pe.name,Pe.strings,this,H):Pe.type===6&&(ot=new Je(Ee,this,H)),this.l.push(ot),Pe=xe[++Ue]}ue!==(Pe==null?void 0:Pe.index)&&(Ee=G.nextNode(),ue++)}return Ge}v(H){let K=0;for(const fe of this.l)fe!==void 0&&(fe.strings!==void 0?(fe.I(H,fe,K),K+=fe.strings.length-2):fe.I(H[K])),K++}}class $e{constructor(H,K,fe,xe){this.type=2,this.N=void 0,this.A=H,this.B=K,this.M=fe,this.options=xe}setConnected(H){var K;(K=this.P)===null||K===void 0||K.call(this,H)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(H,K=this){H=be(this,H,K),b(H)?H===L||H==null||H===""?(this.H!==L&&this.R(),this.H=L):H!==this.H&&H!==k&&this.m(H):H._$litType$!==void 0?this._(H):H.nodeType!==void 0?this.$(H):E(H)?this.g(H):this.m(H)}k(H,K=this.B){return this.A.parentNode.insertBefore(H,K)}$(H){this.H!==H&&(this.R(),this.H=this.k(H))}m(H){const K=this.A.nextSibling;K!==null&&K.nodeType===3&&(this.B===null?K.nextSibling===null:K===this.B.previousSibling)?K.data=H:this.$(v.createTextNode(H)),this.H=H}_(H){var K;const{values:fe,_$litType$:xe}=H,Ge=typeof xe=="number"?this.C(H):(xe.el===void 0&&(xe.el=ce.createElement(xe.h,this.options)),xe);if(((K=this.H)===null||K===void 0?void 0:K.D)===Ge)this.H.v(fe);else{const Ee=new Ne(Ge,this),ue=Ee.u(this.options);Ee.v(fe),this.$(ue),this.H=Ee}}C(H){let K=z.get(H.strings);return K===void 0&&z.set(H.strings,K=new ce(H)),K}g(H){_(this.H)||(this.H=[],this.R());const K=this.H;let fe,xe=0;for(const Ge of H)xe===K.length?K.push(fe=new $e(this.k(m()),this.k(m()),this,this.options)):fe=K[xe],fe.I(Ge),xe++;xe<K.length&&(this.R(fe&&fe.B.nextSibling,xe),K.length=xe)}R(H=this.A.nextSibling,K){var fe;for((fe=this.P)===null||fe===void 0||fe.call(this,!1,!0,K);H&&H!==this.B;){const xe=H.nextSibling;H.remove(),H=xe}}}class Re{constructor(H,K,fe,xe,Ge){this.type=1,this.H=L,this.N=void 0,this.V=void 0,this.element=H,this.name=K,this.M=xe,this.options=Ge,fe.length>2||fe[0]!==""||fe[1]!==""?(this.H=Array(fe.length-1).fill(L),this.strings=fe):this.H=L}get tagName(){return this.element.tagName}I(H,K=this,fe,xe){const Ge=this.strings;let Ee=!1;if(Ge===void 0)H=be(this,H,K,0),Ee=!b(H)||H!==this.H&&H!==k,Ee&&(this.H=H);else{const ue=H;let Ue,Pe;for(H=Ge[0],Ue=0;Ue<Ge.length-1;Ue++)Pe=be(this,ue[fe+Ue],K,Ue),Pe===k&&(Pe=this.H[Ue]),Ee||(Ee=!b(Pe)||Pe!==this.H[Ue]),Pe===L?H=L:H!==L&&(H+=(Pe??"")+Ge[Ue+1]),this.H[Ue]=Pe}Ee&&!xe&&this.W(H)}W(H){H===L?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,H??"")}}class ge extends Re{constructor(){super(...arguments),this.type=3}W(H){this.element[this.name]=H===L?void 0:H}}class we extends Re{constructor(){super(...arguments),this.type=4}W(H){H&&H!==L?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class He extends Re{constructor(){super(...arguments),this.type=5}I(H,K=this){var fe;if((H=(fe=be(this,H,K,0))!==null&&fe!==void 0?fe:L)===k)return;const xe=this.H,Ge=H===L&&xe!==L||H.capture!==xe.capture||H.once!==xe.once||H.passive!==xe.passive,Ee=H!==L&&(xe===L||Ge);Ge&&this.element.removeEventListener(this.name,this,xe),Ee&&this.element.addEventListener(this.name,this,H),this.H=H}handleEvent(H){var K,fe;typeof this.H=="function"?this.H.call((fe=(K=this.options)===null||K===void 0?void 0:K.host)!==null&&fe!==void 0?fe:this.element,H):this.H.handleEvent(H)}}class Je{constructor(H,K,fe){this.element=H,this.type=6,this.N=void 0,this.V=void 0,this.M=K,this.options=fe}I(H){be(this,H)}}(i=(r=globalThis).litHtmlPlatformSupport)===null||i===void 0||i.call(r,ce,$e),((s=(l=globalThis).litHtmlVersions)!==null&&s!==void 0?s:l.litHtmlVersions=[]).push("2.0.0-rc.2")},4:function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b};class o extends r.a{constructor(){super(...arguments),this.size="m"}static get styles(){return[s.a,r.b`
        :host {
          font-family: 'md-icons';
          line-height: 1;
          -webkit-font-smoothing: auto;
          text-rendering: optimizeLegibility;
          -moz-osx-font-smoothing: grayscale;
          font-feature-settings: 'liga';
          opacity: 0.9;
          color: var(--text-1);
          transition: var(--transition-1);
          height: max-content;
          width: max-content;
          min-height: max-content;
          min-width: max-content;
          overflow: hidden;
          background-repeat: no-repeat;
          background-position: center;
          background-size: contain;
        }
        :host([button]) {
          opacity: 0.6;
          cursor: pointer;
        }
        :host([disabled]) {
          pointer-events: none;
          opacity: 0.2;
        }
        /* size */
        :host([size='xl']) {
          height: 48px;
          width: 48px;
          font-size: 48px;
        }
        :host([size='l']) {
          height: 32px;
          width: 32px;
          font-size: 32px;
        }
        :host([size='m']) {
          height: 24px;
          width: 24px;
          font-size: 24px;
        }
        :host([size='s']) {
          height: 16px;
          width: 16px;
          font-size: 16px;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host([button]:hover:not(:active)) {
            opacity: 0.9;
          }
        }
      `]}render(){var a;return r.c` ${!((a=this.icon)===null||a===void 0)&&a.indexOf("url")?r.c` ${this.icon} `:""}`}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed")),a=="color"&&this.color?this.style.color=this.color:a=="icon"&&f.indexOf("url")>-1&&this.setBackgroundImage(f)}setBackgroundImage(a){this.style.backgroundImage=a}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"color",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"size",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"button",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"disabled",void 0),window.customElements.get("kor-icon")||window.customElements.define("kor-icon",o)},49:function(n,e,t){t.d(e,"a",function(){return a});var r=t(0),i=t(3);const s=h=>h??i.c;var l=t(1),o=t(2),u=(t(9),t(5),function(h,f,v,m){var b,_=arguments.length,E=_<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,v):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,f,v,m);else for(var S=h.length-1;S>=0;S--)(b=h[S])&&(E=(_<3?b(E):_>3?b(f,v,E):b(f,v))||E);return _>3&&E&&Object.defineProperty(f,v,E),E});class a extends r.a{constructor(){super(),this.type="text",this.autofocus=!1,this.step=1,this.addEventListener("click",f=>{var v,m;this.active&&this.type==="select"?this.closeSelectMenu(f):this.active||(this.active=!0,this.type==="select"||this.disabled||this.readonly||(m=(v=this.shadowRoot)===null||v===void 0?void 0:v.querySelector("input"))===null||m===void 0||m.focus())})}static get styles(){return[o.a,r.b`
        :host {
          display: flex;
          align-items: center;
          min-height: 40px;
          border-width: 0px 0px 1px 0px;
          border-style: solid;
          border-color: rgba(var(--neutral-1), 0.2);
          border-radius: 2px;
          box-sizing: border-box;
          padding: 0 8px;
          width: 100%;
          overflow: visible;
          background-color: rgba(var(--neutral-1), 0.05);
          position: relative;
        }
        :host,
        .label,
        input {
          transition: var(--transition-1);
        }
        .center {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          overflow: hidden;
        }
        input {
          background: none;
          border: none;
          box-shadow: none;
          padding: 0px;
          outline: none;
          -webkit-appearance: none;
          font: var(--body-1);
          color: var(--text-1);
          max-height: 16px;
        }
        input[type='number']::-webkit-inner-spin-button,
        input[type='number']::-webkit-outer-spin-button,
        input[type='search']::-webkit-search-decoration,
        input[type='search']::-webkit-search-cancel-button,
        input[type='search']::-webkit-search-results-button,
        input[type='search']::-webkit-search-results-decoration {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type='number'] {
          -moz-appearance: textfield;
        }
        /* active */
        :host([active]) {
          border-color: rgb(var(--accent-1));
        }
        :host([active]) .label {
          color: rgb(var(--accent-1));
        }
        /* disabled */
        :host([disabled]) {
          opacity: 0.2;
        }
        :host([disabled]),
        :host([readonly]) {
          pointer-events: none;
        }
        /* readonly */
        :host([readonly]) {
          background: transparent;
        }
        /* condensed */
        :host([condensed]) {
          min-height: 32px;
        }
        :host([condensed][value]:not([value=''])) .label,
        :host([condensed][active]) .label {
          display: none;
        }
        /* icon */
        :host([icon]) .icon {
          margin-right: var(--spacing-s);
        }
        /* label */
        .label {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          font: var(--body-1);
          color: var(--text-2);
          pointer-events: none;
        }
        :host([value]:not([value=''])) .label,
        :host([active]) .label {
          font: var(--body-2);
        }
        :host(:not([value]):not([active]):not([type='date'])) input,
        :host([value='']:not([active]):not([type='date'])) input {
          max-height: 0px;
        }
        input,
        .label {
          line-height: 16px;
        }
        /* clear */
        .clear-icon {
          transition: var(--transition-1), 0.1s opacity ease-out 0.1s;
        }
        :host(:not(:hover):not([active])) .clear-icon {
          transition: var(--transition-1), 0.1s width ease-out 0.1s,
            0.1s margin ease-out 0.1s;
          font-size: 0;
          max-width: 0px;
          max-height: 0px;
          opacity: 0;
          margin-left: 0;
        }
        /* status */
        .clear-icon,
        .status-icon,
        .increment-icon,
        .select-icon,
        slot[name='functions']::slotted(*) {
          margin-left: var(--spacing-s);
        }
        .status-icon[icon='cancel'] {
          color: rgb(var(--functional-red));
        }
        .status-icon[icon='error'] {
          color: rgb(var(--functional-yellow));
        }
        .status-icon[icon='check_circle'] {
          color: rgb(var(--functional-green));
        }
        /* select */
        :host([type='select']),
        :host([type='select']) * {
          cursor: pointer !important;
        }
        :host([type='text']) .center,
        :host([type='number']) .center {
          cursor: text;
        }
        :host([active]) .select-icon {
          transform: rotate(180deg);
        }
        .select-menu {
          position: fixed;
          max-height: 240px;
          z-index: 3;
          padding: 0px var(--spacing-l);
          background-color: rgb(var(--base-4));
        }
        slot:not([name]) {
          display: block;
          margin: 0 calc(var(--spacing-s) * -1);
        }
        slot:not([name])::slotted(*) {
          margin-bottom: 0;
        }
        /* date */
        .date-icon {
          margin-left: -24px;
          pointer-events: none;
        }
        :host([type='date']) ::-webkit-calendar-picker-indicator {
          background: unset;
        }
        /* hover inputs */
        @media (hover: hover) {
          :host(:hover:not([active])) {
            border-color: rgba(var(--neutral-1), 0.4);
          }
        }
      `]}render(){return r.c`
      ${this.icon?r.c` <kor-icon class="icon" icon="${this.icon}"></kor-icon> `:""}
      <div class="center">
        ${this.label?r.c` <label class="label">${this.label}</label> `:""}
        <input
          .type="${this.type}"
          .value="${this.value?this.value:""}"
          .step="${this.step.toString()}"
          ?autofocus="${this.autofocus}"
          ?readonly="${this.readonly||this.disabled||this.type==="select"}"
          min="${s(this.min)}"
          max="${s(this.max)}"
          pattern="${s(this.pattern)}"
          name="${s(this.name)}"
          @input="${this.handleChange}"
          @focus="${()=>this.type==="select"||this.active?"":this.active=!0}"
          @blur="${this.handleBlur}"
        />
      </div>
      <!-- select -->
      ${this.type==="select"?r.c`
            <kor-icon
              button
              class="select-icon"
              icon="arrow_drop_down"
            ></kor-icon>
            ${this.active?r.c`
                  <kor-card
                    @click="${f=>{this.active=!1,f.stopPropagation()}}"
                    @wheel="${f=>f.stopPropagation()}"
                    class="select-menu"
                    .style="
                  top: ${this.getMenuStyles().top};
                  left: ${this.getMenuStyles().left};
                  width: ${this.getMenuStyles().width};
                "
                  >
                    <slot @slotchange="${this.handleItems}"></slot>
                  </kor-card>
                `:""}
          `:""}
      <!-- date -->
      ${this.type==="date"?r.c` <kor-icon button class="date-icon" icon="event"></kor-icon> `:""}
      <!-- clear -->
      ${this.disabled||this.readonly||!this.value||this.noClear||this.type==="select"?"":r.c`
            <kor-icon
              button
              class="clear-icon"
              icon="close"
              @click="${this.handleClear}"
            ></kor-icon>
          `}
      <!-- status -->
      ${this.status?r.c`
            <kor-icon
              class="status-icon"
              .icon="${this.getStatusIcon()}"
            ></kor-icon>
          `:""}
      <!-- number increment -->
      ${this.type!=="number"||this.readonly?"":r.c`
            <kor-icon
              button
              class="increment-icon"
              icon="keyboard_arrow_left"
              @click="${()=>this.handleIncrement("left")}"
            ></kor-icon>
            <kor-icon
              button
              class="increment-icon"
              icon="keyboard_arrow_right"
              @click="${()=>this.handleIncrement("right")}"
            ></kor-icon>
          `}
      <!-- functions slot -->
      <slot name="functions"></slot>
    `}handleChange(f){this.value=f.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}handleClear(){this.value=void 0,this.removeAttribute("value"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0}))}handleBlur(f){this.type==="number"&&this.validateMinMax(f.target.value),this.type!=="select"&&(this.active=!1)}handleIncrement(f){f==="left"?this.validateMinMax(parseInt(this.value?this.value:this.min?this.min:"0")-this.step):f==="right"&&this.validateMinMax(parseInt(this.value?this.value:this.min?this.min:"0")+this.step)}handleItems(f){const v=f.target.assignedNodes();v.forEach(m=>{m.tagName==="KOR-MENU-ITEM"&&m.addEventListener("active-changed",b=>{b.target.active&&(v.forEach(_=>{_.active=!1}),b.target.active=!0,this.value=m.label,this.active=!1)})})}attributeChangedCallback(f,v,m){super.attributeChangedCallback(f,v,m),this.dispatchEvent(new Event(f+"-changed")),f==="active"&&this.active&&this.type==="select"&&this.handleMenu()}handleMenu(){const f=this.parentElement,v=()=>{this.active=!1,f==null||f.removeEventListener("wheel",v)};f==null||f.addEventListener("wheel",v)}closeSelectMenu(f){this.type==="select"&&this.active&&(f.stopImmediatePropagation(),this.active=!1)}validateMinMax(f){f&&(this.min&&f<parseInt(this.min)?this.value=this.min:this.max&&f>parseInt(this.max)?this.value=this.max:this.value=f.toString())}getStatusIcon(){let f;switch(this.status){case"error":f="cancel";break;case"warning":f="error";break;case"success":f="check_circle"}return f}getMenuStyles(){return{top:this.getBoundingClientRect().top+this.clientHeight+1+"px",left:this.getBoundingClientRect().left+"px",width:this.clientWidth+"px"}}}u([Object(l.a)({type:String,reflect:!0})],a.prototype,"label",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"icon",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"value",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"name",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"type",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"status",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"condensed",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"active",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"disabled",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"readonly",void 0),u([Object(l.a)({type:Boolean,reflect:!0,attribute:"no-clear"})],a.prototype,"noClear",void 0),u([Object(l.a)({type:Boolean,reflect:!0})],a.prototype,"autofocus",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"pattern",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"min",void 0),u([Object(l.a)({type:String,reflect:!0})],a.prototype,"max",void 0),u([Object(l.a)({type:Number,reflect:!0})],a.prototype,"step",void 0),window.customElements.get("kor-input")||window.customElements.define("kor-input",a)},5:function(n,e,t){t.r(e);var r=t(4);t.d(e,"korIcon",function(){return r.a})},63:function(n,e,t){t.r(e);var r=t(49);t.d(e,"korInput",function(){return r.a})},8:function(n,e,t){t.d(e,"a",function(){return o});var r=t(0),i=t(1),s=t(2),l=(t(5),function(u,a,h,f){var v,m=arguments.length,b=m<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,a,h,f);else for(var _=u.length-1;_>=0;_--)(v=u[_])&&(b=(m<3?v(b):m>3?v(a,h,b):v(a,h))||b);return m>3&&b&&Object.defineProperty(a,h,b),b});class o extends r.a{constructor(){super(...arguments),this.flexDirection="column",this.emptyHeader=!0,this.emptyFunctions=!0,this.emptyFooter=!0}static get styles(){return[s.a,r.b`
        :host {
          display: flex;
          flex-direction: column;
          flex: 1;
          border-radius: var(--border-radius);
          box-sizing: border-box;
          overflow: hidden;
          /* css properties */
          --body-gap: var(--spacing-m);
          --header-gap: var(--spacing-m);
          --functions-gap: var(--spacing-m);
          --footer-gap: var(--spacing-m);
        }
        :host(:not([flat])) {
          background-color: rgb(var(--base-3));
          box-shadow: var(--shadow-1);
          padding: var(--spacing-l);
        }
        /* header */
        slot,
        .header,
        .top {
          display: flex;
          overflow: auto;
        }
        .header,
        slot[name='functions'] {
          height: max-content;
        }
        .header {
          flex: 1;
        }
        .top:not(.empty) {
          padding-bottom: var(--spacing-l);
        }
        slot[name='footer']:not(.empty) {
          padding-top: var(--spacing-l);
        }
        .label {
          flex: 1;
          display: flex;
          gap: var(--spacing-s);
        }
        .label p {
          font: var(--header-1);
          color: var(--text-1);
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          margin: unset;
        }
        /* slots */
        slot[name='functions'] {
          gap: var(--functions-gap);
        }
        slot[name='header'] {
          gap: var(--header-gap);
        }
        slot:not([name]) {
          gap: var(--spacing-m);
        }
        slot[name='header'],
        slot[name='functions'],
        slot[name='footer'] {
          align-items: center;
        }
        /* content */
        slot:not([name]) {
          flex: 1;
          width: 100%;
          padding: 0 var(--spacing-l);
          margin-right: calc(var(--spacing-l) * -1);
          margin-left: calc(var(--spacing-l) * -1);
          gap: var(--body-gap);
        }
        :host([flex-direction='column']) slot:not([name]),
        .header {
          flex-direction: column;
        }
        /* footer */
        slot[name='footer'] {
          justify-content: flex-end;
          gap: var(--footer-gap);
        }
        /* image */
        .image {
          width: calc(100% + 32px);
          margin: calc(var(--spacing-l) * -1) calc(var(--spacing-l) * -1)
            var(--spacing-l) calc(var(--spacing-l) * -1);
        }
      `]}render(){return r.c`
      ${this.image?r.c` <img class="image" src="${this.image}" /> `:""}
      <div
        class="top ${this.emptyHeader&&this.emptyFunctions&&!this.label&&!this.icon?"empty":""}"
      >
        <div class="header">
          ${this.label||this.icon?r.c`
                <div class="label">
                  ${this.icon?r.c` <kor-icon icon="${this.icon}"></kor-icon> `:""}
                  <p>${this.label}</p>
                </div>
                ${this.emptyHeader||!this.label&&!this.icon?"":r.c` <div style="margin-top: var(--spacing-l)"></div> `}
              `:""}
          <slot
            name="header"
            @slotchange="${a=>this.emptyHeader=a.target.assignedNodes().length===0}"
            class="${this.emptyHeader?"empty":""}"
          ></slot>
        </div>
        <slot
          name="functions"
          @slotchange="${a=>this.emptyFunctions=a.target.assignedNodes().length===0}"
        ></slot>
      </div>
      <slot></slot>
      <slot
        name="footer"
        @slotchange="${a=>this.emptyFooter=a.target.assignedNodes().length===0}"
        class="${this.emptyFooter?"empty":""}"
      ></slot>
    `}attributeChangedCallback(a,h,f){super.attributeChangedCallback(a,h,f),this.dispatchEvent(new Event(a+"-changed"))}}l([Object(i.a)({type:String,reflect:!0})],o.prototype,"label",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"icon",void 0),l([Object(i.a)({type:String,reflect:!0})],o.prototype,"image",void 0),l([Object(i.a)({type:String,reflect:!0,attribute:"flex-direction"})],o.prototype,"flexDirection",void 0),l([Object(i.a)({type:Boolean,reflect:!0})],o.prototype,"flat",void 0),l([Object(i.b)()],o.prototype,"emptyHeader",void 0),l([Object(i.b)()],o.prototype,"emptyFunctions",void 0),l([Object(i.b)()],o.prototype,"emptyFooter",void 0),window.customElements.get("kor-card")||window.customElements.define("kor-card",o)},9:function(n,e,t){t.r(e);var r=t(8);t.d(e,"korCard",function(){return r.a})}});function Ry(n){const e=`${n}`.replace(/^[^-.0-9]*/,"").replace(/[^.0-9SsWw]*$/,"");let t=e.startsWith("-")?-1:1;(e.includes("S")||e.includes("s")||e.includes("W")||e.includes("w"))&&(t=-1);const r=e.replace(/^[^.0-9]*/,"").split(/[^.0-9]+/);let i=parseFloat(r[0]),s=parseFloat(r[1]),l=parseFloat(r[2]);isNaN(i)&&(i=0),isNaN(s)&&(s=0),isNaN(l)&&(l=0);const o=Math.abs(i),u=Math.abs(s),a=Math.abs(l);return t*(o+u/60+a/3600)}function $y(n,e,t){return e<n?n:e<t?e:t}class Nm extends da{constructor(){super(),this.disabled=!1,this.value=0,this.min=-360,this.max=360}render(){return Dm`
            <kor-input
                .disabled="${this.disabled}"
                type="text"
                label="Degrees : Minutes : Seconds"
                value="${no(this.value)}"
                no-clear
                tabindex="0"
                @blur="${this._blurHandler}"
                @keyup="${this._blurHandler}"
            ></kor-input>`}_blurHandler(e){(e.type=="blur"||e.type=="keyup"&&["Enter","NumpadEnter"].includes(e.code))&&(this.value=$y(this.min,Ry(e.target.value),this.max),this.shadowRoot.querySelector("kor-input").value=no(this.value))}}Pl(Nm,"properties",{value:{type:Number},min:{type:Number},max:{type:Number},disabled:{type:Boolean}});customElements.define("degree-input",Nm);function Py(n){const t=`${n}`.replace(/^[^0-9]*/,"").replace(/[^0-9]*$/,"").replace(/^[^0-9]*/,"").split(/[^0-9]+/);let r=parseInt(t[0],10),i=parseInt(t[1],10),s=parseInt(t[2],10);isNaN(r)&&(r=0),isNaN(i)&&(i=0),isNaN(s)&&(s=0),25*3600<r*3600+i*60+s&&(r=24,i=0,s=0);const l=Math.abs(r),o=Math.abs(i),u=Math.abs(s);return{h:l,m:o,s:u}}function R1({h:n,m:e,s:t}){return`${n<10?"0":""}${n} : ${e<10?"0":""}${e} : ${t<10?"0":""}${t}`}class Om extends da{constructor(){super(),this.value={h:0,m:0,s:0}}render(){return Dm`
            <kor-input
                type="text"
                label="Hours : Minutes : Seconds"
                value="${R1(this.value)}"
                no-clear
                tabindex="0"
                @blur="${this._blurHandler}"
                @keyup="${this._blurHandler}"
            ></kor-input>`}_blurHandler(e){(e.type=="blur"||e.type=="keyup"&&["Enter","NumpadEnter"].includes(e.code))&&(this.value=Py(e.target.value),this.shadowRoot.querySelector("kor-input").value=R1(this.value))}}Pl(Om,"properties",{value:{type:Object,reflect:!1}});customElements.define("time-input",Om);
